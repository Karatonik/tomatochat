"use strict";var nCe=Object.defineProperty,iCe=Object.defineProperties,rCe=Object.getOwnPropertyDescriptors,uG=Object.getOwnPropertySymbols,sCe=Object.prototype.hasOwnProperty,oCe=Object.prototype.propertyIsEnumerable,dG=(se,tn,Vn)=>tn in se?nCe(se,tn,{enumerable:!0,configurable:!0,writable:!0,value:Vn}):se[tn]=Vn,hG=(se,tn)=>{for(var Vn in tn||(tn={}))sCe.call(tn,Vn)&&dG(se,Vn,tn[Vn]);if(uG)for(var Vn of uG(tn))oCe.call(tn,Vn)&&dG(se,Vn,tn[Vn]);return se},fG=(se,tn)=>iCe(se,rCe(tn));(self.webpackChunkangular_chat_app=self.webpackChunkangular_chat_app||[]).push([[179],{67:()=>{function se(n){return"function"==typeof n}function tn(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Vn=tn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Za(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(se(i))try{i()}catch(s){e=s instanceof Vn?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{BM(s)}catch(o){e=null!=e?e:[],o instanceof Vn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BM(e);else{if(e instanceof nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Za(t,e)}remove(e){const{_finalizers:t}=this;t&&Za(t,e),e instanceof nt&&e._removeParent(this)}}nt.EMPTY=(()=>{const n=new nt;return n.closed=!0,n})();const LM=nt.EMPTY;function VM(n){return n instanceof nt||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function BM(n){se(n)?n():n.unsubscribe()}const Ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lf={setTimeout(n,e,...t){const{delegate:i}=lf;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=lf;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function UM(n){lf.setTimeout(()=>{const{onUnhandledError:e}=Ao;if(!e)throw n;e(n)})}function Zc(){}const pG=dy("C",void 0,void 0);function dy(n,e,t){return{kind:n,value:e,error:t}}let Mo=null;function cf(n){if(Ao.useDeprecatedSynchronousErrorHandling){const e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Mo;if(Mo=null,t)throw i}}else n()}class hy extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,VM(e)&&e.add(this)):this.destination=wG}static create(e,t,i){return new Jc(e,t,i)}next(e){this.isStopped?py(function gG(n){return dy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?py(function mG(n){return dy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?py(pG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yG=Function.prototype.bind;function fy(n,e){return yG.call(n,e)}class vG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){uf(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){uf(i)}else uf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){uf(t)}}}class Jc extends hy{constructor(e,t,i){let r;if(super(),se(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let s;this&&Ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&fy(e.next,s),error:e.error&&fy(e.error,s),complete:e.complete&&fy(e.complete,s)}):r=e}this.destination=new vG(r)}}function uf(n){Ao.useDeprecatedSynchronousErrorHandling?function _G(n){Ao.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=n)}(n):UM(n)}function py(n,e){const{onStoppedNotification:t}=Ao;t&&lf.setTimeout(()=>t(n,e))}const wG={closed:!0,next:Zc,error:function bG(n){throw n},complete:Zc},my="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rs(n){return n}function jM(...n){return HM(n)}function HM(n){return 0===n.length?Rs:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function CG(n){return n&&n instanceof hy||function EG(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}(n)&&VM(n)}(t)?t:new Jc(t,i,r);return cf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=$M(i))((r,s)=>{const o=new Jc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[my](){return this}pipe(...t){return HM(t)(this)}toPromise(t){return new(t=$M(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function $M(n){var e;return null!==(e=null!=n?n:Ao.Promise)&&void 0!==e?e:Promise}const IG=tn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ge=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new zM(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new IG}next(t){cf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){cf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){cf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?LM:(this.currentObservers=null,s.push(t),new nt(()=>{this.currentObservers=null,Za(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new zM(e,t),n})();class zM extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:LM}}function qM(n){return se(null==n?void 0:n.lift)}function mt(n){return e=>{if(qM(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(n,e,t,i,r){return new TG(n,e,t,i,r)}class TG extends hy{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function K(n,e){return mt((t,i)=>{let r=0;t.subscribe(it(i,s=>{i.next(n.call(e,s,r++))}))})}function _y(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function xo(n){return this instanceof xo?(this.v=n,this):new xo(n)}function MG(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof xo?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function xG(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function KM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const yy=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function YM(n){return se(null==n?void 0:n.then)}function QM(n){return se(n[my])}function XM(n){return Symbol.asyncIterator&&se(null==n?void 0:n[Symbol.asyncIterator])}function ZM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JM=function RG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ex(n){return se(null==n?void 0:n[JM])}function tx(n){return MG(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield xo(t.read());if(r)return yield xo(void 0);yield yield xo(i)}}finally{t.releaseLock()}})}function nx(n){return se(null==n?void 0:n.getReader)}function fn(n){if(n instanceof Be)return n;if(null!=n){if(QM(n))return function OG(n){return new Be(e=>{const t=n[my]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yy(n))return function PG(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(YM(n))return function NG(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,UM)})}(n);if(XM(n))return ix(n);if(ex(n))return function FG(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(nx(n))return function LG(n){return ix(tx(n))}(n)}throw ZM(n)}function ix(n){return new Be(e=>{(function VG(n,e){var t,i,r,s;return function SG(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=xG(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gr(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function vt(n,e,t=1/0){return se(e)?vt((i,r)=>K((s,o)=>e(i,s,r,o))(fn(n(i,r))),t):("number"==typeof e&&(t=e),mt((i,r)=>function BG(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let _=!1;fn(t(m,u++)).subscribe(it(e,b=>{null==r||r(b),s?f(b):e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const b=l.shift();o?Gr(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(it(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(i,r,n,t)))}function eu(n=1/0){return vt(Rs,n)}const Qi=new Be(n=>n.complete());function rx(n){return n&&se(n.schedule)}function vy(n){return n[n.length-1]}function sx(n){return se(vy(n))?n.pop():void 0}function tu(n){return rx(vy(n))?n.pop():void 0}function df(n,e=0){return mt((t,i)=>{t.subscribe(it(i,r=>Gr(i,n,()=>i.next(r),e),()=>Gr(i,n,()=>i.complete(),e),r=>Gr(i,n,()=>i.error(r),e)))})}function hf(n,e=0){return mt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function ox(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Gr(t,e,()=>{const i=n[Symbol.asyncIterator]();Gr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function lt(n,e){return e?function WG(n,e){if(null!=n){if(QM(n))return function HG(n,e){return fn(n).pipe(hf(e),df(e))}(n,e);if(yy(n))return function zG(n,e){return new Be(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(YM(n))return function $G(n,e){return fn(n).pipe(hf(e),df(e))}(n,e);if(XM(n))return ox(n,e);if(ex(n))return function qG(n,e){return new Be(t=>{let i;return Gr(t,e,()=>{i=n[JM](),Gr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>se(null==i?void 0:i.return)&&i.return()})}(n,e);if(nx(n))return function GG(n,e){return ox(tx(n),e)}(n,e)}throw ZM(n)}(n,e):fn(n)}function xi(...n){const e=tu(n),t=function jG(n,e){return"number"==typeof vy(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?fn(i[0]):eu(t)(lt(i,e)):Qi}function ax(n={}){const{connector:e=(()=>new ge),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return mt((m,_)=>{c++,!d&&!u&&h();const b=l=null!=l?l:e();_.add(()=>{c--,0===c&&!d&&!u&&(a=by(p,r))}),b.subscribe(_),!o&&c>0&&(o=new Jc({next:v=>b.next(v),error:v=>{d=!0,h(),a=by(f,t,v),b.error(v)},complete:()=>{u=!0,h(),a=by(f,i),b.complete()}}),fn(m).subscribe(o))})(s)}}function by(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Jc({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function wy(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ey(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const KG=We({__forward_ref__:We});function ze(n){return n.__forward_ref__=ze,n.toString=function(){return $e(this())},n}function _e(n){return lx(n)?n():n}function lx(n){return"function"==typeof n&&n.hasOwnProperty(KG)&&n.__forward_ref__===ze}class z extends Error{constructor(e,t){super(function Cy(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function pn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}function ff(n,e){const t=e?` in ${e}`:"";throw new z(-201,`No provider for ${pn(n)} found${t}`)}function fi(n,e){null==n&&function Ke(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function Iy(n){return cx(n,pf)||cx(n,dx)}function cx(n,e){return n.hasOwnProperty(e)?n[e]:null}function ux(n){return n&&(n.hasOwnProperty(Ty)||n.hasOwnProperty(tW))?n[Ty]:null}const pf=We({\u0275prov:We}),Ty=We({\u0275inj:We}),dx=We({ngInjectableDef:We}),tW=We({ngInjectorDef:We});var oe=(()=>((oe=oe||{})[oe.Default=0]="Default",oe[oe.Host=1]="Host",oe[oe.Self=2]="Self",oe[oe.SkipSelf=4]="SkipSelf",oe[oe.Optional=8]="Optional",oe))();let Dy;function Os(n){const e=Dy;return Dy=n,e}function hx(n,e,t){const i=Iy(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&oe.Optional?null:void 0!==e?e:void ff($e(n),"Injector")}function Ps(n){return{toString:n}.toString()}var Xi=(()=>((Xi=Xi||{})[Xi.OnPush=0]="OnPush",Xi[Xi.Default=1]="Default",Xi))(),Zi=(()=>{return(n=Zi||(Zi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Zi;var n})();const iW="undefined"!=typeof globalThis&&globalThis,rW="undefined"!=typeof window&&window,sW="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qe=iW||"undefined"!=typeof global&&global||rW||sW,Ja={},Ye=[],mf=We({\u0275cmp:We}),Sy=We({\u0275dir:We}),gf=We({\u0275pipe:We}),fx=We({\u0275mod:We}),Kr=We({\u0275fac:We}),nu=We({__NG_ELEMENT_ID__:We});let oW=0;function He(n){return Ps(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Zi.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=oW++,i.inputs=_x(n.inputs,t),i.outputs=_x(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(px):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(mx):null,i})}function px(n){return Sn(n)||function Ns(n){return n[Sy]||null}(n)}function mx(n){return function ko(n){return n[gf]||null}(n)}const gx={};function we(n){return Ps(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gx[n.id]=n.type),e})}function _x(n,e){if(null==n)return Ja;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const $=He;function Bn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Sn(n){return n[mf]||null}function ki(n,e){const t=n[fx]||null;if(!t&&!0===e)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return t}function pr(n){return Array.isArray(n)&&"object"==typeof n[1]}function er(n){return Array.isArray(n)&&!0===n[1]}function xy(n){return 0!=(8&n.flags)}function bf(n){return 2==(2&n.flags)}function wf(n){return 1==(1&n.flags)}function tr(n){return null!==n.template}function hW(n){return 0!=(512&n[2])}function No(n,e){return n.hasOwnProperty(Kr)?n[Kr]:null}class mW{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mn(){return vx}function vx(n){return n.type.prototype.ngOnChanges&&(n.setInput=_W),gW}function gW(){const n=wx(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ja)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function _W(n,e,t,i){const r=wx(n)||function yW(n,e){return n[bx]=e}(n,{previous:Ja,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new mW(l&&l.currentValue,e,o===Ja),n[i]=e}Mn.ngInherit=!0;const bx="__ngSimpleChanges__";function wx(n){return n[bx]||null}let Ny;function Fy(){return void 0!==Ny?Ny:"undefined"!=typeof document?document:void 0}function bt(n){return!!n.listen}const Ex={createRenderer:(n,e)=>Fy()};function Vt(n){for(;Array.isArray(n);)n=n[0];return n}function Ef(n,e){return Vt(e[n])}function Pi(n,e){return Vt(e[n.index])}function Ly(n,e){return n.data[e]}function rl(n,e){return n[e]}function mi(n,e){const t=e[n];return pr(t)?t:t[0]}function Cx(n){return 4==(4&n[2])}function Vy(n){return 128==(128&n[2])}function Fs(n,e){return null==e?null:n[e]}function Ix(n){n[18]=0}function By(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ue={lFrame:Ox(null),bindingsEnabled:!0};function Dx(){return ue.bindingsEnabled}function S(){return ue.lFrame.lView}function ke(){return ue.lFrame.tView}function Un(n){return ue.lFrame.contextLView=n,n[8]}function zt(){let n=Sx();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sx(){return ue.lFrame.currentTNode}function mr(n,e){const t=ue.lFrame;t.currentTNode=n,t.isParent=e}function Uy(){return ue.lFrame.isParent}function jy(){ue.lFrame.isParent=!1}function jn(){const n=ue.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sl(){return ue.lFrame.bindingIndex++}function NW(n,e){const t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hy(e)}function Hy(n){ue.lFrame.currentDirectiveIndex=n}function xx(){return ue.lFrame.currentQueryIndex}function zy(n){ue.lFrame.currentQueryIndex=n}function LW(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function kx(n,e,t){if(t&oe.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&oe.Host||(r=LW(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=ue.lFrame=Rx();return i.currentTNode=e,i.lView=n,!0}function If(n){const e=Rx(),t=n[1];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Rx(){const n=ue.lFrame,e=null===n?null:n.child;return null===e?Ox(n):e}function Ox(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Px(){const n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Nx=Px;function Tf(){const n=Px();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hn(){return ue.lFrame.selectedIndex}function Ls(n){ue.lFrame.selectedIndex=n}function wt(){const n=ue.lFrame;return Ly(n.tView,n.selectedIndex)}function Df(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Sf(n,e,t){Lx(n,e,3,t)}function Af(n,e,t,i){(3&n[2])===t&&Lx(n,e,t,i)}function qy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Lx(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(qW(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function qW(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class au{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Mf(n,e,t){const i=bt(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];Wy(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Vx(n){return 3===n||4===n||6===n}function Wy(n){return 64===n.charCodeAt(0)}function xf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Bx(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Bx(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Ux(n){return-1!==n}function ol(n){return 32767&n}function al(n,e){let t=function QW(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Ky=!0;function kf(n){const e=Ky;return Ky=n,e}let XW=0;function cu(n,e){const t=Qy(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Yy(i.data,n),Yy(e,null),Yy(i.blueprint,null));const r=Rf(n,e),s=n.injectorIndex;if(Ux(r)){const o=ol(r),a=al(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Yy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Rf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Of(n,e,t){!function ZW(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(nu)&&(i=t[nu]),null==i&&(i=t[nu]=XW++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function $x(n,e,t){if(t&oe.Optional)return n;ff(e,"NodeInjector")}function zx(n,e,t,i){if(t&oe.Optional&&void 0===i&&(i=null),0==(t&(oe.Self|oe.Host))){const r=n[9],s=Os(void 0);try{return r?r.get(e,i,t&oe.Optional):hx(e,i,t&oe.Optional)}finally{Os(s)}}return $x(i,e,t)}function qx(n,e,t,i=oe.Default,r){if(null!==n){const s=function n4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(nu)?n[nu]:void 0;return"number"==typeof e?e>=0?255&e:e4:e}(t);if("function"==typeof s){if(!kx(e,n,i))return i&oe.Host?$x(r,t,i):zx(e,t,i,r);try{const o=s(i);if(null!=o||i&oe.Optional)return o;ff(t)}finally{Nx()}}else if("number"==typeof s){let o=null,a=Qy(n,e),l=-1,c=i&oe.Host?e[16][6]:null;for((-1===a||i&oe.SkipSelf)&&(l=-1===a?Rf(n,e):e[a+8],-1!==l&&Kx(i,!1)?(o=e[1],a=ol(l),e=al(l,e)):a=-1);-1!==a;){const u=e[1];if(Wx(s,a,u.data)){const d=t4(a,e,t,o,i,c);if(d!==Gx)return d}l=e[a+8],-1!==l&&Kx(i,e[1].data[a+8]===c)&&Wx(s,a,e)?(o=u,a=ol(l),e=al(l,e)):a=-1}}}return zx(e,t,i,r)}const Gx={};function e4(){return new ll(zt(),S())}function t4(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=Pf(a,o,t,null==i?bf(a)&&Ky:i!=o&&0!=(3&a.type),r&oe.Host&&s===a);return null!==u?uu(e,o,u,a):Gx}function Pf(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&tr(f)&&f.type===t)return l}return null}function uu(n,e,t,i){let r=n[t];const s=e.data;if(function GW(n){return n instanceof au}(r)){const o=r;o.resolving&&function YG(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${t}`)}(pn(s[t]));const a=kf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Os(o.injectImpl):null;kx(n,i,oe.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function zW(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=vx(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Os(l),kf(a),o.resolving=!1,Nx()}}return r}function Wx(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Kx(n,e){return!(n&oe.Self||n&oe.Host&&e)}class ll{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return qx(this._tNode,this._lView,e,i,t)}}function qt(n){return Ps(()=>{const e=n.prototype.constructor,t=e[Kr]||Xy(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Kr]||Xy(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Xy(n){return lx(n)?()=>{const e=Xy(_e(n));return e&&e()}:No(n)}function Bs(n){return function JW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Vx(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(zt(),n)}const ul="__parameters__";function hl(n,e,t){return Ps(()=>{const i=function Zy(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ul)?l[ul]:Object.defineProperty(l,ul,{value:[]})[ul];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class F{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const r4=new F("AnalyzeForEntryComponents");function Ni(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Ni(i,e)):e!==n&&e.push(i)}return e}function gr(n,e){n.forEach(t=>Array.isArray(t)?gr(t,e):e(t))}function Qx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function gi(n,e,t){let i=fl(n,e);return i>=0?n[1|i]=t:(i=~i,function a4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function ev(n,e){const t=fl(n,e);if(t>=0)return n[1|t]}function fl(n,e){return function Jx(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const pu={},nv="__NG_DI_FLAG__",Lf="ngTempTokenPath",p4=/\n/gm,tk="__source",g4=We({provide:String,useValue:We});let mu;function nk(n){const e=mu;return mu=n,e}function _4(n,e=oe.Default){if(void 0===mu)throw new z(203,"");return null===mu?hx(n,void 0,e):mu.get(n,e&oe.Optional?null:void 0,e)}function C(n,e=oe.Default){return(function nW(){return Dy}()||_4)(_e(n),e)}const Vf=C;function iv(n){const e=[];for(let t=0;t<n.length;t++){const i=_e(n[t]);if(Array.isArray(i)){if(0===i.length)throw new z(900,"");let r,s=oe.Default;for(let o=0;o<i.length;o++){const a=i[o],l=y4(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(C(r,s))}else e.push(C(i))}return e}function gu(n,e){return n[nv]=e,n.prototype[nv]=e,n}function y4(n){return n[nv]}const Bf=gu(hl("Inject",n=>({token:n})),-1),Ze=gu(hl("Optional"),8),pl=gu(hl("SkipSelf"),4);let jf,Hf;function gl(n){var e;return(null===(e=function sv(){if(void 0===jf&&(jf=null,qe.trustedTypes))try{jf=qe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return jf}())||void 0===e?void 0:e.createHTML(n))||n}function lk(n){var e;return(null===(e=function ov(){if(void 0===Hf&&(Hf=null,qe.trustedTypes))try{Hf=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Hf}())||void 0===e?void 0:e.createHTML(n))||n}class Fo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class k4 extends Fo{getTypeName(){return"HTML"}}class R4 extends Fo{getTypeName(){return"Style"}}class O4 extends Fo{getTypeName(){return"Script"}}class P4 extends Fo{getTypeName(){return"URL"}}class N4 extends Fo{getTypeName(){return"ResourceURL"}}function _i(n){return n instanceof Fo?n.changingThisBreaksApplicationSecurity:n}function _r(n,e){const t=dk(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function dk(n){return n instanceof Fo&&n.getTypeName()||null}class j4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(gl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class H4{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=gl(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=gl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const z4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,q4=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yu(n){return(n=String(n)).match(z4)||n.match(q4)?n:"unsafe:"+n}function fk(n){return(n=String(n)).split(",").map(e=>yu(e.trim())).join(", ")}function yr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function vu(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const pk=yr("area,br,col,hr,img,wbr"),mk=yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gk=yr("rp,rt"),av=vu(pk,vu(mk,yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vu(gk,yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vu(gk,mk)),lv=yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cv=yr("srcset"),_k=vu(lv,cv,yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G4=yr("script,style,template");class W4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!av.hasOwnProperty(t))return this.sanitizedSomething=!0,!G4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!_k.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;lv[a]&&(l=yu(l)),cv[a]&&(l=fk(l)),this.buf.push(" ",o,'="',yk(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();av.hasOwnProperty(t)&&!pk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(yk(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const K4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Y4=/([^\#-~ |!])/g;function yk(n){return n.replace(/&/g,"&amp;").replace(K4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Y4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $f;function vk(n,e){let t=null;try{$f=$f||function hk(n){const e=new H4(n);return function $4(){try{return!!(new window.DOMParser).parseFromString(gl(""),"text/html")}catch(n){return!1}}()?new j4(e):e}(n);let i=e?String(e):"";t=$f.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=$f.getInertBodyElement(i)}while(i!==s);return gl((new W4).sanitizeChildren(uv(t)||t))}finally{if(t){const i=uv(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function uv(n){return"content"in n&&function Q4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var je=(()=>((je=je||{})[je.NONE=0]="NONE",je[je.HTML=1]="HTML",je[je.STYLE=2]="STYLE",je[je.SCRIPT=3]="SCRIPT",je[je.URL=4]="URL",je[je.RESOURCE_URL=5]="RESOURCE_URL",je))();function bk(n){const e=bu();return e?lk(e.sanitize(je.HTML,n)||""):_r(n,"HTML")?lk(_i(n)):vk(Fy(),ce(n))}function Lo(n){const e=bu();return e?e.sanitize(je.URL,n)||"":_r(n,"URL")?_i(n):yu(ce(n))}function bu(){const n=S();return n&&n[12]}const Ck="__ngContext__";function kn(n,e){n[Ck]=e}function hv(n){const e=function wu(n){return n[Ck]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function pv(n){return n.ngOriginalError}function h6(n,...e){n.error(...e)}class Us{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function d6(n){return n&&n.ngErrorLogger||h6}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pv(e);for(;t&&pv(t);)t=pv(t);return t||null}}const E6=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qe))();function vr(n){return n instanceof Function?n():n}var yi=(()=>((yi=yi||{})[yi.Important=1]="Important",yi[yi.DashCase=2]="DashCase",yi))();function gv(n,e){return undefined(n,e)}function Eu(n){const e=n[3];return er(e)?e[3]:e}function _v(n){return Rk(n[13])}function yv(n){return Rk(n[4])}function Rk(n){for(;null!==n&&!er(n);)n=n[4];return n}function yl(n,e,t,i,r){if(null!=i){let s,o=!1;er(i)?s=i:pr(i)&&(o=!0,i=i[0]);const a=Vt(i);0===n&&null!==t?null==r?Vk(e,t,a):Vo(e,t,a,r||null,!0):1===n&&null!==t?Vo(e,t,a,r||null,!0):2===n?function qk(n,e,t){const i=zf(n,e);i&&function F6(n,e,t,i){bt(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function B6(n,e,t,i,r){const s=t[7];s!==Vt(t)&&yl(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];Cu(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function bv(n,e,t){if(bt(n))return n.createElement(e,t);{const i=null!==t?function EW(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?n.createElement(e):n.createElementNS(i,e)}}function Pk(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,By(r,-1)),t.splice(i,1)}function wv(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&Pk(r,i),e>0&&(n[t-1][4]=i[4]);const s=Nf(n,10+e);!function A6(n,e){Cu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Nk(n,e){if(!(256&e[2])){const t=e[11];bt(t)&&t.destroyNode&&Cu(n,e,t,3,null,null),function k6(n){let e=n[13];if(!e)return Ev(n[1],n);for(;e;){let t=null;if(pr(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)pr(e)&&Ev(e[1],e),e=e[3];null===e&&(e=n),pr(e)&&Ev(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ev(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function N6(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof au)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function P6(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Vt(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&bt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&er(e[3])){t!==e[3]&&Pk(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function Fk(n,e,t){return function Lk(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Zi.None||r===Zi.Emulated)return null}return Pi(i,t)}(n,e.parent,t)}function Vo(n,e,t,i,r){bt(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function Vk(n,e,t){bt(n)?n.appendChild(e,t):e.appendChild(t)}function Bk(n,e,t,i,r){null!==i?Vo(n,e,t,i,r):Vk(n,e,t)}function zf(n,e){return bt(n)?n.parentNode(e):e.parentNode}function Uk(n,e,t){return Hk(n,e,t)}let Hk=function jk(n,e,t){return 40&n.type?Pi(n,t):null};function qf(n,e,t,i){const r=Fk(n,i,e),s=e[11],a=Uk(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Bk(s,r,t[l],a,!1);else Bk(s,r,t,a,!1)}function Gf(n,e){if(null!==e){const t=e.type;if(3&t)return Pi(e,n);if(4&t)return Iv(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Gf(n,i);{const r=n[e.index];return er(r)?Iv(-1,r):Vt(r)}}if(32&t)return gv(e,n)()||Vt(n[e.index]);{const i=zk(n,e);return null!==i?Array.isArray(i)?i[0]:Gf(Eu(n[16]),i):Gf(n,e.next)}}return null}function zk(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Iv(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Gf(i,r)}return e[7]}function Tv(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&kn(Vt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)Tv(n,e,t.child,i,r,s,!1),yl(e,n,r,a,s);else if(32&l){const c=gv(t,i);let u;for(;u=c();)yl(e,n,r,u,s);yl(e,n,r,a,s)}else 16&l?Gk(n,e,i,t,r,s):yl(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Cu(n,e,t,i,r,s){Tv(t,i,n.firstChild,e,r,s,!1)}function Gk(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)yl(e,n,r,l[c],s);else Tv(n,e,l,o[3],r,s,!0)}function Wk(n,e,t){bt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Dv(n,e,t){bt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Kk(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const Yk="ng-template";function j6(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==Kk(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Qk(n){return 4===n.type&&n.value!==Yk}function H6(n,e,t){return e===(4!==n.type||t?n.value:Yk)}function $6(n,e,t){let i=4;const r=n.attrs||[],s=function G6(n){for(let e=0;e<n.length;e++)if(Vx(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!H6(n,l,t)||""===l&&1===e.length){if(nr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!j6(n.attrs,c,t)){if(nr(i))return!1;o=!0}continue}const d=z6(8&i?"class":l,r,Qk(n),t);if(-1===d){if(nr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==Kk(f,c,0)||2&i&&c!==h){if(nr(i))return!1;o=!0}}}}else{if(!o&&!nr(i)&&!nr(l))return!1;if(o&&nr(l))continue;o=!1,i=l|1&i}}return nr(i)||o}function nr(n){return 0==(1&n)}function z6(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function W6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Xk(n,e,t=!1){for(let i=0;i<e.length;i++)if($6(n,e[i],t))return!0;return!1}function K6(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Zk(n,e){return n?":not("+e.trim()+")":e}function Y6(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!nr(o)&&(e+=Zk(s,r),r=""),i=o,s=s||!nr(i);t++}return""!==r&&(e+=Zk(s,r)),e}const de={};function N(n){Jk(ke(),S(),Hn()+n,!1)}function Jk(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Sf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Af(e,s,0,t)}Ls(t)}function Wf(n,e){return n<<17|e<<2}function ir(n){return n>>17&32767}function Sv(n){return 2|n}function Xr(n){return(131068&n)>>2}function Av(n,e){return-131069&n|e<<2}function Mv(n){return 1|n}function uR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];zy(r),o.contentQueries(2,e[s],s)}}}function Iu(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Ix(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function vl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Vv(n,e,t,i,r){const s=Sx(),o=Uy(),l=n.data[e]=function f8(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),function PW(){return ue.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function ou(){const n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mr(s,!0),s}function bl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Tu(n,e,t){If(e);try{const i=n.viewQuery;null!==i&&Wv(1,i,t);const r=n.template;null!==r&&dR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uR(n,e),n.staticViewQueries&&Wv(2,n.viewQuery,t);const s=n.components;null!==s&&function u8(n,e){for(let t=0;t<e.length;t++)k8(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Tf()}}function wl(n,e,t,i){const r=e[2];if(256!=(256&r)){If(e);try{Ix(e),function Ax(n){return ue.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&dR(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Sf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Af(e,c,0,null),qy(e,0)}if(function M8(n){for(let e=_v(n);null!==e;e=yv(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&By(s,1),r[2]|=1024}}}(e),function A8(n){for(let e=_v(n);null!==e;e=yv(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Vy(i)&&wl(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&uR(n,e),o){const c=n.contentCheckHooks;null!==c&&Sf(e,c)}else{const c=n.contentHooks;null!==c&&Af(e,c,1),qy(e,1)}!function l8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ls(~r);else{const s=r,o=t[++i],a=t[++i];NW(o,s),a(2,e[s])}}}finally{Ls(-1)}}(n,e);const a=n.components;null!==a&&function c8(n,e){for(let t=0;t<e.length;t++)x8(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Wv(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Sf(e,c)}else{const c=n.viewHooks;null!==c&&Af(e,c,2),qy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,By(e[3],-1))}finally{Tf()}}}function d8(n,e,t,i){const r=e[10],o=Cx(e);try{!o&&r.begin&&r.begin(),o&&Tu(n,e,i),wl(n,e,t,i)}finally{!o&&r.end&&r.end()}}function dR(n,e,t,i,r){const s=Hn(),o=2&i;try{Ls(-1),o&&e.length>20&&Jk(n,e,20,!1),t(i,r)}finally{Ls(s)}}function hR(n,e,t){if(xy(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Bv(n,e,t){!Dx()||(function b8(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||cu(t,e),kn(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=tr(l);c&&T8(e,t,l);const u=uu(e,n,a,t);kn(u,e),null!==o&&D8(0,a-r,u,l,0,o),c&&(mi(t.index,e)[8]=u)}}(n,e,t,Pi(t,e)),128==(128&t.flags)&&function w8(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=function FW(){return ue.lFrame.currentDirectiveIndex}();try{Ls(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];Hy(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&bR(c,u)}}finally{Ls(-1),Hy(a)}}(n,e,t))}function Uv(n,e,t=Pi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function fR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Qf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Qf(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function h8(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:de);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function gR(n,e,t,i){const r=DR(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&SR(n).push(i,r.length-1))}function _R(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function vi(n,e,t,i,r,s,o,a){const l=Pi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(xR(n,t,u,i,r),bf(e)&&function g8(n,e){const t=mi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function m8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,bt(s)?s.setProperty(l,i,r):Wy(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function jv(n,e,t,i){let r=!1;if(Dx()){const s=function E8(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Xk(t,o.selectors,!1)&&(r||(r=[]),Of(cu(t,e),n,o.type),tr(o)?(wR(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,ER(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=bl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=xf(t.mergedAttrs,d.hostAttrs),CR(n,t,e,c,d),I8(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function p8(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||Qk(e)?null:S8(d,s);o.push(h),a=_R(d,c,a),l=_R(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function C8(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new z(-301,!1);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=xf(t.mergedAttrs,t.attrs),r}function vR(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function v8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function bR(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function wR(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function I8(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;tr(e)&&(t[""]=n)}}function ER(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CR(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=No(r.type)),o=new au(s,tr(r),null);n.blueprint[i]=o,t[i]=o,vR(n,e,0,i,bl(n,t,r.hostVars,de),r)}function T8(n,e,t){const i=Pi(e,n),r=fR(t),s=n[10],o=Xf(n,Iu(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function br(n,e,t,i,r,s){const o=Pi(n,e);!function Hv(n,e,t,i,r,s,o){if(null==s)bt(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?ce(s):o(s,i||"",r);bt(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function D8(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function S8(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function IR(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function x8(n,e){const t=mi(e,n);if(Vy(t)){const i=t[1];80&t[2]?wl(i,t,i.template,t[8]):t[5]>0&&$v(t)}}function $v(n){for(let i=_v(n);null!==i;i=yv(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];wl(o,s,o.template,s[8])}else s[5]>0&&$v(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=mi(t[i],n);Vy(r)&&r[5]>0&&$v(r)}}function k8(n,e){const t=mi(e,n),i=t[1];(function R8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Tu(i,t,t[8])}function Xf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function zv(n){for(;n;){n[2]|=64;const e=Eu(n);if(hW(n)&&!e)return n;n=e}return null}function TR(n){!function qv(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=hv(t),r=i[1];d8(r,i,r.template,t)}}(n[8])}function Wv(n,e,t){zy(0),e(n,t)}const P8=(()=>Promise.resolve(null))();function DR(n){return n[7]||(n[7]=[])}function SR(n){return n.cleanup||(n.cleanup=[])}function MR(n,e){const t=n[9],i=t?t.get(Us,null):null;i&&i.handleError(e)}function xR(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Zr(n,e,t){const i=Ef(e,n);!function Ok(n,e,t){bt(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Zf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Ey(r,a):2==s&&(i=Ey(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Kv=new F("INJECTOR",-1);class kR{get(e,t=pu){if(t===pu){const i=new Error(`NullInjectorError: No provider for ${$e(e)}!`);throw i.name="NullInjectorError",i}return t}}const Yv=new F("Set Injector scope."),Du={},L8={};let Qv;function RR(){return void 0===Qv&&(Qv=new kR),Qv}function OR(n,e=null,t=null,i){const r=PR(n,e,t,i);return r._resolveInjectorDefTypes(),r}function PR(n,e=null,t=null,i){return new V8(n,t,e||RR(),i)}class V8{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&gr(t,a=>this.processProvider(a,e,t)),gr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Kv,El(void 0,this));const o=this.records.get(Yv);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:$e(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=pu,i=oe.Default){this.assertNotDestroyed();const r=nk(this),s=Os(void 0);try{if(!(i&oe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function G8(n){return"function"==typeof n||"object"==typeof n&&n instanceof F}(e)&&Iy(e);a=l&&this.injectableDefInScope(l)?El(Xv(e),Du):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&oe.Self?RR():this.parent).get(e,t=i&oe.Optional&&t===pu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Lf]=o[Lf]||[]).unshift($e(e)),r)throw o;return function v4(n,e,t,i){const r=n[Lf];throw e[tk]&&r.unshift(e[tk]),n.message=function b4(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=$e(e);if(Array.isArray(e))r=e.map($e).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$e(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(p4,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Lf]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Os(s),nk(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push($e(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processInjectorType(e,t,i){if(!(e=_e(e)))return!1;let r=ux(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=ux(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{gr(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];gr(f,p=>this.processProvider(p,h,f||Ye))}}this.injectorDefTypes.add(o);const l=No(o)||(()=>new o);this.records.set(o,El(l,Du));const c=r.providers;if(null!=c&&!a){const u=e;gr(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Cl(e=_e(e))?e:_e(e&&e.provide);const s=function U8(n,e,t){return FR(n)?El(void 0,n.useValue):El(NR(n),Du)}(e);if(Cl(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=El(void 0,Du,!0),o.factory=()=>iv(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Du&&(t.value=L8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function q8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_e(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Xv(n){const e=Iy(n),t=null!==e?e.factory:No(n);if(null!==t)return t;if(n instanceof F)throw new z(204,!1);if(n instanceof Function)return function B8(n){const e=n.length;if(e>0)throw fu(e,"?"),new z(204,!1);const t=function JG(n){const e=n&&(n[pf]||n[dx]);if(e){const t=function eW(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function NR(n,e,t){let i;if(Cl(n)){const r=_e(n);return No(r)||Xv(r)}if(FR(n))i=()=>_e(n.useValue);else if(function H8(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...iv(n.deps||[]));else if(function j8(n){return!(!n||!n.useExisting)}(n))i=()=>C(_e(n.useExisting));else{const r=_e(n&&(n.useClass||n.provide));if(!function z8(n){return!!n.deps}(n))return No(r)||Xv(r);i=()=>new r(...iv(n.deps))}return i}function El(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function FR(n){return null!==n&&"object"==typeof n&&g4 in n}function Cl(n){return"function"==typeof n}let rt=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return OR({name:""},i,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return OR({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=pu,n.NULL=new kR,n.\u0275prov=j({token:n,providedIn:"any",factory:()=>C(Kv)}),n.__NG_ELEMENT_ID__=-1,n})();function e5(n,e){Df(hv(n)[1],zt())}function he(n){let e=function KR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(tr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,"");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=eb(n.inputs),o.declaredInputs=eb(n.declaredInputs),o.outputs=eb(n.outputs);const a=r.hostBindings;a&&s5(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&n5(n,l),c&&r5(n,c),wy(n.inputs,r.inputs),wy(n.declaredInputs,r.declaredInputs),wy(n.outputs,r.outputs),tr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===he&&(t=!1)}}e=Object.getPrototypeOf(e)}!function t5(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xf(r.hostAttrs,t=xf(t,r.hostAttrs))}}(i)}function eb(n){return n===Ja?{}:n===Ye?[]:n}function n5(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function r5(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function s5(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Jf=null;function Il(){if(!Jf){const n=qe.Symbol;if(n&&n.iterator)Jf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Jf=i)}}}return Jf}function Su(n){return!!tb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Il()in n)}function tb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wr(n,e,t){return n[e]=t}function Rn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Je(n,e,t,i){const r=S();return Rn(r,sl(),e)&&(ke(),br(wt(),r,n,e,t,i)),Je}function Z(n,e,t,i,r,s,o,a){const l=S(),c=ke(),u=n+20,d=c.firstCreatePass?function h5(n,e,t,i,r,s,o,a,l){const c=e.consts,u=vl(e,n,4,o||null,Fs(c,a));jv(e,t,u,Fs(c,l)),Df(e,u);const d=u.tViews=Qf(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];mr(d,!1);const h=l[11].createComment("");qf(c,l,h,d),kn(h,l),Xf(l,l[u]=IR(h,l,h,d)),wf(d)&&Bv(c,l,d),null!=o&&Uv(l,d,a)}function $s(n){return rl(function OW(){return ue.lFrame.contextLView}(),20+n)}function y(n,e=oe.Default){const t=S();return null===t?C(n,e):qx(zt(),t,_e(n),e)}function np(){throw new Error("invalid")}function R(n,e,t){const i=S();return Rn(i,sl(),e)&&vi(ke(),wt(),i,n,e,i[11],t,!1),R}function ob(n,e,t,i,r){const o=r?"class":"style";xR(n,t,e.inputs[o],o,i)}function D(n,e,t,i){const r=S(),s=ke(),o=20+n,a=r[11],l=r[o]=bv(a,e,function $W(){return ue.lFrame.currentNamespace}()),c=s.firstCreatePass?function O5(n,e,t,i,r,s,o){const a=e.consts,c=vl(e,n,2,r,Fs(a,s));return jv(e,t,c,Fs(a,o)),null!==c.attrs&&Zf(c,c.attrs,!1),null!==c.mergedAttrs&&Zf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];mr(c,!0);const u=c.mergedAttrs;null!==u&&Mf(a,l,u);const d=c.classes;null!==d&&Dv(a,l,d);const h=c.styles;return null!==h&&Wk(a,l,h),64!=(64&c.flags)&&qf(s,r,l,c),0===function AW(){return ue.lFrame.elementDepthCount}()&&kn(l,r),function MW(){ue.lFrame.elementDepthCount++}(),wf(c)&&(Bv(s,r,c),hR(s,c,r)),null!==i&&Uv(r,c),D}function x(){let n=zt();Uy()?jy():(n=n.parent,mr(n,!1));const e=n;!function xW(){ue.lFrame.elementDepthCount--}();const t=ke();return t.firstCreatePass&&(Df(t,n),xy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function KW(n){return 0!=(16&n.flags)}(e)&&ob(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YW(n){return 0!=(32&n.flags)}(e)&&ob(t,e,S(),e.stylesWithoutHost,!1),x}function ne(n,e,t,i){return D(n,e,t,i),x(),ne}function Er(n,e,t){const i=S(),r=ke(),s=n+20,o=r.firstCreatePass?function P5(n,e,t,i,r){const s=e.consts,o=Fs(s,i),a=vl(e,n,8,"ng-container",o);return null!==o&&Zf(a,o,!0),jv(e,t,a,Fs(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];mr(o,!0);const a=i[s]=i[11].createComment("");return qf(r,i,a,o),kn(a,i),wf(o)&&(Bv(r,i,o),hR(r,o,i)),null!=t&&Uv(i,o),Er}function Cr(){let n=zt();const e=ke();return Uy()?jy():(n=n.parent,mr(n,!1)),e.firstCreatePass&&(Df(e,n),xy(n)&&e.queries.elementEnd(n)),Cr}function ip(n,e,t){return Er(n,e,t),Cr(),ip}function zs(){return S()}function Mu(n){return!!n&&"function"==typeof n.then}function pO(n){return!!n&&"function"==typeof n.subscribe}const ab=pO;function Me(n,e,t,i){const r=S(),s=ke(),o=zt();return function gO(n,e,t,i,r,s,o,a){const l=wf(i),u=n.firstCreatePass&&SR(n),d=e[8],h=DR(e);let f=!0;if(3&i.type||a){const _=Pi(i,e),b=a?a(_):_,v=h.length,I=a?T=>a(Vt(T[i.index])):i.index;if(bt(t)){let T=null;if(!a&&l&&(T=function N5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1;else{s=lb(i,e,d,s,!1);const O=t.listen(b,r,s);h.push(s,O),u&&u.push(r,I,v,v+1)}}else s=lb(i,e,d,s,!0),b.addEventListener(r,s,o),h.push(s),u&&u.push(r,I,v,o)}else s=lb(i,e,d,s,!1);const p=i.outputs;let m;if(f&&null!==p&&(m=p[r])){const _=m.length;if(_)for(let b=0;b<_;b+=2){const H=e[m[b]][m[b+1]].subscribe(s),ie=h.length;h.push(s,H),u&&u.push(r,i.index,ie,-(ie+1))}}}(s,r,r[11],o,n,e,!!t,i),Me}function _O(n,e,t,i){try{return!1!==t(i)}catch(r){return MR(n,r),!1}}function lb(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?mi(n.index,e):e;0==(32&e[2])&&zv(a);let l=_O(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=_O(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function pe(n=1){return function VW(n){return(ue.lFrame.contextLView=function BW(n,e){for(;n>0;)e=e[15],n--;return e}(n,ue.lFrame.contextLView))[8]}(n)}function F5(n,e){let t=null;const i=function q6(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Xk(n,s,!0):K6(i,s))return r}else t=r}return t}function Li(n){const e=S()[16][6];if(!e.projection){const i=e.projection=fu(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?F5(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function kt(n,e=0,t){const i=S(),r=ke(),s=vl(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),jy(),64!=(64&s.flags)&&function V6(n,e,t){Gk(e[11],0,e,t,Fk(n,t,e),Uk(t.parent||e[6],t,e))}(r,i,s)}function SO(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?ir(s):Xr(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];B5(n[a],e)&&(l=!0,n[a+1]=i?Mv(u):Sv(u)),a=i?ir(u):Xr(u)}l&&(n[t+1]=i?Sv(s):Mv(s))}function B5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fl(n,e)>=0}function qs(n,e,t){return sr(n,e,t,!1),qs}function Kt(n,e){return sr(n,e,null,!0),Kt}function sr(n,e,t,i){const r=S(),s=ke(),o=function Qr(n){const e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function NO(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Hn()],o=function PO(n,e){return e>=n.expandoStartIndex}(n,t);(function BO(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function K5(n,e,t,i){const r=function $y(n){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=xu(t=ub(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=ub(r,n,e,t,i),null===s){let l=function Y5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Xr(i))return n[ir(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=ub(null,n,e,l[1],i),l=xu(l,e.attrs,i),function Q5(n,e,t,i){n[ir(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function X5(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=xu(i,n[s].hostAttrs,t);return xu(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function L5(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ir(o),l=Xr(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||fl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=ir(n[a+1]);n[i+1]=Wf(h,a),0!==h&&(n[h+1]=Av(n[h+1],i)),n[a+1]=function Z6(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Wf(a,0),0!==a&&(n[a+1]=Av(n[a+1],i)),a=i;else n[i+1]=Wf(l,0),0===a?a=i:n[l+1]=Av(n[l+1],i),l=i;c&&(n[i+1]=Sv(n[i+1])),SO(n,u,i,!0),SO(n,u,i,!1),function V5(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&fl(s,e)>=0&&(t[i+1]=Mv(t[i+1]))}(e,u,n,i,s),o=Wf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==de&&Rn(r,o,e)&&function LO(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];rp(function nR(n){return 1==(1&n)}(c)?VO(l,e,t,r,Xr(c),o):void 0)||(rp(s)||function tR(n){return 2==(2&n)}(c)&&(s=VO(l,null,t,r,a,o)),function U6(n,e,t,i,r){const s=bt(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:yi.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=yi.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,Ef(Hn(),t),r,s))}(s,s.data[Hn()],r,r[11],n,r[o+1]=function eK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=$e(_i(n)))),n}(e,t),i,o)}function ub(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=xu(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function xu(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gi(n,o,!!t||e[++s]))}return void 0===n?null:n}function VO(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===de&&(h=d?Ye:void 0);let f=d?ev(h,i):u===i?h:void 0;if(c&&!rp(f)&&(f=ev(l,i)),rp(f)&&(a=f,o))return a;const p=n[r+1];r=o?ir(p):Xr(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=ev(l,i))}return a}function rp(n){return void 0!==n}function M(n,e=""){const t=S(),i=ke(),r=n+20,s=i.firstCreatePass?vl(i,r,1,e,null):i.data[r],o=t[r]=function vv(n,e){return bt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);qf(i,t,o,s),mr(s,!1)}function Dr(n){return Uo("",n,""),Dr}function Uo(n,e,t){const i=S(),r=function Dl(n,e,t,i){return Rn(n,sl(),t)?e+ce(t)+i:de}(i,n,e,t);return r!==de&&Zr(i,Hn(),r),Uo}function sp(n,e,t){const i=S();return Rn(i,sl(),e)&&vi(ke(),wt(),i,n,e,i[11],t,!0),sp}const jo=void 0;var bK=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vK(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Fl={};function $n(n){const e=function wK(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=o1(e);if(t)return t;const i=e.split("-")[0];if(t=o1(i),t)return t;if("en"===i)return bK;throw new Error(`Missing locale data for the locale "${n}".`)}function o1(n){return n in Fl||(Fl[n]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[n]),Fl[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const op="en-US";let a1=op;function fb(n,e,t,i,r){if(n=_e(n),Array.isArray(n))for(let s=0;s<n.length;s++)fb(n[s],e,t,i,r);else{const s=ke(),o=S();let a=Cl(n)?n:_e(n.provide),l=NR(n);const c=zt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Cl(n)||!n.multi){const f=new au(l,r,y),p=mb(a,e,r?u:u+h,d);-1===p?(Of(cu(c,o),s,a),pb(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=mb(a,e,u+h,d),p=mb(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(r&&!_||!r&&!m){Of(cu(c,o),s,a);const b=function v7(n,e,t,i,r){const s=new au(n,t,y);return s.multi=[],s.index=e,s.componentProviders=0,k1(s,r,i&&!t),s}(r?y7:_7,t.length,r,i,l);!r&&_&&(t[p].providerFactory=b),pb(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else pb(s,n,f>-1?f:p,k1(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function pb(n,e,t,i){const r=Cl(e),s=function $8(n){return!!n.useClass}(e);if(r||s){const l=(s?_e(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function k1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function _7(n,e,t,i){return gb(this.multi,[])}function y7(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=uu(t,t[1],this.providerFactory.index,i);s=a.slice(0,o),gb(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],gb(r,s);return s}function gb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ue(n,e=[]){return t=>{t.providersResolver=(i,r)=>function g7(n,e,t){const i=ke();if(i.firstCreatePass){const r=tr(n);fb(t,i.data,i.blueprint,r,!0),fb(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class R1{}class E7{resolveComponentFactory(e){throw function w7(n){const e=Error(`No component factory found for ${$e(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ho=(()=>{class n{}return n.NULL=new E7,n})();function C7(){return Vl(zt(),S())}function Vl(n,e){return new Ne(Pi(n,e))}let Ne=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=C7,n})();function I7(n){return n instanceof Ne?n.nativeElement:n}class Nu{}let Sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function D7(){const n=S(),t=mi(zt().index,n);return function T7(n){return n[11]}(pr(t)?t:n)}(),n})(),S7=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>null}),n})();class Gs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const P1=new Gs("13.3.11"),_b={};function dp(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Vt(s)),er(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&dp(l[1],l,c,i)}const o=t.type;if(8&o)dp(n,e,t.child,i);else if(32&o){const a=gv(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=zk(e,t);if(Array.isArray(a))i.push(...a);else{const l=Eu(e[16]);dp(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Fu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return dp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(er(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(wv(e,i),Nf(t,i))}this._attachedToViewContainer=!1}Nk(this._lView[1],this._lView)}onDestroy(e){gR(this._lView[1],this._lView,null,e)}markForCheck(){zv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Gv(n,e,t){const i=e[10];i.begin&&i.begin();try{wl(n,e,n.template,t)}catch(r){throw MR(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x6(n,e){Cu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,"");this._appRef=e}}class A7 extends Fu{constructor(e){super(e),this._view=e}detectChanges(){TR(this._view)}checkNoChanges(){}get context(){return null}}class N1 extends Ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Sn(e);return new yb(t,this.ngModule)}}function F1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class yb extends R1{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Q6(n){return n.map(Y6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return F1(this.componentDef.inputs)}get outputs(){return F1(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function x7(n,e){return{get:(t,i,r)=>{const s=n.get(t,_b,r);return s!==_b||i===_b?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(Nu,Ex),a=s.get(S7,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function mR(n,e,t){if(bt(n))return n.selectRootElement(e,t===Zi.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):bv(o.createRenderer(null,this.componentDef),c,function M7(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function WR(n,e){return{components:[],scheduler:n||E6,clean:P8,playerHandler:e||null,flags:0}}(),f=Qf(0,null,null,1,0,null,null,null,null,null),p=Iu(null,f,h,d,null,null,o,l,a,s);let m,_;If(p);try{const b=function qR(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=vl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Zf(l,c,!0),null!==n&&(Mf(r,n,c),null!==l.classes&&Dv(r,n,l.classes),null!==l.styles&&Wk(r,n,l.styles)));const u=i.createRenderer(n,e),d=Iu(t,fR(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(Of(cu(l,t),o,e.type),wR(o,l),ER(l,t.length,1)),Xf(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)Mf(l,u,["ng-version",P1.full]);else{const{attrs:v,classes:I}=function X6(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!nr(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&Mf(l,u,v),I&&I.length>0&&Dv(l,u,I.join(" "))}if(_=Ly(f,20),void 0!==t){const v=_.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const T=t[I];v.push(null!=T?Array.from(T):null)}}m=function GR(n,e,t,i,r){const s=t[1],o=function y8(n,e,t){const i=zt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),CR(n,i,e,bl(n,e,1,null),t));const r=uu(e,n,i.directiveStart,i);kn(r,e);const s=Pi(i,e);return s&&kn(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=zt();e.contentQueries(1,o,l.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ls(a.index),vR(t[1],a,0,a.directiveStart,a.directiveEnd,e),bR(e,o)),o}(b,this.componentDef,p,h,[e5]),Tu(f,p,null)}finally{Tf()}return new R7(this.componentType,m,Vl(_,p),p,_)}}class R7 extends class b7{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new A7(r),this.componentType=e}get injector(){return new ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Jr{}class L1{}const Bl=new Map;class U1 extends Jr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new N1(this);const i=ki(e);this._bootstrapComponents=vr(i.bootstrap),this._r3Injector=PR(e,t,[{provide:Jr,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],$e(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=rt.THROW_IF_NOT_FOUND,i=oe.Default){return e===rt||e===Jr||e===Kv?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class vb extends L1{constructor(e){super(),this.moduleType=e,null!==ki(e)&&function P7(n){const e=new Set;!function t(i){const r=ki(i,!0),s=r.id;null!==s&&(function V1(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${$e(e)} vs ${$e(e.name)}`)}(s,Bl.get(s),i),Bl.set(s,i));const o=vr(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new U1(this.moduleType,e)}}function H1(n,e,t,i,r){return function z1(n,e,t,i,r,s,o){const a=e+t;return function Bo(n,e,t,i){const r=Rn(n,e,t);return Rn(n,e+1,i)||r}(n,a,r,s)?wr(n,a+2,o?i.call(o,r,s):i(r,s)):Lu(n,a+2)}(S(),jn(),n,e,t,i,r)}function Lu(n,e){const t=n[e];return t===de?void 0:t}function $1(n,e,t,i,r,s){const o=e+t;return Rn(n,o,r)?wr(n,o+1,s?i.call(s,r):i(r)):Lu(n,o+1)}function Ar(n,e){const t=ke();let i;const r=n+20;t.firstCreatePass?(i=function $7(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=No(i.type)),o=Os(y);try{const a=kf(!1),l=s();return kf(a),function f5(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,S(),r,l),l}finally{Os(o)}}function Mr(n,e,t){const i=n+20,r=S(),s=rl(r,i);return function Vu(n,e){return n[1].data[e].pure}(r,i)?$1(r,jn(),e,s.transform,t,s):s.transform(t)}function bb(n){return e=>{setTimeout(n,void 0,e)}}const Ie=class K7 extends ge{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=bb(l),a&&(a=bb(a)),c&&(c=bb(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof nt&&e.add(u),u}};function Y7(){return this._results[Il()]()}class Ul{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Il(),i=Ul.prototype;i[t]||(i[t]=Y7)}get changes(){return this._changes||(this._changes=new Ie)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Ni(e);(this._changesDetected=!function s4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z7,n})();const Q7=bi,X7=class extends Q7{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Iu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Tu(t,i,e),new Fu(i)}};function Z7(){return hp(zt(),S())}function hp(n,e){return 4&n.type?new X7(e,n,Vl(n,e)):null}let ti=(()=>{class n{}return n.__NG_ELEMENT_ID__=J7,n})();function J7(){return Q1(zt(),S())}const eY=ti,K1=class extends eY{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new ll(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rf(this._hostTNode,this._hostLView);if(Ux(e)){const t=al(e,this._hostLView),i=ol(e);return new ll(t[1].data[i+8],t)}return new ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Y1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=e&&!function hu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new yb(Sn(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Jr,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function SW(n){return er(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new K1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function R6(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],Qx(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function O6(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=Iv(s,o),l=i[11],c=zf(l,o[7]);return null!==c&&function M6(n,e,t,i,r,s){i[0]=r,i[6]=e,Cu(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),Qx(wb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Y1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=wv(this._lContainer,t);i&&(Nf(wb(this._lContainer),t),Nk(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=wv(this._lContainer,t);return i&&null!=Nf(wb(this._lContainer),t)?new Fu(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Y1(n){return n[8]}function wb(n){return n[8]||(n[8]=[])}function Q1(n,e){let t;const i=e[n.index];if(er(i))t=i;else{let r;if(8&n.type)r=Vt(i);else{const s=e[11];r=s.createComment("");const o=Pi(n,e);Vo(s,zf(s,o),r,function L6(n,e){return bt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=IR(i,e,r,n),Xf(e,t)}return new K1(t,n,e)}class Eb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Eb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Cb(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==tP(e,t).matches&&this.queries[t].setDirty()}}class X1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Ib{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Ib(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Tb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Tb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,iY(t,s)),this.matchTNodeWithReadOption(e,t,Pf(t,e,s,!1,!1))}else i===bi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ne||r===ti||r===bi&&4&t.type)this.addMatch(t.index,-2);else{const s=Pf(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function iY(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function sY(n,e,t,i){return-1===t?function rY(n,e){return 11&n.type?Vl(n,e):4&n.type?hp(n,e):null}(e,n):-2===t?function oY(n,e,t){return t===Ne?Vl(e,n):t===bi?hp(e,n):t===ti?Q1(e,n):void 0}(n,e,i):uu(n,n[1],t,e)}function Z1(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:sY(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function Db(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=Z1(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Db(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Db(f[1],f,c,i)}}}}}return i}function Fe(n){const e=S(),t=ke(),i=xx();zy(i+1);const r=tP(t,i);if(n.dirty&&Cx(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Db(t,e,i,[]):Z1(t,e,r,i);n.reset(s,I7),n.notifyOnChanges()}return!0}return!1}function Vi(n,e,t){const i=ke();i.firstCreatePass&&(eP(i,new X1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),J1(i,S(),e)}function Ct(n,e,t,i){const r=ke();if(r.firstCreatePass){const s=zt();eP(r,new X1(e,t,i),s.index),function lY(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}J1(r,S(),t)}function Le(){return function aY(n,e){return n[19].queries[e].queryList}(S(),xx())}function J1(n,e,t){const i=new Ul(4==(4&t));gR(n,e,i,i.destroy),null===e[19]&&(e[19]=new Cb),e[19].queries.push(new Eb(i))}function eP(n,e,t){null===n.queries&&(n.queries=new Ib),n.queries.track(new Tb(e,t))}function tP(n,e){return n.queries.getByIndex(e)}function Bu(n,e){return hp(n,e)}function mp(...n){}const gp=new F("Application Initializer");let Rb=(()=>{class n{constructor(t){this.appInits=t,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Mu(s))t.push(s);else if(ab(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(gp,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ju=new F("AppId",{providedIn:"root",factory:function yP(){return`${Ob()}${Ob()}${Ob()}`}});function Ob(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vP=new F("Platform Initializer"),Ws=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bP=new F("appBootstrapListener");let TY=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const es=new F("LocaleId",{providedIn:"root",factory:()=>Vf(es,oe.Optional|oe.SkipSelf)||function DY(){return"undefined"!=typeof $localize&&$localize.locale||op}()});class AY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wP=(()=>{class n{compileModuleSync(t){return new vb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=vr(ki(t).declarations).reduce((o,a)=>{const l=Sn(a);return l&&o.push(new yb(l)),o},[]);return new AY(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xY=(()=>Promise.resolve(0))();function Pb(n){"undefined"==typeof Zone?xY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kY(){let n=qe.requestAnimationFrame,e=qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function PY(n){const e=()=>{!function OY(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Fb(n),n.isCheckStableRunning=!0,Nb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Fb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return EP(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),CP(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return EP(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),CP(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Fb(n),Nb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,RY,mp,mp);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const RY={};function Nb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Fb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CP(n){n._nesting--,Nb(n)}class NY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let Lb=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),Pb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(fe))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),FY=(()=>{class n{constructor(){this._applications=new Map,Vb.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Vb.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class LY{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Vb=new LY,$o=null;const IP=new F("AllowMultipleToken"),TP=new F("PlatformOnDestroy");class DP{constructor(e,t){this.name=e,this.token=t}}function SP(n,e,t=[]){const i=`Platform: ${e}`,r=new F(i);return(s=[])=>{let o=Bb();if(!o||o.injector.get(IP,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function jY(n){if($o&&!$o.get(IP,!1))throw new z(400,"");$o=n;const e=n.get(AP),t=n.get(vP,null);t&&t.forEach(i=>i())}(function $Y(n=[],e){return rt.create({name:e,providers:[{provide:Yv,useValue:"platform"},{provide:TP,useValue:()=>$o=null},...n]})}(a,i))}return function HY(n){const e=Bb();if(!e)throw new z(401,"");return e}()}}function Bb(){var n;return null!==(n=null==$o?void 0:$o.get(AP))&&void 0!==n?n:null}let AP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function zY(n,e){let t;return t="noop"===n?new NY:("zone.js"===n?void 0:n)||new fe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:fe,useValue:a}];return a.run(()=>{const c=rt.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Us,null);if(!d)throw new z(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Ub(this._modules,u),h.unsubscribe()})}),function qY(n,e,t){try{const i=t();return Mu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(Rb);return h.runInitializers(),h.donePromise.then(()=>(function TK(n){fi(n,"Expected localeId to be defined"),"string"==typeof n&&(a1=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(es,op)||op),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=MP({},i);return function BY(n,e,t){const i=new vb(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Hl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new z(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(TP,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function MP(n,e){return Array.isArray(e)?e.reduce(MP,n):Object.assign(Object.assign({},n),e)}let Hl=(()=>{class n{constructor(t,i,r,s){this._zone=t,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Be(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Be(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),Pb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=xi(o,a.pipe(ax()))}bootstrap(t,i){if(!this._initStatus.done)throw new z(405,"");let r;r=t instanceof R1?t:this._injector.get(Ho).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function UY(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Jr),a=r.create(rt.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(Lb,null),u=c&&a.injector.get(FY);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Ub(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new z(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ub(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bP,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(C(fe),C(rt),C(Us),C(Rb))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ub(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let kP=!0,ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=KY,n})();function KY(n){return function YY(n,e,t){if(bf(n)&&!t){const i=mi(n.index,e);return new Fu(i,i)}return 47&n.type?new Fu(e[16],e):null}(zt(),S(),16==(16&n))}class FP{constructor(){}supports(e){return Su(e)}create(e){return new tQ(e)}}const eQ=(n,e)=>e;class tQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eQ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<VP(i,r,s)?t:i,a=VP(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Su(e))throw new z(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function d5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Il()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new nQ(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new LP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nQ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class LP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new iQ,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VP(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class BP{constructor(){}supports(e){return e instanceof Map||tb(e)}create(){return new rQ}}class rQ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tb(e)))throw new z(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new sQ(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class sQ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UP(){return new vp([new FP])}let vp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||UP()),deps:[[n,new pl,new Ze]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new z(901,"")}}return n.\u0275prov=j({token:n,providedIn:"root",factory:UP}),n})();function jP(){return new Hu([new BP])}let Hu=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||jP()),deps:[[n,new pl,new Ze]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new z(901,"")}}return n.\u0275prov=j({token:n,providedIn:"root",factory:jP}),n})();const lQ=SP(null,"core",[]);let cQ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(Hl))},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})(),bp=null;function xr(){return bp}const De=new F("DocumentToken");let qo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function fQ(){return C(HP)}()},providedIn:"platform"}),n})();const pQ=new F("Location Initialized");let HP=(()=>{class n extends qo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(t){const i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){$P()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){$P()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:function(){return function mQ(){return new HP(C(De))}()},providedIn:"platform"}),n})();function $P(){return!!window.history.pushState}function qb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ts(n){return n&&"?"!==n[0]?"?"+n:n}let $l=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function gQ(n){const e=C(De).location;return new qP(C(qo),e&&e.origin||"")}()},providedIn:"root"}),n})();const Gb=new F("appBaseHref");let qP=(()=>{class n extends $l{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ts(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+ts(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+ts(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(C(qo),C(Gb,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),_Q=(()=>{class n extends $l{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=qb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ts(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ts(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(C(qo),C(Gb,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),wp=(()=>{class n{constructor(t,i){this._subject=new Ie,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=zP(GP(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ts(i))}normalize(t){return n.stripTrailingSlash(function vQ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,GP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ts(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ts(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ts,n.joinWithSlash=qb,n.stripTrailingSlash=zP,n.\u0275fac=function(t){return new(t||n)(C($l),C(qo))},n.\u0275prov=j({token:n,factory:function(){return function yQ(){return new wp(C($l),C(qo))}()},providedIn:"root"}),n})();function GP(n){return n.replace(/\/index.html$/,"")}var Rt=(()=>((Rt=Rt||{})[Rt.Format=0]="Format",Rt[Rt.Standalone=1]="Standalone",Rt))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),gt=(()=>((gt=gt||{})[gt.Short=0]="Short",gt[gt.Medium=1]="Medium",gt[gt.Long=2]="Long",gt[gt.Full=3]="Full",gt))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function Ep(n,e){return Ui($n(n)[U.DateFormat],e)}function Cp(n,e){return Ui($n(n)[U.TimeFormat],e)}function Ip(n,e){return Ui($n(n)[U.DateTimeFormat],e)}function Bi(n,e){const t=$n(n),i=t[U.NumberSymbols][e];if(void 0===i){if(e===X.CurrencyDecimal)return t[U.NumberSymbols][X.Decimal];if(e===X.CurrencyGroup)return t[U.NumberSymbols][X.Group]}return i}function KP(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ui(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Kb(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const RQ=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$u={},OQ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),te=(()=>((te=te||{})[te.FullYear=0]="FullYear",te[te.Month=1]="Month",te[te.Date=2]="Date",te[te.Hours=3]="Hours",te[te.Minutes=4]="Minutes",te[te.Seconds=5]="Seconds",te[te.FractionalSeconds=6]="FractionalSeconds",te[te.Day=7]="Day",te))(),be=(()=>((be=be||{})[be.DayPeriods=0]="DayPeriods",be[be.Days=1]="Days",be[be.Months=2]="Months",be[be.Eras=3]="Eras",be))();function PQ(n,e,t,i){let r=function $Q(n){if(XP(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return Tp(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(RQ))return function zQ(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(i)}const e=new Date(n);if(!XP(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ns(t,e)||e;let a,o=[];for(;e;){if(a=OQ.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=QP(i,l),r=function HQ(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function jQ(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(QP(e,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function UQ(n){if(Qb[n])return Qb[n];let e;switch(n){case"G":case"GG":case"GGG":e=et(be.Eras,Te.Abbreviated);break;case"GGGG":e=et(be.Eras,Te.Wide);break;case"GGGGG":e=et(be.Eras,Te.Narrow);break;case"y":e=Ut(te.FullYear,1,0,!1,!0);break;case"yy":e=Ut(te.FullYear,2,0,!0,!0);break;case"yyy":e=Ut(te.FullYear,3,0,!1,!0);break;case"yyyy":e=Ut(te.FullYear,4,0,!1,!0);break;case"Y":e=Mp(1);break;case"YY":e=Mp(2,!0);break;case"YYY":e=Mp(3);break;case"YYYY":e=Mp(4);break;case"M":case"L":e=Ut(te.Month,1,1);break;case"MM":case"LL":e=Ut(te.Month,2,1);break;case"MMM":e=et(be.Months,Te.Abbreviated);break;case"MMMM":e=et(be.Months,Te.Wide);break;case"MMMMM":e=et(be.Months,Te.Narrow);break;case"LLL":e=et(be.Months,Te.Abbreviated,Rt.Standalone);break;case"LLLL":e=et(be.Months,Te.Wide,Rt.Standalone);break;case"LLLLL":e=et(be.Months,Te.Narrow,Rt.Standalone);break;case"w":e=Yb(1);break;case"ww":e=Yb(2);break;case"W":e=Yb(1,!0);break;case"d":e=Ut(te.Date,1);break;case"dd":e=Ut(te.Date,2);break;case"c":case"cc":e=Ut(te.Day,1);break;case"ccc":e=et(be.Days,Te.Abbreviated,Rt.Standalone);break;case"cccc":e=et(be.Days,Te.Wide,Rt.Standalone);break;case"ccccc":e=et(be.Days,Te.Narrow,Rt.Standalone);break;case"cccccc":e=et(be.Days,Te.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=et(be.Days,Te.Abbreviated);break;case"EEEE":e=et(be.Days,Te.Wide);break;case"EEEEE":e=et(be.Days,Te.Narrow);break;case"EEEEEE":e=et(be.Days,Te.Short);break;case"a":case"aa":case"aaa":e=et(be.DayPeriods,Te.Abbreviated);break;case"aaaa":e=et(be.DayPeriods,Te.Wide);break;case"aaaaa":e=et(be.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=et(be.DayPeriods,Te.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=et(be.DayPeriods,Te.Wide,Rt.Standalone,!0);break;case"bbbbb":e=et(be.DayPeriods,Te.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=et(be.DayPeriods,Te.Abbreviated,Rt.Format,!0);break;case"BBBB":e=et(be.DayPeriods,Te.Wide,Rt.Format,!0);break;case"BBBBB":e=et(be.DayPeriods,Te.Narrow,Rt.Format,!0);break;case"h":e=Ut(te.Hours,1,-12);break;case"hh":e=Ut(te.Hours,2,-12);break;case"H":e=Ut(te.Hours,1);break;case"HH":e=Ut(te.Hours,2);break;case"m":e=Ut(te.Minutes,1);break;case"mm":e=Ut(te.Minutes,2);break;case"s":e=Ut(te.Seconds,1);break;case"ss":e=Ut(te.Seconds,2);break;case"S":e=Ut(te.FractionalSeconds,1);break;case"SS":e=Ut(te.FractionalSeconds,2);break;case"SSS":e=Ut(te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Sp(Yt.Short);break;case"ZZZZZ":e=Sp(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Sp(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Sp(Yt.Long);break;default:return null}return Qb[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Tp(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ns(n,e){const t=function bQ(n){return $n(n)[U.LocaleId]}(n);if($u[t]=$u[t]||{},$u[t][e])return $u[t][e];let i="";switch(e){case"shortDate":i=Ep(n,gt.Short);break;case"mediumDate":i=Ep(n,gt.Medium);break;case"longDate":i=Ep(n,gt.Long);break;case"fullDate":i=Ep(n,gt.Full);break;case"shortTime":i=Cp(n,gt.Short);break;case"mediumTime":i=Cp(n,gt.Medium);break;case"longTime":i=Cp(n,gt.Long);break;case"fullTime":i=Cp(n,gt.Full);break;case"short":const r=ns(n,"shortTime"),s=ns(n,"shortDate");i=Dp(Ip(n,gt.Short),[r,s]);break;case"medium":const o=ns(n,"mediumTime"),a=ns(n,"mediumDate");i=Dp(Ip(n,gt.Medium),[o,a]);break;case"long":const l=ns(n,"longTime"),c=ns(n,"longDate");i=Dp(Ip(n,gt.Long),[l,c]);break;case"full":const u=ns(n,"fullTime"),d=ns(n,"fullDate");i=Dp(Ip(n,gt.Full),[u,d])}return i&&($u[t][e]=i),i}function Dp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function ar(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function Ut(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function FQ(n,e){switch(n){case te.FullYear:return e.getFullYear();case te.Month:return e.getMonth();case te.Date:return e.getDate();case te.Hours:return e.getHours();case te.Minutes:return e.getMinutes();case te.Seconds:return e.getSeconds();case te.FractionalSeconds:return e.getMilliseconds();case te.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===te.Hours)0===a&&-12===t&&(a=12);else if(n===te.FractionalSeconds)return function NQ(n,e){return ar(n,3).substr(0,e)}(a,e);const l=Bi(o,X.MinusSign);return ar(a,e,l,i,r)}}function et(n,e,t=Rt.Format,i=!1){return function(r,s){return function LQ(n,e,t,i,r,s){switch(t){case be.Months:return function CQ(n,e,t){const i=$n(n),s=Ui([i[U.MonthsFormat],i[U.MonthsStandalone]],e);return Ui(s,t)}(e,r,i)[n.getMonth()];case be.Days:return function EQ(n,e,t){const i=$n(n),s=Ui([i[U.DaysFormat],i[U.DaysStandalone]],e);return Ui(s,t)}(e,r,i)[n.getDay()];case be.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function SQ(n){const e=$n(n);return KP(e),(e[U.ExtraData][2]||[]).map(i=>"string"==typeof i?Kb(i):[Kb(i[0]),Kb(i[1])])}(e),u=function AQ(n,e,t){const i=$n(n);KP(i);const s=Ui([i[U.ExtraData][0],i[U.ExtraData][1]],e)||[];return Ui(s,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,m=o>=f.hours&&a>=f.minutes,_=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&_)return!0}else if(m||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function wQ(n,e,t){const i=$n(n),s=Ui([i[U.DayPeriodsFormat],i[U.DayPeriodsStandalone]],e);return Ui(s,t)}(e,r,i)[o<12?0:1];case be.Eras:return function IQ(n,e){return Ui($n(n)[U.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Sp(n){return function(e,t,i){const r=-1*i,s=Bi(t,X.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Yt.Short:return(r>=0?"+":"")+ar(o,2,s)+ar(Math.abs(r%60),2,s);case Yt.ShortGMT:return"GMT"+(r>=0?"+":"")+ar(o,1,s);case Yt.Long:return"GMT"+(r>=0?"+":"")+ar(o,2,s)+":"+ar(Math.abs(r%60),2,s);case Yt.Extended:return 0===i?"Z":(r>=0?"+":"")+ar(o,2,s)+":"+ar(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function YP(n){return Tp(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Yb(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=YP(t),o=function BQ(n){const e=Tp(n,0,1).getDay();return Tp(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return ar(r,n,Bi(i,X.MinusSign))}}function Mp(n,e=!1){return function(t,i){return ar(YP(t).getFullYear(),n,Bi(i,X.MinusSign),e)}}const Qb={};function QP(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function XP(n){return n instanceof Date&&!isNaN(n.valueOf())}let qu=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Su(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${$e(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(y(vp),y(Hu),y(Ne),y(Sr))},n.\u0275dir=$({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class r9{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nw=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new r9(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),tN(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{tN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(ti),y(bi),y(vp))},n.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function tN(n,e){n.context.$implicit=e.item}let ji=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new s9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(ti),y(bi))},n.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class s9{constructor(){this.$implicit=null,this.ngIf=null}}function nN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$e(e)}'.`)}class iw{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Gu=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),rw=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new iw(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(y(ti),y(bi),y(Gu,9))},n.\u0275dir=$({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),sw=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(Hu),y(Sr))},n.\u0275dir=$({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function lr(n,e){return new z(2100,"")}class c9{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class u9{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const d9=new u9,h9=new c9;let kp=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Mu(t))return d9;if(pO(t))return h9;throw lr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(y(ni,16))},n.\u0275pipe=Bn({name:"async",type:n,pure:!1}),n})();const _9=new F("DATE_PIPE_DEFAULT_TIMEZONE");let ow=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){var o;if(null==t||""===t||t!=t)return null;try{return PQ(t,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw lr()}}}return n.\u0275fac=function(t){return new(t||n)(y(es,16),y(_9,24))},n.\u0275pipe=Bn({name:"date",type:n,pure:!0}),n})(),Ks=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();const sN="browser";function cw(n){return n===sN}let R9=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>new O9(C(De),window)}),n})();class O9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function P9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oN(this.window.history)||oN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uw extends class F9 extends class hQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function dQ(n){bp||(bp=n)}(new uw)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function L9(){return Wu=Wu||document.querySelector("base"),Wu?Wu.getAttribute("href"):null}();return null==t?null:function V9(n){Rp=Rp||document.createElement("a"),Rp.setAttribute("href",n);const e=Rp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function n9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Rp,Wu=null;const aN=new F("TRANSITION_ID"),U9=[{provide:gp,useFactory:function B9(n,e,t){return()=>{t.get(Rb).donePromise.then(()=>{const i=xr(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[aN,De,rt],multi:!0}];class dw{static init(){!function VY(n){Vb=n}(new dw)}addToWindow(e){qe.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),qe.getAllAngularRootElements=()=>e.getAllRootElements(),qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push(i=>{const r=qe.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?xr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let j9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Op=new F("EventManagerPlugins");let Pp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(Op),C(fe))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class lN{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=xr().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let cN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),Ku=(()=>{class n extends cN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(uN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(uN))}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function uN(n){xr().remove(n)}const hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fw=/%COMP%/g;function Np(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Np(n,r,t):(r=r.replace(fw,n),t.push(r))}return t}function fN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fp=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pw(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Zi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new W9(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Zi.ShadowDom:return new K9(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Np(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(Pp),C(Ku),C(ju))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class pw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=hw[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=hw[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(yi.DashCase|yi.Important)?e.style.setProperty(t,i,r&yi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&yi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fN(i)):this.eventManager.addEventListener(e,t,fN(i))}}class W9 extends pw{constructor(e,t,i,r){super(e),this.component=i;const s=Np(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function z9(n){return"_ngcontent-%COMP%".replace(fw,n)}(r+"-"+i.id),this.hostAttr=function q9(n){return"_nghost-%COMP%".replace(fw,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class K9 extends pw{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Np(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Y9=(()=>{class n extends lN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const mN=["alt","control","meta","shift"],X9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Z9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let J9=(()=>{class n extends lN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(mN.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function eX(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&gN.hasOwnProperty(e)&&(e=gN[e]))}return X9[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mN.forEach(s=>{s!=r&&Z9[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const rX=SP(lQ,"browser",[{provide:Ws,useValue:sN},{provide:vP,useValue:function tX(){uw.makeCurrent(),dw.init()},multi:!0},{provide:De,useFactory:function iX(){return function CW(n){Ny=n}(document),document},deps:[]}]),sX=[{provide:Yv,useValue:"root"},{provide:Us,useFactory:function nX(){return new Us},deps:[]},{provide:Op,useClass:Y9,multi:!0,deps:[De,fe,Ws]},{provide:Op,useClass:J9,multi:!0,deps:[De]},{provide:Fp,useClass:Fp,deps:[Pp,Ku,ju]},{provide:Nu,useExisting:Fp},{provide:cN,useExisting:Ku},{provide:Ku,useClass:Ku,deps:[De]},{provide:Lb,useClass:Lb,deps:[fe]},{provide:Pp,useClass:Pp,deps:[Op,fe]},{provide:class N9{},useClass:j9,deps:[]}];let _N=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ju,useValue:t.appId},{provide:aN,useExisting:ju},U9]}}}return n.\u0275fac=function(t){return new(t||n)(C(n,12))},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:sX,imports:[Ks,cQ]}),n})();"undefined"!=typeof window&&window;let gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(t){let i=null;return i=t?new(t||n):C(bN),i},providedIn:"root"}),n})(),bN=(()=>{class n extends gw{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case je.NONE:return i;case je.HTML:return _r(i,"HTML")?_i(i):vk(this._doc,String(i)).toString();case je.STYLE:return _r(i,"Style")?_i(i):i;case je.SCRIPT:if(_r(i,"Script"))return _i(i);throw new Error("unsafe value used in a script context");case je.URL:return dk(i),_r(i,"URL")?_i(i):yu(String(i));case je.RESOURCE_URL:if(_r(i,"ResourceURL"))return _i(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function F4(n){return new k4(n)}(t)}bypassSecurityTrustStyle(t){return function L4(n){return new R4(n)}(t)}bypassSecurityTrustScript(t){return function V4(n){return new O4(n)}(t)}bypassSecurityTrustUrl(t){return function B4(n){return new P4(n)}(t)}bypassSecurityTrustResourceUrl(t){return function U4(n){return new N4(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:function(t){let i=null;return i=t?new t:function mX(n){return new bN(n.get(De))}(C(rt)),i},providedIn:"root"}),n})();function wN(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){wN(s,i,r,o,a,"next",l)}function a(l){wN(s,i,r,o,a,"throw",l)}o(void 0)})}}const EN=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(EN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw Error();i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Lp=function(n){return function(n){const e=EN(n);return yw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Vp=function(n){try{return yw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Go(){return"object"==typeof indexedDB}function Yu(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function bw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ww=()=>{try{return function IX(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Vp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},TN=n=>{var e,t;return null===(t=null===(e=ww())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},DN=n=>{const e=TN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},SN=n=>{var e;return null===(e=ww())||void 0===e?void 0:e[`_${n}`]};class Bp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function AN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lp(JSON.stringify({alg:"none",type:"JWT"})),Lp(JSON.stringify(o)),""].join(".")}class wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function xX(n,e){return n.replace(kX,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new wi(r,`${this.serviceName}: ${o} (${r}).`,i)}}const kX=/\{\$([^}]+)}/g;function jp(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(xN(s)&&xN(o)){if(!jp(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function xN(n){return null!==n&&"object"==typeof n}function Hp(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class PX{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function NX(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=Ew),void 0===r.error&&(r.error=Ew),void 0===r.complete&&(r.complete=Ew);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ew(){}function Iw(n,e=1e3,t=2){const i=e*Math.pow(t,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function st(n){return n&&n._delegate?n._delegate:n}class mn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wo="[DEFAULT]";class jX{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Bp;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function $X(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Wo?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}var n;return i||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tw=[];var Re=(()=>{return(n=Re||(Re={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Re;var n})();const kN={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},qX=Re.INFO,GX={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},WX=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=GX[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class zl{constructor(e){this.name=e,this._logLevel=qX,this._logHandler=WX,this._userLogHandler=null,Tw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}let RN,ON;const PN=new WeakMap,Dw=new WeakMap,NN=new WeakMap,Sw=new WeakMap,Aw=new WeakMap;let Mw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Dw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||NN.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function tZ(n){return"function"==typeof n?function eZ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function QX(){return ON||(ON=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xw(this),e),is(PN.get(this))}:function(...e){return is(n.apply(xw(this),e))}:function(e,...t){const i=n.call(xw(this),e,...t);return NN.set(i,e.sort?e.sort():[e]),is(i)}}(n):(n instanceof IDBTransaction&&function ZX(n){if(Dw.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Dw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function YX(){return RN||(RN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Mw):n)}function is(n){if(n instanceof IDBRequest)return function XX(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(is(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&PN.set(t,n)}).catch(()=>{}),Aw.set(e,n),e}(n);if(Sw.has(n))return Sw.get(n);const e=tZ(n);return e!==n&&(Sw.set(n,e),Aw.set(e,n)),e}const xw=n=>Aw.get(n);function $p(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=is(o);return i&&o.addEventListener("upgradeneeded",l=>{i(is(o.result),l.oldVersion,l.newVersion,is(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function kw(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),is(t).then(()=>{})}const nZ=["get","getKey","getAll","getAllKeys","count"],iZ=["put","add","delete","clear"],Rw=new Map;function FN(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Rw.get(e))return Rw.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=iZ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!nZ.includes(t))return;const s=function(){var o=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Rw.set(e,s),s}!function JX(n){Mw=n(Mw)}(n=>fG(hG({},n),{get:(e,t,i)=>FN(e,t)||n.get(e,t,i),has:(e,t)=>!!FN(e,t)||n.has(e,t)}));class rZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function sZ(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Ow="@firebase/app",Ko=new zl("@firebase/app"),zp="[DEFAULT]",kZ={[Ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yo=new Map,qp=new Map;function RZ(n,e){try{n.container.addComponent(e)}catch(t){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function On(n){const e=n.name;if(qp.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,n);for(const t of Yo.values())RZ(t,n);return!0}function Qo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const rs=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class PZ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Xo="9.13.0";function VN(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw rs.create("bad-app-name",{appName:String(r)});if(t||(t=(()=>{var n;return null===(n=ww())||void 0===n?void 0:n.config})()),!t)throw rs.create("no-options");const s=Yo.get(r);if(s){if(jp(t,s.options)&&jp(i,s.config))return s;throw rs.create("duplicate-app",{appName:r})}const o=new zX(r);for(const l of qp.values())o.addComponent(l);const a=new PZ(t,i,o);return Yo.set(r,a),a}function Gp(n=zp){const e=Yo.get(n);if(!e&&n===zp)return VN();if(!e)throw rs.create("no-app",{appName:n});return e}function BN(){return Array.from(Yo.values())}function ot(n,e,t){var i;let r=null!==(i=kZ[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ko.warn(a.join(" "))}On(new mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Zu="firebase-heartbeat-store";let Nw=null;function UN(){return Nw||(Nw=$p("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Zu)}}).catch(n=>{throw rs.create("idb-open",{originalErrorMessage:n.message})})),Nw}function Fw(){return(Fw=g(function*(n){var e;try{return(yield UN()).transaction(Zu).objectStore(Zu).get(HN(n))}catch(t){if(t instanceof wi)Ko.warn(t.message);else{const i=rs.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Ko.warn(i.message)}}})).apply(this,arguments)}function jN(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(n,e){var t;try{const r=(yield UN()).transaction(Zu,"readwrite");return yield r.objectStore(Zu).put(e,HN(n)),r.done}catch(i){if(i instanceof wi)Ko.warn(i.message);else{const r=rs.create("idb-set",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message});Ko.warn(r.message)}}})).apply(this,arguments)}function HN(n){return`${n.name}!${n.options.appId}`}class UZ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HZ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return g(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$N();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(s=>s.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=$N(),{heartbeatsToSend:i,unsentEntries:r}=function jZ(n,e=1024){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),zN(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),zN(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=Lp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function $N(){return(new Date).toISOString().substring(0,10)}class HZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Go()&&Yu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function LZ(n){return Fw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return jN(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return jN(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function zN(n){return Lp(JSON.stringify({version:2,heartbeats:n})).length}!function $Z(n){On(new mn("platform-logger",e=>new rZ(e),"PRIVATE")),On(new mn("heartbeat",e=>new UZ(e),"PRIVATE")),ot(Ow,"0.8.3",n),ot(Ow,"0.8.3","esm2017"),ot("fire-js","")}(""),ot("firebase","9.13.0","app");const qN="@firebase/installations",Vw="0.5.16",WN=`w:${Vw}`,KN="FIS_v2",ss=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function YN(n){return n instanceof wi&&n.code.includes("request-failed")}function Bw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function QN(n){return{token:n.token,requestStatus:2,expiresIn:XZ(n.expiresIn),creationTime:Date.now()}}function Uw(n,e){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(n,e){const i=(yield e.json()).error;return ss.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function XN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ZN(n,{refreshToken:e}){const t=XN(n);return t.append("Authorization",function ZZ(n){return`${KN} ${n}`}(e)),t}function Hw(n){return $w.apply(this,arguments)}function $w(){return($w=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function XZ(n){return Number(n.replace("s","000"))}function JZ(n,e){return zw.apply(this,arguments)}function zw(){return(zw=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=Bw(n),r=XN(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:KN,appId:n.appId,sdkVersion:WN})},l=yield Hw(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:QN(c.authToken)}}throw yield Uw("Create Installation",l)})).apply(this,arguments)}function JN(n){return new Promise(e=>{setTimeout(e,n)})}const tJ=/^[cdef][\w-]{21}$/;function nJ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function iJ(n){return function eJ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return tJ.test(t)?t:""}catch(n){return""}}function ql(n){return`${n.appName}!${n.appId}`}const Gl=new Map;function eF(n,e){const t=ql(n);tF(t,e),function oJ(n,e){const t=function nF(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=n=>{tF(n.data.key,n.data.fid)}),Zo}();t&&t.postMessage({key:n,fid:e}),function iF(){0===Gl.size&&Zo&&(Zo.close(),Zo=null)}()}(t,e)}function tF(n,e){const t=Gl.get(n);if(t)for(const i of t)i(e)}let Zo=null;const Jo="firebase-installations-store";let Gw=null;function Ww(){return Gw||(Gw=$p("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jo)}})),Gw}function Wp(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(n,e){const t=ql(n),r=(yield Ww()).transaction(Jo,"readwrite"),s=r.objectStore(Jo),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&eF(n,e.fid),e})).apply(this,arguments)}function Yw(n){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(n){const e=ql(n),i=(yield Ww()).transaction(Jo,"readwrite");yield i.objectStore(Jo).delete(e),yield i.done})).apply(this,arguments)}function Ju(n,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(n,e){const t=ql(n),r=(yield Ww()).transaction(Jo,"readwrite"),s=r.objectStore(Jo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&eF(n,a.fid),a})).apply(this,arguments)}function Zw(n){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(n){let e;const t=yield Ju(n.appConfig,i=>{const r=cJ(i),s=uJ(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function cJ(n){return sF(n||{fid:nJ(),registrationStatus:0})}function uJ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ss.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function dJ(n,e){return eE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:hJ(n)}:{installationEntry:e}}function eE(){return(eE=g(function*(n,e){try{const t=yield JZ(n,e);return Wp(n.appConfig,t)}catch(t){throw YN(t)&&409===t.customData.serverCode?yield Yw(n.appConfig):yield Wp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function hJ(n){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(n){let e=yield rF(n.appConfig);for(;1===e.registrationStatus;)yield JN(100),e=yield rF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Zw(n);return i||t}return e})).apply(this,arguments)}function rF(n){return Ju(n,e=>{if(!e)throw ss.create("installation-not-found");return sF(e)})}function sF(n){return function fJ(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function pJ(n,e){return nE.apply(this,arguments)}function nE(){return(nE=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=mJ(n,t),r=ZN(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:WN,appId:n.appId}})},l=yield Hw(()=>fetch(i,a));if(l.ok)return QN(yield l.json());throw yield Uw("Generate Auth Token",l)})).apply(this,arguments)}function mJ(n,{fid:e}){return`${Bw(n)}/${e}/authTokens:generate`}function iE(n){return rE.apply(this,arguments)}function rE(){return(rE=g(function*(n,e=!1){let t;const i=yield Ju(n.appConfig,s=>{if(!aF(s))throw ss.create("not-registered");const o=s.authToken;if(!e&&yJ(o))return s;if(1===o.requestStatus)return t=gJ(n,e),s;{if(!navigator.onLine)throw ss.create("app-offline");const a=bJ(s);return t=_J(n,a),a}});return t?yield t:i.authToken})).apply(this,arguments)}function gJ(n,e){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(n,e){let t=yield oF(n.appConfig);for(;1===t.authToken.requestStatus;)yield JN(100),t=yield oF(n.appConfig);const i=t.authToken;return 0===i.requestStatus?iE(n,e):i})).apply(this,arguments)}function oF(n){return Ju(n,e=>{if(!aF(e))throw ss.create("not-registered");return function wJ(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _J(n,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(n,e){try{const t=yield pJ(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Wp(n.appConfig,i),t}catch(t){if(!YN(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Wp(n.appConfig,i)}else yield Yw(n.appConfig);throw t}})).apply(this,arguments)}function aF(n){return void 0!==n&&2===n.registrationStatus}function yJ(n){return 2===n.requestStatus&&!function vJ(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function bJ(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function aE(){return(aE=g(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Zw(e);return i?i.catch(console.error):iE(e).catch(console.error),t.fid})).apply(this,arguments)}function lE(){return(lE=g(function*(n,e=!1){const t=n;return yield IJ(t),(yield iE(t,e)).token})).apply(this,arguments)}function IJ(n){return cE.apply(this,arguments)}function cE(){return(cE=g(function*(n){const{registrationPromise:e}=yield Zw(n);e&&(yield e)})).apply(this,arguments)}function hE(n){return ss.create("missing-app-config-values",{valueName:n})}const lF="installations",MJ=n=>{const e=n.getProvider("app").getImmediate(),t=function SJ(n){if(!n||!n.options)throw hE("App Configuration");if(!n.name)throw hE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw hE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qo(e,"heartbeat"),_delete:()=>Promise.resolve()}},xJ=n=>{const t=Qo(n.getProvider("app").getImmediate(),lF).getImmediate();return{getId:()=>function EJ(n){return aE.apply(this,arguments)}(t),getToken:r=>function CJ(n){return lE.apply(this,arguments)}(t,r)}};(function kJ(){On(new mn(lF,MJ,"PUBLIC")),On(new mn("installations-internal",xJ,"PRIVATE"))})(),ot(qN,Vw),ot(qN,Vw,"esm2017");const fE="@firebase/remote-config",ri=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class HJ{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function $J(n=navigator){return n.languages&&n.languages[0]||n.language}class zJ{constructor(e,t,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){var i,r,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:$J()},h={method:"POST",headers:u,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((T,O)=>{e.signal.addEventListener(()=>{const H=new Error("The operation was aborted.");H.name="AbortError",O(H)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(T){let O="fetch-client-network";throw"AbortError"===(null===(i=T)||void 0===i?void 0:i.name)&&(O="fetch-timeout"),ri.create(O,{originalErrorMessage:null===(r=T)||void 0===r?void 0:r.message})}let _=m.status;const b=m.headers.get("ETag")||void 0;let v,I;if(200===m.status){let T;try{T=yield m.json()}catch(O){throw ri.create("fetch-client-parse",{originalErrorMessage:null===(s=O)||void 0===s?void 0:s.message})}v=T.entries,I=T.state}if("INSTANCE_STATE_UNSPECIFIED"===I?_=500:"NO_CHANGE"===I?_=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(v={}),304!==_&&200!==_)throw ri.create("fetch-status",{httpStatus:_});return{status:_,eTag:b,config:v}})()}}class WJ{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return g(function*(){yield function qJ(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function GJ(n){if(!(n instanceof wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Iw(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class QJ{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yp(n,e){var t;const i=n.target.error||void 0;return ri.create(e,{originalErrorMessage:i&&(null===(t=i)||void 0===t?void 0:t.message)})}const ea="app_namespace_store";class eee{constructor(e,t,i,r=function JJ(){return new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{e(Yp(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ea,{keyPath:"compositeKey"})}}catch(i){e(ri.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var o;const l=i.transaction([ea],"readonly").objectStore(ea),c=t.createCompositeKey(e);try{const u=l.get(c);u.onerror=d=>{s(Yp(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;r(h?h.value:void 0)}}catch(u){s(ri.create("storage-get",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}set(e,t){var i=this;return g(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{var a;const c=r.transaction([ea],"readwrite").objectStore(ea),u=i.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{o(Yp(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(ri.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var o;const l=i.transaction([ea],"readwrite").objectStore(ea),c=t.createCompositeKey(e);try{const u=l.delete(c);u.onerror=d=>{s(Yp(d,"storage-delete"))},u.onsuccess=()=>{r()}}catch(u){s(ri.create("storage-delete",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class tee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function iee(){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(){if(!Go())return!1;try{return yield Yu()}catch(n){return!1}})).apply(this,arguments)}!function nee(){On(new mn("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ri.create("registration-window");if(!Go())throw ri.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=i.options;if(!s)throw ri.create("registration-project-id");if(!o)throw ri.create("registration-api-key");if(!a)throw ri.create("registration-app-id");const l=new eee(a,i.name,t=t||"firebase"),c=new tee(l),u=new zl(fE);u.logLevel=Re.ERROR;const d=new zJ(r,Xo,t,s,o,a),h=new WJ(d,l),f=new HJ(h,l,c,u),p=new QJ(i,f,c,l,u);return function BJ(n){const e=st(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(fE,"0.3.15"),ot(fE,"0.3.15","esm2017")}();const ree="/firebase-messaging-sw.js",see="/firebase-cloud-messaging-push-scope",hF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fF="google.c.a.c_id",aee="google.c.a.c_l",lee="google.c.a.ts",cee="google.c.a.e";var Wl=(()=>{return(n=Wl||(Wl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Wl;var n})();function os(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uee(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const vE="fcm_token_details_db",pF="fcm_token_object_Store";function hee(n){return bE.apply(this,arguments)}function bE(){return bE=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(vE))return null;let e=null;return(yield $p(vE,5,{upgrade:(i=g(function*(r,s,o,a){var l;if(s<2||!r.objectStoreNames.contains(pF))return;const c=a.objectStore(pF),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:os(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:os(d.auth),p256dh:os(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:os(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:os(d.auth),p256dh:os(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:os(d.vapidKey)}}}}),function(s,o,a,l){return i.apply(this,arguments)})})).close(),yield kw(vE),yield kw("fcm_vapid_details_db"),yield kw("undefined"),fee(e)?e:null;var i}),bE.apply(this,arguments)}function fee(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ta="firebase-messaging-store";let wE=null;function EE(){return wE||(wE=$p("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ta)}})),wE}function mF(n){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(n){const e=SE(n),i=yield(yield EE()).transaction(ta).objectStore(ta).get(e);if(i)return i;{const r=yield hee(n.appConfig.senderId);if(r)return yield IE(n,r),r}})).apply(this,arguments)}function IE(n,e){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(n,e){const t=SE(n),r=(yield EE()).transaction(ta,"readwrite");return yield r.objectStore(ta).put(e,t),yield r.done,e})).apply(this,arguments)}function gee(n){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(n){const e=SE(n),i=(yield EE()).transaction(ta,"readwrite");yield i.objectStore(ta).delete(e),yield i.done})).apply(this,arguments)}function SE({appConfig:n}){return n.appId}const gn=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yee(n,e){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(n,e){var t;const i=yield RE(n),r=_F(e),s={method:"POST",headers:i,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(kE(n.appConfig),s)).json()}catch(a){throw gn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw gn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw gn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function vee(n,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(n,e){var t;const i=yield RE(n),r=_F(e.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${kE(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw gn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw gn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw gn.create("token-update-no-token");return o.token})).apply(this,arguments)}function gF(n,e){return xE.apply(this,arguments)}function xE(){return(xE=g(function*(n,e){var t;const r={method:"DELETE",headers:yield RE(n)};try{const o=yield(yield fetch(`${kE(n.appConfig)}/${e}`,r)).json();if(o.error)throw gn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw gn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function kE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function RE(n){return OE.apply(this,arguments)}function OE(){return(OE=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function _F({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==hF&&(r.web.applicationPubKey=i),r}function wee(n){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(n){const e=yield Cee(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:os(e.getKey("auth")),p256dh:os(e.getKey("p256dh"))},i=yield mF(n.firebaseDependencies);if(i){if(Iee(i.subscriptionOptions,t))return Date.now()>=i.createTime+6048e5?Eee(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield gF(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return vF(n.firebaseDependencies,t)}return vF(n.firebaseDependencies,t)})).apply(this,arguments)}function yF(n){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(n){const e=yield mF(n.firebaseDependencies);e&&(yield gF(n.firebaseDependencies,e.token),yield gee(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Eee(n,e){return FE.apply(this,arguments)}function FE(){return(FE=g(function*(n,e){try{const t=yield vee(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield IE(n.firebaseDependencies,i),t}catch(t){throw yield yF(n),t}})).apply(this,arguments)}function vF(n,e){return LE.apply(this,arguments)}function LE(){return(LE=g(function*(n,e){const i={token:yield yee(n,e),createTime:Date.now(),subscriptionOptions:e};return yield IE(n,i),i.token})).apply(this,arguments)}function Cee(n,e){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uee(e)})})).apply(this,arguments)}function Iee(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function bF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Tee(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Dee(n,e){!e.data||(n.data=e.data)}(e,n),function See(n,e){var t,i,r,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Aee(n){return"object"==typeof n&&!!n&&fF in n}function wF(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function BE(n){return gn.create("missing-app-config-values",{valueName:n})}wF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xee{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Mee(n){if(!n||!n.options)throw BE("App Configuration Object");if(!n.name)throw BE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw BE(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function EF(n){return UE.apply(this,arguments)}function UE(){return(UE=g(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(ree,{scope:see}),n.swRegistration.update().catch(()=>{})}catch(t){throw gn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function kee(n,e){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(n,e){if(!e&&!n.swRegistration&&(yield EF(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Ree(n,e){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=hF)})).apply(this,arguments)}function $E(){return($E=g(function*(n,e){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield Ree(n,null==e?void 0:e.vapidKey),yield kee(n,null==e?void 0:e.serviceWorkerRegistration),wee(n)})).apply(this,arguments)}function Oee(n,e,t){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(n,e,t){const i=Pee(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[fF],message_name:t[aee],message_time:t[lee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pee(n){switch(n){case Wl.NOTIFICATION_CLICKED:return"notification_open";case Wl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qE(){return(qE=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Wl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(bF(t)):n.onMessageHandler.next(bF(t)));const i=t.data;Aee(i)&&"1"===i[cee]&&(yield Oee(n,t.messageType,i))})).apply(this,arguments)}const IF="@firebase/messaging",Fee=n=>{const e=new xee(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Nee(n,e){return qE.apply(this,arguments)}(e,t)),e},Lee=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function CF(n,e){return $E.apply(this,arguments)}(e,i)}};function DF(){return GE.apply(this,arguments)}function GE(){return(GE=g(function*(){try{yield Yu()}catch(n){return!1}return"undefined"!=typeof window&&Go()&&bw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vee(){On(new mn("messaging",Fee,"PUBLIC")),On(new mn("messaging-internal",Lee,"PRIVATE")),ot(IF,"0.10.0"),ot(IF,"0.10.0","esm2017")}();const Qp="analytics",jee="firebase_id",zee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SF="https://www.googletagmanager.com/gtag/js",_n=new zl("@firebase/analytics");function AF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function qee(n,e){const t=document.createElement("script");t.src=`${SF}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Wee(n,e,t,i,r,s){return YE.apply(this,arguments)}function YE(){return(YE=g(function*(n,e,t,i,r,s){const o=i[r];try{if(o)yield e[o];else{const l=(yield AF(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){_n.error(a)}n("config",r,s)})).apply(this,arguments)}function Kee(n,e,t,i,r){return QE.apply(this,arguments)}function QE(){return(QE=g(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield AF(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){_n.error(s)}})).apply(this,arguments)}function Xee(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(SF)&&t.src.includes(n))return t;return null}const Ei=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),MF=new class tte{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function nte(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function ite(n){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:nte(i)},s=zee.replace("{app-id}",t),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Ei.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function rte(n){return ZE.apply(this,arguments)}function ZE(){return(ZE=g(function*(n,e=MF,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Ei.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Ei.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ate;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),xF({appId:i,apiKey:r,measurementId:s},o,a,e)})).apply(this,arguments)}function xF(n,e,t){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=MF){var s,o;const{appId:a,measurementId:l}=n;try{yield ste(i,e)}catch(c){if(l)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw c}try{const c=yield ite(n);return r.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!ote(u)){if(r.deleteThrottleMetadata(a),l)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=503===Number(null===(o=null==u?void 0:u.customData)||void 0===o?void 0:o.httpStatus)?Iw(t,r.intervalMillis,30):Iw(t,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return r.setThrottleMetadata(a,h),_n.debug(`Calling attemptFetch again in ${d} millis`),xF(n,h,i,r)}})).apply(this,arguments)}function ste(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ote(n){if(!(n instanceof wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class ate{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let eC,oC;function tC(){return(tC=g(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function kF(n){oC=n}function RF(n){eC=n}function fte(){return aC.apply(this,arguments)}function aC(){return(aC=g(function*(){var n;if(!Go())return _n.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yu()}catch(e){return _n.warn(Ei.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function lC(){return(lC=g(function*(n,e,t,i,r,s,o){var a;const l=rte(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_n.error(f)),e.push(l);const c=fte().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);Xee(s)||qee(s,u.measurementId),oC&&(r("consent","default",oC),kF(void 0)),r("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[jee]=d),r("config",u.measurementId,h),eC&&(r("set",eC),RF(void 0)),u.measurementId})).apply(this,arguments)}class mte{constructor(e){this.app=e}_delete(){return delete as[this.app.options.appId],Promise.resolve()}}let as={},OF=[];const PF={};let FF,ls,Xp="dataLayer",cC=!1;function _te(n,e,t){!function gte(){const n=[];if(vw()&&n.push("This is a browser extension environment."),bw()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Ei.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}();const i=n.options.appId;if(!i)throw Ei.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Ei.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=as[i])throw Ei.create("already-exists",{id:i});if(!cC){!function Gee(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Xp);const{wrappedGtag:s,gtagCore:o}=function Qee(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function Yee(n,e,t,i){function s(){return(s=g(function*(o,a,l){try{"event"===o?yield Kee(n,e,t,a,l):"config"===o?yield Wee(n,e,t,i,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){_n.error(c)}})).apply(this,arguments)}return function r(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(as,OF,PF,Xp,"gtag");ls=s,FF=o,cC=!0}return as[i]=function pte(n,e,t,i,r,s,o){return lC.apply(this,arguments)}(n,OF,PF,e,FF,Xp,t),new mte(n)}function vte(){return uC.apply(this,arguments)}function uC(){return(uC=g(function*(){if(vw()||!bw()||!Go())return!1;try{return yield Yu()}catch(n){return!1}})).apply(this,arguments)}const LF="@firebase/analytics";!function wte(){On(new mn(Qp,(e,{options:t})=>_te(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),On(new mn("analytics-internal",function n(e){try{const t=e.getProvider(Qp).getImmediate();return{logEvent:(i,r,s)=>function bte(n,e,t,i){n=st(n),function lte(n,e,t,i,r){return tC.apply(this,arguments)}(ls,as[n.app.options.appId],e,t,i).catch(r=>_n.error(r))}(t,i,r,s)}}catch(t){throw Ei.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ot(LF,"0.8.4"),ot(LF,"0.8.4","esm2017")}();class Ete extends nt{constructor(e,t){super()}schedule(e,t=0){return this}}const Zp={setInterval(n,e,...t){const{delegate:i}=Zp;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zp;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Jp extends Ete{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Zp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Zp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Za(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const BF={now:()=>(BF.delegate||Date).now(),delegate:void 0};class ed{constructor(e,t=ed.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}ed.now=BF.now;class em extends ed{constructor(e,t=ed.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Tte=new class Ite extends em{}(class Cte extends Jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),td=new em(Jp),Dte=td;function It(n,e,t){const i=se(n)||e||t?{next:n,error:e,complete:t}:n;return i?mt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(it(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Rs}const nd=new Gs("7.4.1"),dC="__angularfire_symbol__analyticsIsSupportedValue",hC="__angularfire_symbol__analyticsIsSupported",fC="__angularfire_symbol__remoteConfigIsSupportedValue",pC="__angularfire_symbol__remoteConfigIsSupported",mC="__angularfire_symbol__messagingIsSupportedValue",gC="__angularfire_symbol__messagingIsSupported";function tm(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[hC]||(globalThis[hC]=vte().then(n=>globalThis[dC]=n).catch(()=>globalThis[dC]=!1)),globalThis[gC]||(globalThis[gC]=DF().then(n=>globalThis[mC]=n).catch(()=>globalThis[mC]=!1)),globalThis[pC]||(globalThis[pC]=iee().then(n=>globalThis[fC]=n).catch(()=>globalThis[fC]=!1));const nm=(n,e)=>{const t=e?[e]:BN(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};function Kl(){}class UF{constructor(e,t=Tte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},t,i)}}class Ste{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl)),t.pipe(It({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let im=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new UF(Zone.current)),this.insideAngular=t.run(()=>new UF(Zone.current,td)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(fe))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function na(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ate(n){return na().ngZone.runOutsideAngular(()=>n())}function ia(n){return na().ngZone.run(()=>n())}function Mte(n){return na(),function xte(n){return function(t){return(t=t.lift(new Ste(n.ngZone))).pipe(hf(n.outsideAngular),df(n.insideAngular))}}(na())(n)}const kte=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ia(()=>n.apply(void 0,i))},Tt=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl)))),i[s]=kte(i[s],t));const r=Ate(()=>n.apply(this,i));if(!e){if(r instanceof Be){const s=na();return r.pipe(hf(s.outsideAngular),df(s.insideAngular))}return ia(()=>r)}return r instanceof Be?r.pipe(Mte):r instanceof Promise?ia(()=>new Promise((s,o)=>r.then(a=>ia(()=>s(a)),a=>ia(()=>o(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:ia(()=>r)};class ra{constructor(e){return e}}class rm{constructor(){return BN()}}const yC=new F("angularfire2._apps"),Ote={provide:ra,useFactory:function Rte(n){return n&&1===n.length?n[0]:new ra(Gp())},deps:[[new Ze,yC]]},Pte={provide:rm,deps:[[new Ze,yC]]};function Nte(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ra(i)}}let Fte=(()=>{class n{constructor(t){ot("angularfire",nd.full,"core"),ot("angularfire",nd.full,"app"),ot("angular",P1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Ws))},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[Ote,Pte]}),n})();function Lte(n,...e){return{ngModule:Fte,providers:[{provide:yC,useFactory:Nte(n),multi:!0,deps:[fe,rt,im,...e]}]}}const Vte=Tt(VN,!0),jF=new Map,Bte={activated:!1,tokenObservers:[]},Ute={initialized:!1,enabled:!1};function sn(n){return jF.get(n)||Bte}function Hi(n,e){jF.set(n,e)}function sm(){return Ute}class qte{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Bp,yield function Gte(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const qn=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $F(n){if(!sn(n).activated)throw qn.create("use-before-activation",{appName:n.name})}function wC(n,e){return EC.apply(this,arguments)}function EC(){return(EC=g(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,c;try{l=yield fetch(n,a)}catch(f){throw qn.create("fetch-network-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}if(200!==l.status)throw qn.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(f){throw qn.create("fetch-parse-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(u[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Qte(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const id="firebase-app-check-store";let lm=null;function qF(){return lm||(lm=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(qn.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(id,{keyPath:"compositeKey"})}}catch(i){e(qn.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),lm)}function CC(){return(CC=g(function*(n,e){const i=(yield qF()).transaction(id,"readwrite"),s=i.objectStore(id).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(qn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const rd=new zl("@firebase/app-check");function DC(n,e){return Go()?function ene(n,e){return function GF(n,e){return CC.apply(this,arguments)}(function KF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{rd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YF(){return sm().enabled}function QF(){return AC.apply(this,arguments)}function AC(){return(AC=g(function*(){const n=sm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const one={error:"UNKNOWN_ERROR"};function ane(n){return yw.encodeString(JSON.stringify(n),!1)}function cm(n){return MC.apply(this,arguments)}function MC(){return(MC=g(function*(n,e=!1){const t=n.app;$F(t);const i=sn(t);let s,r=i.token;if(r&&!Yl(r)&&(Hi(t,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(Yl(l)?r=l:yield DC(t,void 0))}if(!e&&r&&Yl(r))return{token:r.token};let a,o=!1;if(YF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=wC(Qte(t,yield QF()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const l=yield i.exchangeTokenPromise;return yield DC(t,l),Hi(t,Object.assign(Object.assign({},i),{token:l})),{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield i.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?rd.warn(l.message):rd.error(l),s=l}return r?s?a=Yl(r)?{token:r.token,internalError:s}:JF(s):(a={token:r.token},Hi(t,Object.assign(Object.assign({},i),{token:r})),yield DC(t,r)):a=JF(s),o&&ZF(t,a),a})).apply(this,arguments)}function kC(n,e){const t=sn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hi(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function XF(n){const{app:e}=n,t=sn(e);let i=t.tokenRefresher;i||(i=function lne(n){const{app:e}=n;return new qte(g(function*(){let i;if(i=sn(e).token?yield cm(n,!0):yield cm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=sn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hi(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ZF(n,e){const t=sn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Yl(n){return n.expireTimeMillis-Date.now()>0}function JF(n){return{token:ane(one),error:n}}class cne{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=sn(this.app);for(const t of e)kC(this.app,t.next);return Promise.resolve()}}const aL="app-check-internal";!function Cne(){On(new mn("app-check",n=>function une(n,e){return new cne(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aL).initialize()})),On(new mn(aL,n=>function dne(n){return{getToken:e=>cm(n,e),addTokenListener:e=>function xC(n,e,t,i){const{app:r}=n,s=sn(r),o={next:t,error:i,type:e};if(Hi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Yl(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),XF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XF(n))}(n,"INTERNAL",e),removeTokenListener:e=>kC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.5.16")}();class dm{constructor(){return nm("app-check")}}"undefined"!=typeof window&&window;const Ane=function cL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uL=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dL=new zl("@firebase/auth");function hm(n,...e){dL.logLevel<=Re.ERROR&&dL.error(`Auth (${Xo}): ${n}`,...e)}function si(n,...e){throw FC(n,...e)}function Rr(n,...e){return FC(n,...e)}function hL(n,e,t){const i=Object.assign(Object.assign({},Ane()),{[e]:t});return new kr("auth","Firebase",i).create(e,{appName:n.name})}function FC(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return uL.create(n,...e)}function P(n,e,...t){if(!n)throw FC(e,...t)}function Or(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hm(e),new Error(e)}function Qs(n,e){n||Or(e)}const fL=new Map;function cs(n){Qs(n instanceof Function,"Expected a class definition");let e=fL.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fL.set(n,e),e)}function sd(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function pL(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=function wX(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}()||function EX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function kne(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function LC(){return"http:"===pL()||"https:"===pL()}()||vw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function VC(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class mL{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const One={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pne=new od(3e4,6e4);function Qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function on(n,e,t,i){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(n,e,t,i,r={}){return gL(n,r,g(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=Hp(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),mL.fetch()(_L(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function gL(n,e,t){return UC.apply(this,arguments)}function UC(){return(UC=g(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},One),e);try{const r=new Nne(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ad(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw ad(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw ad(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw ad(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hL(n,u,c);si(n,u)}}catch(r){if(r instanceof wi)throw r;si(n,"network-request-failed")}})).apply(this,arguments)}function us(n,e,t,i){return jC.apply(this,arguments)}function jC(){return(jC=g(function*(n,e,t,i,r={}){const s=yield on(n,e,t,i,r);return"mfaPendingCredential"in s&&si(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function _L(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?VC(n.config,r):`${n.config.apiScheme}://${r}`}class Nne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Rr(this.auth,"network-request-failed")),Pne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ad(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Rr(n,e,i);return r.customData._tokenResponse=t,r}function HC(){return(HC=g(function*(n,e){return on(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Vne(n,e){return zC.apply(this,arguments)}function zC(){return(zC=g(function*(n,e){return on(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ld(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function qC(){return(qC=g(function*(n,e=!1){const t=st(n),i=yield t.getIdToken(e),r=fm(i);P(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ld(GC(r.auth_time)),issuedAtTime:ld(GC(r.iat)),expirationTime:ld(GC(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function GC(n){return 1e3*Number(n)}function fm(n){var e;const[t,i,r]=n.split(".");if(void 0===t||void 0===i||void 0===r)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vp(i);return s?JSON.parse(s):(hm("Failed to decode base64 JWT payload"),null)}catch(s){return hm("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ds(n,e){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof wi&&jne(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function jne({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Hne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),i)}iteration(){var e=this;return g(function*(){var t;try{yield e.user.getIdToken(!0)}catch(i){return void("auth/network-request-failed"===(null===(t=i)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class yL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ld(this.lastLoginAt),this.creationTime=ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cd(n){return KC.apply(this,arguments)}function KC(){return(KC=g(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield ds(n,Vne(t,{idToken:i}));P(null==r?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?qne(s.providerUserInfo):[],a=zne(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function YC(){return(YC=g(function*(n){const e=st(n);yield cd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zne(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qne(n){return n.map(e=>{var{providerId:t}=e,i=_y(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function QC(){return(QC=g(function*(n,e){const t=yield gL(n,{},g(function*(){const i=Hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=_L(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mL.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(void 0!==e.idToken,"internal-error"),P(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Une(n){const e=fm(n);return P(e,"internal-error"),P(void 0!==e.exp,"internal-error"),P(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return g(function*(){return P(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return g(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Gne(n,e){return QC.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new ud;return i&&(P("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(P("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ud,this.toJSON())}_performRefresh(){return Or("not implemented")}}function Xs(n,e){P("string"==typeof n||void 0===n,"internal-error",{appName:e})}class sa{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const i=yield ds(t,t.stsTokenManager.getToken(t.auth,e));return P(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Bne(n){return qC.apply(this,arguments)}(this,e)}reload(){return function $ne(n){return YC.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return g(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield cd(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield ds(e,function Fne(n,e){return HC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:T,isAnonymous:O,providerData:H,stsTokenManager:ie}=t;P(I&&ie,e,"internal-error");const Qe=ud.fromJSON(this.name,ie);P("string"==typeof I,e,"internal-error"),Xs(d,e.name),Xs(h,e.name),P("boolean"==typeof T,e,"internal-error"),P("boolean"==typeof O,e,"internal-error"),Xs(f,e.name),Xs(p,e.name),Xs(m,e.name),Xs(_,e.name),Xs(b,e.name),Xs(v,e.name);const Lt=new sa({uid:I,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Qe,createdAt:b,lastLoginAt:v});return H&&Array.isArray(H)&&(Lt.providerData=H.map(Zn=>Object.assign({},Zn))),_&&(Lt._redirectEventId=_),Lt}static _fromIdTokenResponse(e,t,i=!1){return g(function*(){const r=new ud;r.updateFromServerResponse(t);const s=new sa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield cd(s),s})()}}const vL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,i){var r=this;return g(function*(){r.storage[t]=i})()}_get(t){var i=this;return g(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return g(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function pm(n,e,t){return`firebase:${n}:${e}:${t}`}class Xl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=pm(this.userKey,r.apiKey,s),this.fullPersistenceKey=pm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?sa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return g(function*(){if(!t.length)return new Xl(cs(vL),e,i);const r=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||cs(vL);const o=pm(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=sa._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new Xl(s,e,i)):new Xl(s,e,i)})()}}function bL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TL(e))return"Blackberry";if(DL(e))return"Webos";if(XC(e))return"Safari";if((e.includes("chrome/")||EL(e))&&!e.includes("edge/"))return"Chrome";if(IL(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function wL(n=rn()){return/firefox\//i.test(n)}function XC(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EL(n=rn()){return/crios\//i.test(n)}function CL(n=rn()){return/iemobile/i.test(n)}function IL(n=rn()){return/android/i.test(n)}function TL(n=rn()){return/blackberry/i.test(n)}function DL(n=rn()){return/webos/i.test(n)}function mm(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SL(n=rn()){return mm(n)||IL(n)||DL(n)||TL(n)||/windows phone/i.test(n)||CL(n)}function AL(n,e=[]){let t;switch(n){case"Browser":t=bL(rn());break;case"Worker":t=`${bL(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${i}`}class Qne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){var i;if(t.auth.currentUser===e)return;const r=[];try{for(const s of t.queue)yield s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const o of r)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(i=s)||void 0===i?void 0:i.message})}})()}}class Xne{constructor(e,t,i){this.app=e,this.heartbeatServiceProvider=t,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ML(this),this.idTokenSubscription=new ML(this),this.beforeStateQueue=new Qne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uL,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(g(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Xl.create(i,e),!i._deleted)){if(null===(r=i._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch(o){}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return P(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){var i;try{yield cd(e)}catch(r){if("auth/network-request-failed"!==(null===(i=r)||void 0===i?void 0:i.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rne(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const i=e?st(e):null;return i&&P(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return g(function*(){if(!i._deleted)return e&&P(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(g(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(cs(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return g(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const i=e&&cs(e)||t._popupRedirectResolver;P(i,t,"argument-error"),t.redirectPersistenceManager=yield Xl.create(t,[cs(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var i,r;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(i["X-Firebase-Client"]=r),i})()}}function oi(n){return st(n)}class ML{constructor(e){this.auth=e,this.observer=null,this.addObserver=function OX(n,e){const t=new PX(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kL(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class RL{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}function JC(){return(JC=g(function*(n,e){return on(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function t0(){return(t0=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithPassword",Qt(n,e))})).apply(this,arguments)}function l0(){return(l0=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))})).apply(this,arguments)}function c0(){return(c0=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))})).apply(this,arguments)}class dd extends RL{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new dd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function nie(n,e){return t0.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function aie(n,e){return l0.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:si(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return g(function*(){switch(i.signInMethod){case"password":return function PL(n,e){return JC.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function lie(n,e){return c0.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:si(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function hs(n,e){return u0.apply(this,arguments)}function u0(){return(u0=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithIdp",Qt(n,e))})).apply(this,arguments)}class pd{constructor(e){var t,i,r,s,o,a;const l=Qu(Xu(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function mie(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);P(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function gie(n){const e=Qu(Xu(n)).link,t=e?Qu(Xu(e)).deep_link_id:null,i=Qu(Xu(n)).deep_link_id;return(i?Qu(Xu(i)).link:null)||i||t||e||n}(e);try{return new pd(t)}catch(i){return null}}}let NL=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return dd._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=pd.parseLink(i);return P(r,"argument-error"),dd._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _ie extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function FL(n,e){return g0.apply(this,arguments)}function g0(){return(g0=g(function*(n,e){return us(n,"POST","/v1/accounts:signUp",Qt(n,e))})).apply(this,arguments)}class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return g(function*(){const s=yield sa._fromIdTokenResponse(e,i,r),o=LL(i);return new $i({user:s,providerId:o,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return g(function*(){yield e._updateTokensIfNecessary(i,!0);const r=LL(i);return new $i({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function LL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ym extends wi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new ym(e,t,i,r)}}function VL(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ym._fromErrorAndOperation(n,s,e,i):s})}function v0(n,e){return b0.apply(this,arguments)}function b0(){return(b0=g(function*(n,e,t=!1){const i=yield ds(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return $i._forOperation(n,"link",i)})).apply(this,arguments)}function E0(){return(E0=g(function*(n,e,t=!1){var i;const{auth:r}=n,s="reauthenticate";try{const o=yield ds(n,VL(r,s,e,n),t);P(o.idToken,r,"internal-error");const a=fm(o.idToken);P(a,r,"internal-error");const{sub:l}=a;return P(n.uid===l,r,"user-mismatch"),$i._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(i=o)||void 0===i?void 0:i.code)&&si(r,"user-mismatch"),o}})).apply(this,arguments)}function jL(n,e){return C0.apply(this,arguments)}function C0(){return(C0=g(function*(n,e,t=!1){const i="signIn",r=yield VL(n,i,e),s=yield $i._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function T0(){return(T0=g(function*(n,e){return jL(oi(n),e)})).apply(this,arguments)}function Iie(n,e,t){return L0.apply(this,arguments)}function L0(){return(L0=g(function*(n,e,t){const i=oi(n),r=yield FL(i,{returnSecureToken:!0,email:e,password:t}),s=yield $i._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function Tie(n,e,t){return function I0(n,e){return T0.apply(this,arguments)}(st(n),NL.credential(e,t))}function Sie(n,e){return z0.apply(this,arguments)}function z0(){return(z0=g(function*(n,e){return on(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Aie(n,e){return q0.apply(this,arguments)}function q0(){return(q0=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=st(n),s={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield ds(i,Sie(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function $L(n,e,t,i){return st(n).onIdTokenChanged(e,t,i)}const wm="__sak";class zL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hie=(()=>{class n extends zL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bie(){const n=rn();return XC(n)||mm(n)}()&&function Yne(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=SL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function Kne(){return function CX(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,s=this;return g(function*(){yield r().call(s,t,i),s.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return g(function*(){const s=yield i().call(r,t);return r.localCache[t]=JSON.stringify(s),s})()}_remove(t){var i=()=>super._remove,r=this;return g(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),qL=(()=>{class n extends zL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let zie=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return g(function*(){const r=t,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!(null==l?void 0:l.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=g(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function $ie(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Z0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class qie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Z0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function Xt(){return window}function J0(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function eI(){return(eI=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const GL="firebaseLocalStorageDb",Em="firebaseLocalStorage",WL="fbase_key";class gd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cm(n,e){return n.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function tI(){const n=indexedDB.open(GL,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Em,{keyPath:WL})}catch(r){t(r)}}),n.addEventListener("success",g(function*(){const i=n.result;i.objectStoreNames.contains(Em)?e(i):(i.close(),yield function Xie(){const n=indexedDB.deleteDatabase(GL);return new gd(n).toPromise()}(),e(yield tI()))}))})}function KL(n,e,t){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(n,e,t){const i=Cm(n,!0).put({[WL]:e,value:t});return new gd(i).toPromise()})).apply(this,arguments)}function iI(){return(iI=g(function*(n,e){const t=Cm(n,!1).get(e),i=yield new gd(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function YL(n,e){const t=Cm(n,!0).delete(e);return new gd(t).toPromise()}const tre=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield tI()),t.db})()}_withRetries(t){var i=this;return g(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield t(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return J0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=zie._getInstance(function Yie(){return J0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=g(function*(r,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=g(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var i,r;if(t.activeServiceWorker=yield function Wie(){return eI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new qie(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(i=s[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=s[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return g(function*(){if(i.sender&&i.activeServiceWorker&&function Kie(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch(r){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield tI();return yield KL(t,wm,"1"),yield YL(t,wm),!0}catch(t){}return!1})()}_withPendingWrite(t){var i=this;return g(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(s=>KL(s,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return g(function*(){const r=yield i._withRetries(s=>function Zie(n,e){return iI.apply(this,arguments)}(s,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(r=>YL(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const i=yield t._withRetries(o=>{const a=Cm(o,!1).getAll();return new gd(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),r.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function XL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function aa(n,e){return e?cs(e):(P(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}XL("rcb"),new od(3e4,6e4);class fI extends RL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yre(n){return jL(n.auth,new fI(n),n.bypassAuthState)}function vre(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function UL(n,e){return E0.apply(this,arguments)}(t,new fI(n),n.bypassAuthState)}function bre(n){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),v0(t,new fI(n),n.bypassAuthState)})).apply(this,arguments)}new od(2e3,1e4);const _d=new Map;class Cre extends class wre{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yre;case"linkViaPopup":case"linkViaRedirect":return bre;case"reauthViaPopup":case"reauthViaRedirect":return vre;default:si(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let i=_d.get(t.auth._key());if(!i){try{const s=(yield function Ire(n,e){return vI.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}_d.set(t.auth._key(),i)}return t.bypassAuthState||_d.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function vI(){return(vI=g(function*(n,e){const t=eV(e),i=JL(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function Tre(n,e){_d.set(n._key(),e)}function JL(n){return cs(n._redirectPersistence)}function eV(n){return pm("pendingRedirect",n.config.apiKey,n.name)}function tV(n,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(n,e,t=!1){const i=oi(n),r=aa(i,e),o=yield new Cre(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}class xre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function kre(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!rV(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iV(e))}saveEventToCache(e){this.cachedEventUids.add(iV(e)),this.lastProcessedEventTime=Date.now()}}function iV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Rre(n){return AI.apply(this,arguments)}function AI(){return(AI=g(function*(n,e={}){return on(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Ore=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pre=/^https?/;function MI(){return(MI=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Rre(n);for(const t of e)try{if(Fre(t))return}catch(i){}si(n,"unauthorized-domain")})).apply(this,arguments)}function Fre(n){const e=sd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===i}if(!Pre.test(t))return!1;if(Ore.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Lre=new od(3e4,6e4);function sV(){const n=Xt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Tm=null;function Bre(n){return Tm=Tm||function Vre(n){return new Promise((e,t)=>{var i,r,s;function o(){sV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sV(),t(Rr(n,"network-request-failed"))},timeout:Lre.get()})}if(null===(r=null===(i=Xt().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Xt().gapi)||void 0===s?void 0:s.load)){const a=XL("iframefcb");return Xt()[a]=()=>{gapi.load?o():t(Rr(n,"network-request-failed"))},function QL(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Rr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",function sre(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Tm=null,e})}(n),Tm}const Ure=new od(5e3,15e3),$re={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qre(n){const e=n.config;P(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?VC(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:Xo},r=zre.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Hp(i).slice(1)}`}function xI(){return xI=g(function*(n){const e=yield Bre(n),t=Xt().gapi;return P(t,n,"internal-error"),e.open({where:document.body,url:qre(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$re,dontclear:!0},i=>new Promise(function(){var r=g(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Rr(n,"network-request-failed"),l=Xt().setTimeout(()=>{o(a)},Ure.get());function c(){Xt().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),xI.apply(this,arguments)}const Wre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function aV(n,e,t,i,r,s){P(n.config.authDomain,n,"auth-domain-config-required"),P(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Xo,eventId:r};if(e instanceof Zs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function RX(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof _ie){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function nse({config:n}){return n.emulator?VC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Hp(a).slice(1)}`}const kI="webStorageSupport",rse=class ise{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qL,this._completeRedirectFn=tV,this._overrideRedirectResult=Tre}_openPopup(e,t,i,r){var s=this;return g(function*(){var o;Qs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=aV(e,t,i,sd(),r);return function Zre(n,e,t,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Wre),{width:i.toString(),height:r.toString(),top:s,left:o}),c=rn().toLowerCase();t&&(a=EL(c)?"_blank":t),wL(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Wne(n=rn()){var e;return mm(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function Jre(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new oV(null);const d=window.open(e||"",a,u);P(d,n,"popup-blocked");try{d.focus()}catch(h){}return new oV(d)}(e,a,Z0())})()}_openRedirect(e,t,i,r){var s=this;return g(function*(){return yield s._originValidation(e),function Gie(n){Xt().location.href=n}(aV(e,t,i,sd(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Qs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return g(function*(){const i=yield function Gre(n){return xI.apply(this,arguments)}(e),r=new xre(e);return i.register("authEvent",s=>(P(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kI,{type:kI},r=>{var s;const o=null===(s=null==r?void 0:r[0])||void 0===s?void 0:s[kI];void 0!==o&&t(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Nre(n){return MI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SL()||XC()||mm()}};var cV="@firebase/auth",uV="0.20.11";class sse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{var r;e((null===(r=i)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cse=SN("authIdTokenMaxAge")||300;let dV=null;const use=n=>function(){var e=g(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cse)return;const s=null==i?void 0:i.token;dV!==s&&(dV=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function dse(n=Gp()){const e=Qo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Mne(n,e){const t=Qo(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(jp(t.getOptions(),null!=e?e:{}))return r;si(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:rse,persistence:[tre,Hie,qL]}),i=SN("authTokenSyncURL");if(i){const s=use(i);(function Pie(n,e,t){st(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),$L(t,o=>s(o))}const r=TN("auth");return r&&function Zne(n,e,t){const i=oi(n);P(i._canInitEmulator,i,"emulator-config-failed"),P(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==t?void 0:t.disableWarnings),s=xL(e),{host:o,port:a}=function Jne(n){const e=xL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:kL(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:kL(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function eie(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}function hse(n){return new Be(function(e){var t=function Nie(n,e,t,i){return st(n).onAuthStateChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function hV(n){return new Be(function(e){return{unsubscribe:$L(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function ase(n){On(new mn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{P(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),P(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AL(n)},u=new Xne(a,l,c);return function xne(n,e){const t=(null==e?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(cs);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),On(new mn("auth-internal",e=>{const t=oi(e.getProvider("auth").getImmediate());return new sse(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(cV,uV,function ose(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ot(cV,uV,"esm2017")}("Browser");class yd{constructor(e){return e}}class RI{constructor(){return nm("auth")}}const OI=new F("angularfire2.auth-instances");function pse(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new yd(i)}}const mse={provide:RI,deps:[[new Ze,OI]]},gse={provide:yd,useFactory:function fse(n,e){const t=tm("auth",n,e);return t&&new yd(t)},deps:[[new Ze,OI],ra]};let _se=(()=>{class n{constructor(){ot("angularfire",nd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[gse,mse]}),n})();function yse(n,...e){return{ngModule:_se,providers:[{provide:OI,useFactory:pse(n),multi:!0,deps:[fe,rt,im,rm,[new Ze,dm],...e]}]}}const vse=Tt(hse,!0),bse=Tt(hV,!0),wse=Tt(Iie,!0),Ese=Tt(dse,!0),Cse=Tt(Tie,!0),Ise=Tt(Aie,!0);function Y(...n){return lt(n,tu(n))}function zi(n,e){return se(e)?vt(n,e,1):vt(n,1)}let vd=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=vse(this.auth)}login(t,i){return lt(Cse(this.auth,t,i))}signUp(t,i){return lt(wse(this.auth,t,i))}updateProfileData(t){return Y(this.auth.currentUser).pipe(zi(r=>{if(!r)throw new Error("Not Authenticated");return Ise(r,t)}))}logout(){return lt(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(C(yd))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qi extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Tse}=Array,{getPrototypeOf:Dse,prototype:Sse,keys:Ase}=Object;function pV(n){if(1===n.length){const e=n[0];if(Tse(e))return{args:e,keys:null};if(function Mse(n){return n&&"object"==typeof n&&Dse(n)===Sse}(e)){const t=Ase(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:xse}=Array;function PI(n){return K(e=>function kse(n,e){return xse(e)?n(...e):n(e)}(n,e))}function mV(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Dm(...n){const e=tu(n),t=sx(n),{args:i,keys:r}=pV(n);if(0===i.length)return lt([],e);const s=new Be(function Rse(n,e,t=Rs){return i=>{gV(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)gV(e,()=>{const c=lt(n[l],e);let u=!1;c.subscribe(it(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>mV(r,o):Rs));return t?s.pipe(PI(t)):s}function gV(n,e,t){n?Gr(t,n,e):e()}function Zl(n,e){const t=se(n)?n:()=>n,i=r=>r.error(t());return new Be(e?r=>e.schedule(i,0,r):i)}const Sm=tn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bd(...n){return function Ose(){return eu(1)}()(lt(n,tu(n)))}function Jl(n){return new Be(e=>{fn(n()).subscribe(e)})}function _V(){return mt((n,e)=>{let t=null;n._refCount++;const i=it(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class yV extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;const t=this.getSubject();e.add(this.source.subscribe(it(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return _V()(this)}}function Ot(n,e){return mt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(it(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;fn(n(l,u)).subscribe(r=it(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ut(n){return n<=0?()=>Qi:mt((e,t)=>{let i=0;e.subscribe(it(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function cr(...n){const e=tu(n);return mt((t,i)=>{(e?bd(n,t,e):bd(n,t)).subscribe(i)})}function Pse(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(it(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function vV(n,e){return mt(Pse(n,e,arguments.length>=2,!0))}function dt(n,e){return mt((t,i)=>{let r=0;t.subscribe(it(i,s=>n.call(e,s,r++)&&i.next(s)))})}function fs(n){return mt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(it(t,void 0,void 0,o=>{s=fn(n(o,fs(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function NI(n){return n<=0?()=>Qi:mt((e,t)=>{let i=[];e.subscribe(it(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function bV(n=Nse){return mt((e,t)=>{let i=!1;e.subscribe(it(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Nse(){return new Sm}function wV(n){return mt((e,t)=>{let i=!1;e.subscribe(it(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ec(n,e){const t=arguments.length>=2;return i=>i.pipe(n?dt((r,s)=>n(r,s,i)):Rs,ut(1),t?wV(e):bV(()=>new Sm))}function EV(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ps{constructor(e,t){this.id=e,this.url=t}}class FI extends ps{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wd extends ps{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class CV extends ps{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lse extends ps{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vse extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bse extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Use extends ps{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jse extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hse extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IV{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TV{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $se{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zse{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qse{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gse{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DV{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ce="primary";class Wse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tc(n){return new Wse(n)}const SV="ngNavigationCancelingError";function LI(n){const e=Error("NavigationCancelingError: "+n);return e[SV]=!0,e}function Yse(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!AV(n[r],e[r]))return!1;return!0}function AV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function MV(n){return Array.prototype.concat.apply([],n)}function xV(n){return n.length>0?n[n.length-1]:null}function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nr(n){return ab(n)?n:Mu(n)?lt(Promise.resolve(n)):Y(n)}const Zse={exact:function OV(n,e,t){if(!ca(n.segments,e.segments)||!Am(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!OV(n.children[i],e.children[i],t))return!1;return!0},subset:PV},kV={exact:function Jse(n,e){return Pr(n,e)},subset:function eoe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AV(n[t],e[t]))},ignored:()=>!0};function RV(n,e,t){return Zse[t.paths](n.root,e.root,t.matrixParams)&&kV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PV(n,e,t){return NV(n,e,e.segments,t)}function NV(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ca(r,t)||e.hasChildren()||!Am(r,t,i))}if(n.segments.length===t.length){if(!ca(n.segments,t)||!Am(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!PV(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ca(n.segments,r)&&Am(n.segments,r,i)&&n.children[Ce])&&NV(n.children[Ce],e,s,i)}}function Am(n,e,t){return e.every((i,r)=>kV[t](n[r].parameters,i.parameters))}class la{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}toString(){return ioe.serialize(this)}}class Se{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mm(this)}}class Ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tc(this.parameters)),this._parameterMap}toString(){return UV(this)}}function ca(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class FV{}class LV{parse(e){const t=new hoe(e);return new la(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Cd(e.root,!0)}`,i=function ooe(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${xm(t)}=${xm(r)}`).join("&"):`${xm(t)}=${xm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function roe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ioe=new LV;function Mm(n){return n.segments.map(e=>UV(e)).join("/")}function Cd(n,e){if(!n.hasChildren())return Mm(n);if(e){const t=n.children[Ce]?Cd(n.children[Ce],!1):"",i=[];return yn(n.children,(r,s)=>{s!==Ce&&i.push(`${s}:${Cd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function noe(n,e){let t=[];return yn(n.children,(i,r)=>{r===Ce&&(t=t.concat(e(i,r)))}),yn(n.children,(i,r)=>{r!==Ce&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ce?[Cd(n.children[Ce],!1)]:[`${r}:${Cd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ce]?`${Mm(n)}/${t[0]}`:`${Mm(n)}/(${t.join("//")})`}}function VV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xm(n){return VV(n).replace(/%3B/gi,";")}function VI(n){return VV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function km(n){return decodeURIComponent(n)}function BV(n){return km(n.replace(/\+/g,"%20"))}function UV(n){return`${VI(n.path)}${function soe(n){return Object.keys(n).map(e=>`;${VI(e)}=${VI(n[e])}`).join("")}(n.parameters)}`}const aoe=/^[^\/()?;=#]+/;function Rm(n){const e=n.match(aoe);return e?e[0]:""}const loe=/^[^=?&#]+/,uoe=/^[^&#]+/;class hoe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ce]=new Se(e,t)),i}parseSegment(){const e=Rm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ed(km(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Rm(this.remaining);r&&(i=r,this.capture(i))}e[km(t)]=km(i)}parseQueryParam(e){const t=function coe(n){const e=n.match(loe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function doe(n){const e=n.match(uoe);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=BV(t),s=BV(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Rm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ce);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ce]:new Se([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=BI(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=BI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=UI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return UI(e,this._root).map(t=>t.value)}}function BI(n,e){if(n===e.value)return e;for(const t of e.children){const i=BI(n,t);if(i)return i}return null}function UI(n,e){if(n===e.value)return[e];for(const t of e.children){const i=UI(n,t);if(i.length)return i.unshift(e),i}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HV extends jV{constructor(e,t){super(e),this.snapshot=t,jI(this,e)}toString(){return this.snapshot.toString()}}function $V(n,e){const t=function foe(n,e){const o=new Om([],{},{},"",{},Ce,e,null,n.root,-1,{});return new qV("",new ms(o,[]))}(n,e),i=new qi([new Ed("",{})]),r=new qi({}),s=new qi({}),o=new qi({}),a=new qi(""),l=new ic(i,r,o,a,s,Ce,e,t.root);return l.snapshot=t.root,new HV(new ms(l,[]),t)}class ic{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(e=>tc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(e=>tc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zV(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function poe(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Om{constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qV extends jV{constructor(e,t){super(t),this.url=e,jI(this,t)}toString(){return GV(this._root)}}function jI(n,e){e.value._routerState=n,e.children.forEach(t=>jI(n,t))}function GV(n){const e=n.children.length>0?` { ${n.children.map(GV).join(", ")} } `:"";return`${n.value}${e}`}function HI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pr(e.params,t.params)||n.params.next(t.params),function Qse(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $I(n,e){const t=Pr(n.params,e.params)&&function toe(n,e){return ca(n,e)&&n.every((t,i)=>Pr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$I(n.parent,e.parent))}function Id(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function goe(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Id(n,i,r);return Id(n,i)})}(n,e,t);return new ms(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Id(n,a)),o}}const i=function _oe(n){return new ic(new qi(n.url),new qi(n.params),new qi(n.queryParams),new qi(n.fragment),new qi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Id(n,s));return new ms(i,r)}}function Pm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Td(n){return"object"==typeof n&&null!=n&&n.outlets}function zI(n,e,t,i,r){let s={};if(i&&yn(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new la(t,s,r);const o=WV(n,e,t);return new la(o,s,r)}function WV(n,e,t){const i={};return yn(n.children,(r,s)=>{i[s]=r===e?t:WV(r,e,t)}),new Se(n.segments,i)}class KV{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Pm(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Td);if(r&&r!==xV(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qI{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function YV(n,e,t){if(n||(n=new Se([],{})),0===n.segments.length&&n.hasChildren())return Nm(n,e,t);const i=function Coe(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Td(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!XV(l,c,o))return s;i+=2}else{if(!XV(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Se(n.segments.slice(0,i.pathIndex),{});return s.children[Ce]=new Se(n.segments.slice(i.pathIndex),n.children),Nm(s,0,r)}return i.match&&0===r.length?new Se(n.segments,{}):i.match&&!n.hasChildren()?GI(n,e,t):i.match?Nm(n,0,r):GI(n,e,t)}function Nm(n,e,t){if(0===t.length)return new Se(n.segments,{});{const i=function Eoe(n){return Td(n[0])?n[0].outlets:{[Ce]:n}}(t),r={};return yn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=YV(n.children[o],e,s))}),yn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Se(n.segments,r)}}function GI(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Td(s)){const l=Ioe(s.outlets);return new Se(i,l)}if(0===r&&Pm(t[0])){i.push(new Ed(n.segments[e].path,QV(t[0]))),r++;continue}const o=Td(s)?s.outlets[Ce]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Pm(a)?(i.push(new Ed(o,QV(a))),r+=2):(i.push(new Ed(o,{})),r++)}return new Se(i,{})}function Ioe(n){const e={};return yn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=GI(new Se([],{}),0,t))}),e}function QV(n){const e={};return yn(n,(t,i)=>e[i]=`${t}`),e}function XV(n,e,t){return n==t.path&&Pr(e,t.parameters)}class Doe{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),HI(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=nc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),yn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=nc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Gse(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zse(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(HI(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),HI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Soe(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class WI{constructor(e,t){this.routes=e,this.module=t}}function Js(n){return"function"==typeof n}function ua(n){return n instanceof la}const Dd=Symbol("INITIAL_VALUE");function Sd(){return Ot(n=>Dm(n.map(e=>e.pipe(ut(1),cr(Dd)))).pipe(vV((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==Dd?r:(s===Dd&&(i=!0),i||!1!==s&&o!==t.length-1&&!ua(s)?r:s),e)},Dd),dt(e=>e!==Dd),K(e=>ua(e)?e:!0===e),ut(1)))}class Ooe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ad,this.attachRef=null}}class Ad{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ooe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let KI=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.name=s||Ce,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Poe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(y(Ad),y(ti),y(Ho),Bs("name"),y(ni))},n.\u0275dir=$({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Poe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ic?this.route:e===Ad?this.childContexts:this.parent.get(e,t)}}let ZV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&ne(0,"router-outlet")},directives:[KI],encapsulation:2}),n})();function JV(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Noe(i,Foe(e,i))}}function Noe(n,e){n.children&&JV(n.children,e)}function Foe(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function YI(n){const e=n.children&&n.children.map(YI),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=ZV),t}function Gi(n){return n.outlet||Ce}function eB(n,e){const t=n.filter(i=>Gi(i)===e);return t.push(...n.filter(i=>Gi(i)!==e)),t}const tB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fm(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},tB):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Yse)(t,n,e);if(!s)return Object.assign({},tB);const o={};yn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Lm(n,e,t,i,r="corrected"){if(t.length>0&&function Boe(n,e,t){return t.some(i=>Vm(n,e,i)&&Gi(i)!==Ce)}(n,t,i)){const o=new Se(e,function Voe(n,e,t,i){const r={};r[Ce]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Gi(s)!==Ce){const o=new Se([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Gi(s)]=o}return r}(n,e,i,new Se(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Uoe(n,e,t){return t.some(i=>Vm(n,e,i))}(n,t,i)){const o=new Se(n.segments,function Loe(n,e,t,i,r,s){const o={};for(const a of i)if(Vm(n,t,a)&&!r[Gi(a)]){const l=new Se([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Gi(a)]=l}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Se(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Vm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function nB(n,e,t,i){return!!(Gi(n)===i||i!==Ce&&Vm(e,t,n))&&("**"===n.path||Fm(e,n,t).matched)}function iB(n,e,t){return 0===e.length&&!n.children[t]}class Bm{constructor(e){this.segmentGroup=e||null}}class rB{constructor(e){this.urlTree=e}}function Md(n){return Zl(new Bm(n))}function sB(n){return Zl(new rB(n))}class zoe{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Jr)}apply(){const e=Lm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ce).pipe(K(s=>this.createUrlTree(QI(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fs(s=>{if(s instanceof rB)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ce).pipe(K(r=>this.createUrlTree(QI(r),e.queryParams,e.fragment))).pipe(fs(r=>{throw r instanceof Bm?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Se([],{[Ce]:e}):e;return new la(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(K(s=>new Se([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return lt(r).pipe(zi(s=>{const o=i.children[s],a=eB(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(K(l=>({segment:l,outlet:s})))}),vV((s,o)=>(s[o.outlet]=o.segment,s),{}),function Fse(n,e){const t=arguments.length>=2;return i=>i.pipe(n?dt((r,s)=>n(r,s,i)):Rs,NI(1),t?wV(e):bV(()=>new Sm))}())}expandSegment(e,t,i,r,s,o){return lt(i).pipe(zi(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(fs(c=>{if(c instanceof Bm)return Y(null);throw c}))),ec(a=>!!a),fs((a,l)=>{if(a instanceof Sm||"EmptyError"===a.name)return iB(t,r,s)?Y(new Se([],{})):Md(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return nB(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):Md(t):Md(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sB(s):this.lineralizeSegments(i,s).pipe(vt(o=>{const a=new Se(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Fm(t,r,s);if(!a)return Md(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?sB(d):this.lineralizeSegments(r,d).pipe(vt(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Y(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(K(d=>(i._loadedConfig=d,new Se(r,{})))):Y(new Se(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Fm(t,i,r);return o?this.getChildConfig(e,i,r).pipe(vt(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=Lm(t,a,l,h),m=new Se(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(K(I=>new Se(a,I)));if(0===h.length&&0===p.length)return Y(new Se(a,{}));const _=Gi(i)===s;return this.expandSegment(d,m,h,p,_?Ce:s,!0).pipe(K(v=>new Se(a.concat(v.segments),v.children)))})):Md(t)}getChildConfig(e,t,i){return t.children?Y(new WI(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Y(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(vt(r=>r?this.configLoader.load(e.injector,t).pipe(K(s=>(t._loadedConfig=s,s))):function Hoe(n){return Zl(LI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Y(new WI([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Y(r.map(o=>{const a=e.get(o);let l;if(function Moe(n){return n&&Js(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!Js(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return Nr(l)})).pipe(Sd(),It(o=>{if(!ua(o))return;const a=LI(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),K(o=>!0===o)):Y(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Y(i);if(r.numberOfChildren>1||!r.children[Ce])return Zl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Ce]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new la(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return yn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return yn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new Se(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function QI(n){const e={};for(const i of Object.keys(n.children)){const s=QI(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function qoe(n){if(1===n.numberOfChildren&&n.children[Ce]){const e=n.children[Ce];return new Se(n.segments.concat(e.segments),e.children)}return n}(new Se(n.segments,e))}class oB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Um{constructor(e,t){this.component=e,this.route=t}}function Woe(n,e,t){const i=n._root;return xd(i,e?e._root:null,t,[i.value])}function jm(n,e,t){const i=function Yoe(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function xd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=nc(e);return n.children.forEach(o=>{(function Qoe(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Xoe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$I(n,e)||!Pr(n.queryParams,e.queryParams);default:return!$I(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new oB(i)):(s.data=o.data,s._resolvedData=o._resolvedData),xd(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Um(a.outlet.component,o))}else o&&kd(e,a,r),r.canActivateChecks.push(new oB(i)),xd(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),yn(s,(o,a)=>kd(o,t.getContext(a),r)),r}function kd(n,e,t){const i=nc(n),r=n.value;yn(i,(s,o)=>{kd(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Um(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class oae{}function aB(n){return new Be(e=>e.error(n))}class lae{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Lm(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ce);if(null===t)return null;const i=new Om([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ms(i,t),s=new qV(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=zV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=eB(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=lB(i);return function cae(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return iB(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!nB(e,t,i,r))return null;let s,o=[],a=[];if("**"===e.path){const f=i.length>0?xV(i).parameters:{};s=new Om(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dB(e),Gi(e),e.component,e,cB(t),uB(t)+i.length,hB(e))}else{const f=Fm(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Om(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dB(e),Gi(e),e.component,e,cB(t),uB(t)+o.length,hB(e))}const l=function uae(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Lm(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new ms(s,f)]}if(0===l.length&&0===u.length)return[new ms(s,[])];const d=Gi(e)===r,h=this.processSegment(l,c,u,d?Ce:r);return null===h?null:[new ms(s,h)]}}function dae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lB(n){const e=[],t=new Set;for(const i of n){if(!dae(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=lB(i.children);e.push(new ms(i.value,r))}return e.filter(i=>!t.has(i))}function cB(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uB(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function dB(n){return n.data||{}}function hB(n){return n.resolve||{}}function fB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function XI(n){return Ot(e=>{const t=n(e);return t?lt(t).pipe(K(()=>e)):Y(e)})}class vae extends class yae{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ZI=new F("ROUTES");class pB{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(K(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new WI(MV(o.injector.get(ZI,void 0,oe.Self|oe.Optional)).map(YI),o)}),fs(s=>{throw t._loader$=void 0,s}));return t._loader$=new yV(r,()=>new ge).pipe(_V()),t._loader$}loadModuleFactory(e){return Nr(e()).pipe(vt(t=>t instanceof L1?Y(t):lt(this.compiler.compileModuleAsync(t))))}}class wae{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Eae(n){throw n}function Cae(n,e,t){return e.parse("/")}function mB(n,e){return Y(null)}const Iae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vn=(()=>{class n{constructor(t,i,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ge,this.errorHandler=Eae,this.malformedUriErrorHandler=Cae,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mB,afterPreactivation:mB},this.urlHandlingStrategy=new wae,this.routeReuseStrategy=new vae,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Jr),this.console=o.get(TY);const d=o.get(fe);this.isNgZoneEnabled=d instanceof fe&&fe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Xse(){return new la(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pB(o,a,h=>this.triggerEvent(new IV(h)),h=>this.triggerEvent(new TV(h))),this.routerState=$V(this.currentUrlTree,this.rootComponentType),this.transitions=new qi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(dt(r=>0!==r.id),K(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ot(r=>{let s=!1,o=!1;return Y(r).pipe(It(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ot(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return gB(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(Ot(d=>{const h=this.transitions.getValue();return i.next(new FI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Qi:Promise.resolve(d)}),function Goe(n,e,t,i){return Ot(r=>function $oe(n,e,t,i,r){return new zoe(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(K(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),It(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function hae(n,e,t,i,r){return vt(s=>function aae(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new lae(n,e,t,i,r,s).recognize();return null===o?aB(new oae):Y(o)}catch(o){return aB(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(K(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),It(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Vse(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,b=new FI(h,this.serializeUrl(f),p,m);i.next(b);const v=$V(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qi}),XI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),It(a=>{const l=new Bse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),K(a=>Object.assign(Object.assign({},a),{guards:Woe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Zoe(n,e){return vt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},t),{guardsResult:!0})):function Joe(n,e,t,i){return lt(n).pipe(vt(r=>function sae(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const l=jm(a,e,r);let c;if(function Roe(n){return n&&Js(n.canDeactivate)}(l))c=Nr(l.canDeactivate(n,e,t,i));else{if(!Js(l))throw new Error("Invalid CanDeactivate guard");c=Nr(l(n,e,t,i))}return c.pipe(ec())})).pipe(Sd()):Y(!0)}(r.component,r.route,t,e,i)),ec(r=>!0!==r,!0))}(o,i,r,n).pipe(vt(a=>a&&function Aoe(n){return"boolean"==typeof n}(a)?function eae(n,e,t,i){return lt(e).pipe(zi(r=>bd(function nae(n,e){return null!==n&&e&&e(new $se(n)),Y(!0)}(r.route.parent,i),function tae(n,e){return null!==n&&e&&e(new qse(n)),Y(!0)}(r.route,i),function rae(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Koe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Jl(()=>Y(o.guards.map(l=>{const c=jm(l,o.node,t);let u;if(function koe(n){return n&&Js(n.canActivateChild)}(c))u=Nr(c.canActivateChild(i,n));else{if(!Js(c))throw new Error("Invalid CanActivateChild guard");u=Nr(c(i,n))}return u.pipe(ec())})).pipe(Sd())));return Y(s).pipe(Sd())}(n,r.path,t),function iae(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Y(!0);const r=i.map(s=>Jl(()=>{const o=jm(s,e,t);let a;if(function xoe(n){return n&&Js(n.canActivate)}(o))a=Nr(o.canActivate(e,n));else{if(!Js(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,n))}return a.pipe(ec())}));return Y(r).pipe(Sd())}(n,r.route,t))),ec(r=>!0!==r,!0))}(i,s,n,e):Y(a)),K(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),It(a=>{if(ua(a.guardsResult)){const c=LI(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Use(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),dt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),XI(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(It(l=>{const c=new jse(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Ot(l=>{let c=!1;return Y(l).pipe(function fae(n,e){return vt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Y(t);let s=0;return lt(r).pipe(zi(o=>function pae(n,e,t,i){return function mae(n,e,t,i){const r=fB(n);if(0===r.length)return Y({});const s={};return lt(r).pipe(vt(o=>function gae(n,e,t,i){const r=jm(n,e,i);return Nr(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(It(a=>{s[o]=a}))),NI(1),vt(()=>fB(s).length===r.length?Y(s):Qi))}(n._resolve,n,e,i).pipe(K(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),zV(n,t).resolve),null)))}(o.route,i,n,e)),It(()=>s++),NI(1),vt(o=>s===r.length?Y(t):Qi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),It({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),It(l=>{const c=new Hse(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),XI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),K(a=>{const l=function moe(n,e,t){const i=Id(n,e._root,t?t._root:void 0);return new HV(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),It(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>K(i=>(new Doe(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),It({next(){s=!0},complete(){s=!0}}),EV(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),fs(a=>{if(o=!0,function Kse(n){return n&&n[SV]}(a)){const l=ua(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new CV(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gB(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new Lse(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Qi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){JV(t),this.config=t.map(YI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function yoe(n,e,t,i,r){if(0===t.length)return zI(e.root,e.root,e.root,i,r);const s=function voe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new KV(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return yn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new KV(t,e,i)}(t);if(s.toRoot())return zI(e.root,e.root,new Se([],{}),i,r);const o=function boe(n,e,t){if(n.isAbsolute)return new qI(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new qI(s,s===e.root,0)}const i=Pm(n.commands[0])?0:1;return function woe(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new qI(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Nm(o.segmentGroup,o.index,s.commands):YV(o.segmentGroup,o.index,s.commands);return zI(e.root,o.segmentGroup,a,i,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ua(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Dae(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},Iae):!1===i?Object.assign({},Tae):i,ua(t))return RV(this.currentUrlTree,t,r);const s=this.parseUrl(t);return RV(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,u=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new CV(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){np()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function gB(n){return"imperative"!==n}let Hm=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new ge,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:rc(this.skipLocationChange),replaceUrl:rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(y(vn),y(ic),Bs("tabindex"),y(Sr),y(Ne))},n.\u0275dir=$({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&Me("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Mn]}),n})(),$m=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ge,this.subscription=t.events.subscribe(s=>{s instanceof wd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:rc(this.skipLocationChange),replaceUrl:rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(y(vn),y(ic),y($l))},n.\u0275dir=$({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&Me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Je("target",i.target)("href",i.href,Lo)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Mn]}),n})();function rc(n){return""===n||!!n}class _B{}class yB{preload(e,t){return Y(null)}}let vB=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new pB(r,i,l=>t.triggerEvent(new IV(l)),l=>t.triggerEvent(new TV(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(dt(t=>t instanceof wd),zi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Jr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return lt(r).pipe(eu(),K(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Y(i._loadedConfig):this.loader.load(t.injector,i)).pipe(vt(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(C(vn),C(wP),C(rt),C(_B))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),JI=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof FI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof DV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new DV(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){np()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const da=new F("ROUTER_CONFIGURATION"),bB=new F("ROUTER_FORROOT_GUARD"),xae=[wp,{provide:FV,useClass:LV},{provide:vn,useFactory:function Nae(n,e,t,i,r,s,o={},a,l){const c=new vn(null,n,e,t,i,r,MV(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Fae(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[FV,Ad,wp,rt,wP,ZI,da,[class bae{},new Ze],[class _ae{},new Ze]]},Ad,{provide:ic,useFactory:function Lae(n){return n.routerState.root},deps:[vn]},vB,yB,class Mae{preload(e,t){return t().pipe(fs(()=>Y(null)))}},{provide:da,useValue:{enableTracing:!1}}];function kae(){return new DP("Router",vn)}let wB=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[xae,EB(t),{provide:bB,useFactory:Pae,deps:[[vn,new Ze,new pl]]},{provide:da,useValue:i||{}},{provide:$l,useFactory:Oae,deps:[qo,[new Bf(Gb),new Ze],da]},{provide:JI,useFactory:Rae,deps:[vn,R9,da]},{provide:_B,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:yB},{provide:DP,multi:!0,useFactory:kae},[eT,{provide:gp,multi:!0,useFactory:Vae,deps:[eT]},{provide:CB,useFactory:Bae,deps:[eT]},{provide:bP,multi:!0,useExisting:CB}]]}}static forChild(t){return{ngModule:n,providers:[EB(t)]}}}return n.\u0275fac=function(t){return new(t||n)(C(bB,8),C(vn,8))},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();function Rae(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new JI(n,e,t)}function Oae(n,e,t={}){return t.useHash?new _Q(n,e):new qP(n,e)}function Pae(n){return"guarded"}function EB(n){return[{provide:r4,multi:!0,useValue:n},{provide:ZI,multi:!0,useValue:n}]}let eT=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ge}appInitializer(){return this.injector.get(pQ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(vn),o=this.injector.get(da);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(da),r=this.injector.get(vB),s=this.injector.get(JI),o=this.injector.get(vn),a=this.injector.get(Hl);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(C(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function Vae(n){return n.appInitializer.bind(n)}function Bae(n){return n.bootstrapListener.bind(n)}const CB=new F("Router Initializer");var W,jae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gs={},tT=tT||{},ae=jae||self;function zm(){}function qm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nT="closure_uid_"+(1e9*Math.random()>>>0),$ae=0;function zae(n,e,t){return n.call.apply(n.bind,arguments)}function qae(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Pn(n,e,t){return(Pn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zae:qae).apply(null,arguments)}function Gm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function bn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function eo(){this.s=this.s,this.o=this.o}eo.prototype.s=!1,eo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Hae(n){Object.prototype.hasOwnProperty.call(n,nT)&&n[nT]||(n[nT]=++$ae)}(this)},eo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function TB(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(qm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Nn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var Wae=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ae.addEventListener("test",zm,e),ae.removeEventListener("test",zm,e)}catch(t){}return n}();function Wm(n){return/^[\s\xa0]*$/.test(n)}var DB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rT(n,e){return n<e?-1:n>e?1:0}function Km(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function Fr(n){return-1!=Km().indexOf(n)}function sT(n){return sT[" "](n),n}sT[" "]=zm;var Ym,n,Yae=Fr("Opera"),sc=Fr("Trident")||Fr("MSIE"),SB=Fr("Edge"),oT=SB||sc,AB=Fr("Gecko")&&!(-1!=Km().toLowerCase().indexOf("webkit")&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),Qae=-1!=Km().toLowerCase().indexOf("webkit")&&!Fr("Edge");function MB(){var n=ae.document;return n?n.documentMode:void 0}e:{var aT="",lT=(n=Km(),AB?/rv:([^\);]+)(\)|;)/.exec(n):SB?/Edge\/([\d\.]+)/.exec(n):sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qae?/WebKit\/(\S+)/.exec(n):Yae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lT&&(aT=lT?lT[1]:""),sc){var cT=MB();if(null!=cT&&cT>parseFloat(aT)){Ym=String(cT);break e}}Ym=aT}var Xae={};var Jae=ae.document&&sc&&(MB()||parseInt(Ym,10))||void 0;function Od(n,e){if(Nn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(AB){e:{try{sT(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ele[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Od.X.h.call(this)}}bn(Od,Nn);var ele={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),tle=0;function nle(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++tle,this.ba=this.ea=!1}function Qm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function kB(n){const e={};for(const t in n)e[t]=n[t];return e}const RB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OB(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<RB.length;s++)t=RB[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xm(n){this.src=n,this.g={},this.h=0}function hT(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=IB(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Qm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fT(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Xm.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=fT(n,e,i,r);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new nle(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var pT="closure_lm_"+(1e6*Math.random()|0),mT={};function PB(n,e,t,i,r){if(i&&i.once)return FB(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PB(n,e[s],t,i,r);return null}return t=vT(t),n&&n[Pd]?n.N(e,t,Rd(i)?!!i.capture:!!i,r):NB(n,e,t,!1,i,r)}function NB(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=Rd(r)?!!r.capture:!!r,a=_T(n);if(a||(n[pT]=a=new Xm(n)),(t=a.add(e,t,i,o,s)).proxy)return t;if(i=function ile(){const e=rle;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Wae||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(VB(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function FB(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FB(n,e[s],t,i,r);return null}return t=vT(t),n&&n[Pd]?n.O(e,t,Rd(i)?!!i.capture:!!i,r):NB(n,e,t,!0,i,r)}function LB(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)LB(n,e[s],t,i,r);else i=Rd(i)?!!i.capture:!!i,t=vT(t),n&&n[Pd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fT(s=n.g[e],t,i,r))&&(Qm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=_T(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fT(e,t,i,r)),(t=-1<n?e[n]:null)&&gT(t))}function gT(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Pd])hT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(VB(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=_T(e))?(hT(t,n),0==t.h&&(t.src=null,e[pT]=null)):Qm(n)}}}function VB(n){return n in mT?mT[n]:mT[n]="on"+n}function rle(n,e){if(n.ba)n=!0;else{e=new Od(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&gT(n),n=t.call(i,e)}return n}function _T(n){return(n=n[pT])instanceof Xm?n:null}var yT="__closure_events_fn_"+(1e9*Math.random()>>>0);function vT(n){return"function"==typeof n?n:(n[yT]||(n[yT]=function(e){return n.handleEvent(e)}),n[yT])}function an(){eo.call(this),this.i=new Xm(this),this.P=this,this.I=null}function wn(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Nn(e,n);else if(e instanceof Nn)e.target=e.target||n;else{var r=e;OB(e=new Nn(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=Zm(o,i,!0,e)&&r}if(r=Zm(o=e.g=n,i,!0,e)&&r,r=Zm(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Zm(o=e.g=t[s],i,!1,e)&&r}function Zm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&hT(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}bn(an,eo),an.prototype[Pd]=!0,an.prototype.removeEventListener=function(n,e,t,i){LB(this,n,e,t,i)},an.prototype.M=function(){if(an.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qm(t[i]);delete n.g[e],n.h--}}this.I=null},an.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},an.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var bT=ae.JSON.stringify;function sle(){var n=jB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wT,BB=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ale,n=>n.reset());class ale{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lle(n){ae.setTimeout(()=>{throw n},0)}function UB(n,e){wT||function cle(){var n=ae.Promise.resolve(void 0);wT=function(){n.then(ule)}}(),ET||(wT(),ET=!0),jB.add(n,e)}var ET=!1,jB=new class ole{constructor(){this.h=this.g=null}add(e,t){const i=BB.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ule(){for(var n;n=sle();){try{n.h.call(n.g)}catch(t){lle(t)}var e=BB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ET=!1}function Jm(n,e){an.call(this),this.h=n||1,this.g=e||ae,this.j=Pn(this.lb,this),this.l=Date.now()}function CT(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function IT(n,e,t){if("function"==typeof n)t&&(n=Pn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function HB(n){n.g=IT(()=>{n.g=null,n.i&&(n.i=!1,HB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}bn(Jm,an),(W=Jm.prototype).ca=!1,W.R=null,W.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),wn(this,"tick"),this.ca&&(CT(this),this.start()))}},W.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){Jm.X.M.call(this),CT(this),delete this.g};class dle extends eo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HB(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nd(n){eo.call(this),this.h=n,this.g={}}bn(Nd,eo);var $B=[];function zB(n,e,t,i){Array.isArray(t)||(t&&($B[0]=t.toString()),t=$B);for(var r=0;r<t.length;r++){var s=PB(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function qB(n){dT(n.g,function(e,t){this.g.hasOwnProperty(t)&&gT(e)},n),n.g={}}function eg(){this.g=!0}function oc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mle(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return bT(t)}catch(a){return e}}(n,t)+(i?" "+i:"")})}Nd.prototype.M=function(){Nd.X.M.call(this),qB(this)},Nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eg.prototype.Aa=function(){this.g=!1},eg.prototype.info=function(){};var ha={},GB=null;function tg(){return GB=GB||new an}function WB(n){Nn.call(this,ha.Pa,n)}function Fd(n){const e=tg();wn(e,new WB(e))}function KB(n,e){Nn.call(this,ha.STAT_EVENT,n),this.stat=e}function Gn(n){const e=tg();wn(e,new KB(e,n))}function YB(n,e){Nn.call(this,ha.Qa,n),this.size=e}function Ld(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}ha.Pa="serverreachability",bn(WB,Nn),ha.STAT_EVENT="statevent",bn(KB,Nn),ha.Qa="timingevent",bn(YB,Nn);var ng={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function TT(){}function ZB(){}TT.prototype.h=null;var AT,Vd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function DT(){Nn.call(this,"d")}function ST(){Nn.call(this,"c")}function ig(){}function Bd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Nd(this),this.O=gle,this.T=new Jm(n=oT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new JB}function JB(){this.i=null,this.g="",this.h=!1}bn(DT,Nn),bn(ST,Nn),bn(ig,TT),ig.prototype.g=function(){return new XMLHttpRequest},ig.prototype.i=function(){return{}},AT=new ig;var gle=45e3,MT={},rg={};function xT(n,e,t){n.K=1,n.v=lg(_s(e)),n.s=t,n.P=!0,e2(n,null)}function e2(n,e){n.F=Date.now(),Ud(n),n.A=_s(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),d2(t.i,"t",i),n.C=0,t=n.l.H,n.h=new JB,n.g=N2(n.l,t?e:null,!n.s),0<n.N&&(n.L=new dle(Pn(n.La,n,n.g),n.N)),zB(n.S,n.g,"readystatechange",n.ib),e=n.H?kB(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Fd(),function hle(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function t2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function n2(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=_le(n,t),r==rg){4==e&&(n.o=4,Gn(14),i=!1),oc(n.j,n.m,null,"[Incomplete Response]");break}if(r==MT){n.o=4,Gn(15),oc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}oc(n.j,n.m,r,null),kT(n,r)}t2(n)&&r!=rg&&r!=MT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gn(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),BT(e),e.K=!0,Gn(11))):(oc(n.j,n.m,t,"[Invalid Chunked Response]"),fa(n),jd(n))}function _le(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?rg:(t=Number(e.substring(t,i)),isNaN(t)?MT:(i+=1)+t>e.length?rg:(e=e.substr(i,t),n.C=i+t,e))}function Ud(n){n.V=Date.now()+n.O,r2(n,n.O)}function r2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ld(Pn(n.gb,n),e)}function sg(n){n.B&&(ae.clearTimeout(n.B),n.B=null)}function jd(n){0==n.l.G||n.I||k2(n.l,n)}function fa(n){sg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,CT(n.T),qB(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||RT(t.h,n)))if(!n.J&&RT(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ld(Pn(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;pg(t),hg(t)}VT(t),Gn(18)}if(1>=p2(t.h)&&t.ja){try{t.ja()}catch(c){}t.ja=void 0}}else ma(t,11)}else if((n.J||t.g==n)&&pg(t),!Wm(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=i=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(OT(s,s.h),s.h=null))}if(i.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.za=m,ht(i.F,i.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((i=t).sa=P2(i,i.H?i.ka:null,i.V),o.J){m2(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(sg(a),Ud(a)),i.g=o}else M2(i);0<t.i.length&&fg(t)}else"stop"!=c[0]&&"close"!=c[0]||ma(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ma(t,7):LT(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Fd()}catch(c){}}function s2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function vle(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(qm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function yle(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(W=Bd.prototype).setTimeout=function(n){this.O=n},W.ib=function(n){n=n.target;const e=this.L;e&&3==ys(n)?e.l():this.La(n)},W.La=function(n){try{if(n==this.g)e:{const u=ys(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||oT||this.g&&(this.h.h||this.g.fa()||C2(this.g)))){this.I||4!=u||7==e||Fd(),sg(this);var t=this.g.aa();this.Y=t;t:if(t2(this)){var i=C2(this.g);n="";var r=i.length,s=4==ys(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fa(this),jd(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function fle(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Gn(12),fa(this),jd(this);break e}oc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kT(this,t)}this.P?(n2(this,u,o),oT&&this.i&&3==u&&(zB(this.S,this.T,"tick",this.hb),this.T.start())):(oc(this.j,this.m,o,null),kT(this,o)),4==u&&fa(this),this.i&&!this.I&&(4==u?k2(this.l,this):(this.i=!1,Ud(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),fa(this),jd(this)}}}catch(u){}},W.hb=function(){if(this.g){var n=ys(this.g),e=this.g.fa();this.C<e.length&&(sg(this),n2(this,n,e),this.i&&4!=n&&Ud(this))}},W.cancel=function(){this.I=!0,fa(this)},W.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ple(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fd(),Gn(17)),fa(this),this.o=2,jd(this)):r2(this,this.V-n)};var o2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof pa){this.h=void 0!==e?e:n.h,og(this,n.j),this.s=n.s,this.g=n.g,ag(this,n.m),this.l=n.l,e=n.i;var t=new zd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),a2(this,t),this.o=n.o}else n&&(t=String(n).match(o2))?(this.h=!!e,og(this,t[1]||"",!0),this.s=Hd(t[2]||""),this.g=Hd(t[3]||"",!0),ag(this,t[4]),this.l=Hd(t[5]||"",!0),a2(this,t[6]||"",!0),this.o=Hd(t[7]||"")):(this.h=!!e,this.i=new zd(null,this.h))}function _s(n){return new pa(n)}function og(n,e,t){n.j=t?Hd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ag(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function a2(n,e,t){e instanceof zd?(n.i=e,function Dle(n,e){e&&!n.j&&(to(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(c2(this,i),d2(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$d(e,Ile)),n.i=new zd(e,n.h))}function ht(n,e,t){n.i.set(e,t)}function lg(n){return ht(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wle),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}pa.prototype.toString=function(){var n=[],e=this.j;e&&n.push($d(e,l2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($d(e,l2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($d(t,"/"==t.charAt(0)?Cle:Ele,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$d(t,Tle)),n.join("")};var l2=/[#\/\?@]/g,Ele=/[#\?:]/g,Cle=/[#\?]/g,Ile=/[#\?@]/g,Tle=/#/g;function zd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function to(n){n.g||(n.g=new Map,n.h=0,n.i&&function ble(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function c2(n,e){to(n),e=ac(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function u2(n,e){return to(n),e=ac(n,e),n.g.has(e)}function d2(n,e,t){c2(n,e),0<t.length&&(n.i=null,n.g.set(ac(n,e),iT(t)),n.h+=t.length)}function ac(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h2(n){this.l=n||Ale,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ga&&ae.g.Ga()&&ae.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=zd.prototype).add=function(n,e){to(this),this.i=null,n=ac(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},W.forEach=function(n,e){to(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},W.oa=function(){to(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},W.W=function(n){to(this);let e=[];if("string"==typeof n)u2(this,n)&&(e=e.concat(this.g.get(ac(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},W.set=function(n,e){return to(this),this.i=null,u2(this,n=ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},W.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Ale=10;function f2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function p2(n){return n.h?1:n.g?n.g.size:0}function RT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OT(n,e){n.g?n.g.add(e):n.h=e}function m2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function g2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return iT(n.i)}function PT(){}function Mle(){this.g=new PT}function xle(n,e,t){const i=t||"";try{s2(n,function(r,s){let o=r;Rd(r)&&(o=bT(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function cg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function qd(n){this.l=n.ac||null,this.j=n.jb||!1}function ug(n,e){an.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h2.prototype.cancel=function(){if(this.i=g2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},PT.prototype.stringify=function(n){return ae.JSON.stringify(n,void 0)},PT.prototype.parse=function(n){return ae.JSON.parse(n,void 0)},bn(qd,TT),qd.prototype.g=function(){return new ug(this.l,this.j)},qd.prototype.i=function(n){return function(){return n}}({}),bn(ug,an);var NT=0;function _2(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wd(n)}function Wd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(W=ug.prototype).open=function(n,e){if(this.readyState!=NT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wd(this)},W.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ae).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gd(this)),this.readyState=NT},W.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wd(this)),this.g&&(this.readyState=3,Wd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ae.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_2(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},W.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gd(this):Wd(this),3==this.readyState&&_2(this)}},W.Va=function(n){this.g&&(this.response=this.responseText=n,Gd(this))},W.Ua=function(n){this.g&&(this.response=n,Gd(this))},W.ga=function(){this.g&&Gd(this)},W.setRequestHeader=function(n,e){this.v.append(n,e)},W.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Rle=ae.JSON.parse;function Dt(n){an.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y2,this.K=this.L=!1}bn(Dt,an);var y2="",Ole=/^https?$/i,Ple=["POST","PUT"];function v2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,b2(n),dg(n)}function b2(n){n.D||(n.D=!0,wn(n,"complete"),wn(n,"error"))}function w2(n){if(n.h&&void 0!==tT&&(!n.C[1]||4!=ys(n)||2!=n.aa()))if(n.v&&4==ys(n))IT(n.Ha,0,n);else if(wn(n,"readystatechange"),4==ys(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===a){var r=String(n.H).match(o2)[1]||null;if(!r&&ae.self&&ae.self.location){var s=ae.self.location.protocol;r=s.substr(0,s.length-1)}i=!Ole.test(r?r.toLowerCase():"")}t=i}if(t)wn(n,"complete"),wn(n,"success");else{n.m=6;try{var o=2<ys(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.aa()+"]",b2(n)}}finally{dg(n)}}}function dg(n,e){if(n.g){E2(n);const t=n.g,i=n.C[0]?zm:null;n.g=null,n.C=null,e||wn(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function E2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function ys(n){return n.g?n.g.readyState:0}function C2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case y2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function I2(n){let e="";return dT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function FT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=I2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ht(n,e,t))}function Kd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function T2(n){this.Ca=0,this.i=[],this.j=new eg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Kd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Kd("baseRetryDelayMs",5e3,n),this.bb=Kd("retryDelaySeedMs",1e4,n),this.$a=Kd("forwardChannelMaxRetries",2,n),this.ta=Kd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new h2(n&&n.concurrentRequestLimit),this.Fa=new Mle,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function LT(n){if(D2(n),3==n.G){var e=n.U++,t=_s(n.F);ht(t,"SID",n.I),ht(t,"RID",e),ht(t,"TYPE","terminate"),Yd(n,t),(e=new Bd(n,n.j,e,void 0)).K=2,e.v=lg(_s(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=N2(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ud(e)}O2(n)}function hg(n){n.g&&(BT(n),n.g.cancel(),n.g=null)}function D2(n){hg(n),n.u&&(ae.clearTimeout(n.u),n.u=null),pg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function fg(n){f2(n.h)||n.m||(n.m=!0,UB(n.Ja,n),n.C=0)}function S2(n,e){var t;t=e?e.m:n.U++;const i=_s(n.F);ht(i,"SID",n.I),ht(i,"RID",t),ht(i,"AID",n.T),Yd(n,i),n.o&&n.s&&FT(i,n.o,n.s),t=new Bd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=A2(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),OT(n.h,t),xT(t,i,e)}function Yd(n,e){n.ia&&dT(n.ia,function(t,i){ht(e,i,t)}),n.l&&s2({},function(t,i){ht(e,i,t)})}function A2(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Pn(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{xle(u,o,"req"+c+"_")}catch(d){i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function M2(n){n.g||n.u||(n.Z=1,UB(n.Ia,n),n.A=0)}function VT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ld(Pn(n.Ia,n),R2(n,n.A)),n.A++,0))}function BT(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function x2(n){n.g=new Bd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=_s(n.sa);ht(e,"RID","rpc"),ht(e,"SID",n.I),ht(e,"CI",n.L?"0":"1"),ht(e,"AID",n.T),ht(e,"TYPE","xmlhttp"),Yd(n,e),n.o&&n.s&&FT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=lg(_s(e)),t.s=null,t.P=!0,e2(t,n)}function pg(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function k2(n,e){var t=null;if(n.g==e){pg(n),BT(n),n.g=null;var i=2}else{if(!RT(n.h,e))return;t=e.D,m2(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;wn(i=tg(),new YB(i,t)),fg(n)}else M2(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function Fle(n,e){return!(p2(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ld(Pn(n.Ja,n,e),R2(n,n.C)),n.C++,0)))}(n,e)||2==i&&VT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ma(n,5);break;case 4:ma(n,10);break;case 3:ma(n,6);break;default:ma(n,2)}}function R2(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ma(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Pn(n.kb,n);t||(t=new pa("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||og(t,"https"),lg(t)),function kle(n,e){const t=new eg;if(ae.Image){const i=new Image;i.onload=Gm(cg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Gm(cg,t,i,"TestLoadImage: error",!1,e),i.onabort=Gm(cg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Gm(cg,t,i,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Gn(2);n.G=0,n.l&&n.l.va(e),O2(n),D2(n)}function O2(n){if(n.G=0,n.la=[],n.l){const e=g2(n.h);(0!=e.length||0!=n.i.length)&&(TB(n.la,e),TB(n.la,n.i),n.h.i.length=0,iT(n.i),n.i.length=0),n.l.ua()}}function P2(n,e,t){var i=t instanceof pa?_s(t):new pa(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),ag(i,i.m);else{var r=ae.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new pa(null,void 0);i&&og(s,i),e&&(s.g=e),r&&ag(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&ht(i,t,e),ht(i,"VER",n.ma),Yd(n,i),i}function N2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dt(t&&n.Da&&!n.ra?new qd({jb:!0}):n.ra)).Ka(n.H),e}function F2(){}function mg(){if(sc&&!(10<=Number(Jae)))throw Error("Environmental error: no available transport.")}function Ci(n,e){an.call(this),this.g=new T2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Wm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lc(this)}function L2(n){DT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function V2(){ST.call(this),this.status=1}function lc(n){this.g=n}(W=Dt.prototype).Ka=function(n){this.L=n},W.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AT.g(),this.C=function XB(n){return n.h||(n.h=n.i())}(this.u?this.u:AT),this.g.onreadystatechange=Pn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void v2(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=ae.FormData&&n instanceof ae.FormData,!(0<=IB(Ple,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{E2(this),0<this.B&&((this.K=function Nle(n){return sc&&function Zae(){return function Kae(n){var e=Xae;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=DB(String(Ym)).split("."),t=DB("9").split("."),i=Math.max(e.length,t.length);for(let o=0;0==n&&o<i;o++){var r=e[o]||"",s=t[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=rT(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||rT(0==r[2].length,0==s[2].length)||rT(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pn(this.qa,this)):this.A=IT(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){v2(this,s)}},W.qa=function(){void 0!==tT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))},W.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wn(this,"complete"),wn(this,"abort"),dg(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dg(this,!0)),Dt.X.M.call(this)},W.Ha=function(){this.s||(this.F||this.v||this.l?w2(this):this.fb())},W.fb=function(){w2(this)},W.aa=function(){try{return 2<ys(this)?this.g.status:-1}catch(n){return-1}},W.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},W.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Rle(e)}},W.Ea=function(){return this.m},W.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=T2.prototype).ma=8,W.G=1,W.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Bd(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=kB(s),OB(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=A2(this,r,e),ht(t=_s(this.F),"RID",n),ht(t,"CVER",22),this.D&&ht(t,"X-HTTP-Session-Id",this.D),Yd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(I2(s)))+"&"+e:this.o&&FT(t,this.o,s)),OT(this.h,r),this.Ya&&ht(t,"TYPE","init"),this.O?(ht(t,"$req",e),ht(t,"SID","null"),r.Z=!0,xT(r,t,null)):xT(r,t,e),this.G=2}}else 3==this.G&&(n?S2(this,n):0==this.i.length||f2(this.h)||S2(this))},W.Ia=function(){if(this.u=null,x2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ld(Pn(this.eb,this),n)}},W.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gn(10),hg(this),x2(this))},W.cb=function(){null!=this.v&&(this.v=null,hg(this),VT(this),Gn(19))},W.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Gn(2)):(this.j.info("Failed to ping google.com"),Gn(1))},(W=F2.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Ra=function(){},mg.prototype.g=function(n,e){return new Ci(n,e)},bn(Ci,an),Ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Gn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=P2(n,null,n.V),fg(n)},Ci.prototype.close=function(){LT(this.g)},Ci.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bT(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&fg(e)},Ci.prototype.M=function(){this.g.l=null,delete this.j,LT(this.g),delete this.g,Ci.X.M.call(this)},bn(L2,DT),bn(V2,ST),bn(lc,F2),lc.prototype.xa=function(){wn(this.g,"a")},lc.prototype.wa=function(n){wn(this.g,new L2(n))},lc.prototype.va=function(n){wn(this.g,new V2)},lc.prototype.ua=function(){wn(this.g,"b")},mg.prototype.createWebChannel=mg.prototype.g,Ci.prototype.send=Ci.prototype.u,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,ng.NO_ERROR=0,ng.TIMEOUT=8,ng.HTTP_ERROR=6,QB.COMPLETE="complete",ZB.EventType=Vd,Vd.OPEN="a",Vd.CLOSE="b",Vd.ERROR="c",Vd.MESSAGE="d",an.prototype.listen=an.prototype.N,Dt.prototype.listenOnce=Dt.prototype.O,Dt.prototype.getLastError=Dt.prototype.Oa,Dt.prototype.getLastErrorCode=Dt.prototype.Ea,Dt.prototype.getStatus=Dt.prototype.aa,Dt.prototype.getResponseJson=Dt.prototype.Sa,Dt.prototype.getResponseText=Dt.prototype.fa,Dt.prototype.send=Dt.prototype.da,Dt.prototype.setWithCredentials=Dt.prototype.Ka;var Lle=gs.createWebChannelTransport=function(){return new mg},Vle=gs.getStatEventTarget=function(){return tg()},UT=gs.ErrorCode=ng,Ble=gs.EventType=QB,Ule=gs.Event=ha,B2=gs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},jle=gs.FetchXmlHttpFactory=qd,gg=gs.WebChannel=ZB,Hle=gs.XhrIo=Dt;const U2="@firebase/firestore";class ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let cc="9.13.0";const no=new zl("@firebase/firestore");function jT(){return no.logLevel}function k(n,...e){if(no.logLevel<=Re.DEBUG){const t=e.map(HT);no.debug(`Firestore (${cc}): ${n}`,...t)}}function Pt(n,...e){if(no.logLevel<=Re.ERROR){const t=e.map(HT);no.error(`Firestore (${cc}): ${n}`,...t)}}function uc(n,...e){if(no.logLevel<=Re.WARN){const t=e.map(HT);no.warn(`Firestore (${cc}): ${n}`,...t)}}function HT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+n;throw Pt(e),new Error(e)}function J(n,e){n||G()}function V(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class j2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $le{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class zle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qle{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(J("string"==typeof i.accessToken),new j2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return J(null===e||"string"==typeof e),new ln(e)}}class Gle{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(J(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Wle{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Gle(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kle{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(J("string"==typeof t.token),this.A=t.token,new H2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yle(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class $2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Yle(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function le(n,e){return n<e?-1:n>e?1:0}function dc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class ft{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ft(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new ft(0,0))}static max(){return new ee(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qd{constructor(e,t,i){void 0===t?t=0:t>e.length&&G(),void 0===i?i=e.length-t:i>e.length-t&&G(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Oe extends Qd{construct(e,t,i){return new Oe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Oe(t)}static emptyPath(){return new Oe([])}}const Qle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Qd{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return Qle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Oe.fromString(e))}static fromName(e){return new L(Oe.fromString(e).popFirst(5))}static empty(){return new L(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Oe(e.slice()))}}function G2(n){return new Ii(n.readTime,n.key,-1)}class Ii{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ii(ee.min(),L.empty(),-1)}static max(){return new Ii(ee.max(),L.empty(),-1)}}function zT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:le(n.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function io(n){return qT.apply(this,arguments)}function qT(){return qT=g(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==W2)throw n;k("LocalStore","Unexpectedly lost primary lease")}),qT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,i)=>{t(e)})}static reject(e){return new w((t,i)=>{i(e)})}static waitFor(e){return new w((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=w.resolve(!1);for(const i of e)t=t.next(r=>r?w.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new w((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new w((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function ro(n){return"IndexedDbTransactionError"===n.name}class ai{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Y2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Q2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ai.at=-1;class St{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bg(this.root,e,this.comparator,!0)}}class bg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:En.RED,this.left=null!=r?r:En.EMPTY,this.right=null!=s?s:En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new En(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return En.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1,En.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(n,e,t,i,r){return this}insert(n,e,t){return new En(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X2(this.data.getIterator())}getIteratorFrom(e){return new X2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ge(this.comparator);return t.data=e,t}}class X2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Ti([])}unionWith(e){let t=new Ge(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jt(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const rce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(J(!!n),"string"==typeof n){let e=0;const t=rce.exec(n);if(J(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function va(n){return"string"==typeof n?Jt.fromBase64String(n):Jt.fromUint8Array(n)}function WT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Z2(n){const e=n.mapValue.fields.__previous_value__;return WT(e)?Z2(e):e}function Jd(n){const e=so(n.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}class sce{constructor(e,t,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}function eh(n){return null==n}function th(n){return 0===n&&1/n==-1/0}const oo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function wa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WT(n)?4:iU(n)?9007199254740991:10:G()}function Lr(n,e){if(n===e)return!0;const t=wa(n);if(t!==wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jd(n).isEqual(Jd(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=so(i.timestampValue),o=so(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,va(n.bytesValue).isEqual(va(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return At(i.geoPointValue.latitude)===At(r.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return At(i.integerValue)===At(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=At(i.doubleValue),o=At(r.doubleValue);return s===o?th(s)===th(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return dc(n.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(Y2(s)!==Y2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Lr(s[a],o[a])))return!1;return!0}(n,e);default:return G()}var r}function nh(n,e){return void 0!==(n.values||[]).find(t=>Lr(t,e))}function ao(n,e){if(n===e)return 0;const t=wa(n),i=wa(e);if(t!==i)return le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=At(r.integerValue||r.doubleValue),a=At(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return eU(n.timestampValue,e.timestampValue);case 4:return eU(Jd(n),Jd(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(r,s){const o=va(r),a=va(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=le(o[l],a[l]);if(0!==c)return c}return le(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=le(At(r.latitude),At(s.latitude));return 0!==o?o:le(At(r.longitude),At(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ao(o[l],a[l]);if(c)return c}return le(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===oo_mapValue&&s===oo_mapValue)return 0;if(r===oo_mapValue)return 1;if(s===oo_mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=le(a[u],c[u]);if(0!==d)return d;const h=ao(o[a[u]],l[c[u]]);if(0!==h)return h}return le(a.length,c.length)}(n.mapValue,e.mapValue);default:throw G()}}function eU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return le(n,e);const t=so(n),i=so(e),r=le(t.seconds,i.seconds);return 0!==r?r:le(t.nanos,i.nanos)}function fc(n){return KT(n)}function KT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=so(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?va(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=KT(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${KT(i.fields[a])}`;return s+"}"}(n.mapValue):G();var e}function Ea(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YT(n){return!!n&&"integerValue"in n}function ih(n){return!!n&&"arrayValue"in n}function tU(n){return!!n&&"nullValue"in n}function nU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eg(n){return!!n&&"mapValue"in n}function rh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=Nt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=rh(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Eg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ya(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Cn(rh(this.value))}}function oU(n){const e=[];return ya(n.fields,(t,i)=>{const r=new Nt([t]);if(Eg(i)){const s=oU(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Ti(e)}class tt{constructor(e,t,i,r,s,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new tt(e,0,ee.min(),ee.min(),Cn.empty(),0)}static newFoundDocument(e,t,i){return new tt(e,1,t,ee.min(),i,0)}static newNoDocument(e,t){return new tt(e,2,t,ee.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,ee.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lce{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function aU(n,e=null,t=[],i=[],r=null,s=null,o=null){return new lce(n,e,t,i,r,s,o)}function Ca(n){const e=V(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+fc(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fc(i)).join(",")),e.ht=t}return e.ht}function sh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!_ce(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Lr(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hU(n.startAt,e.startAt)&&hU(n.endAt,e.endAt)}function Cg(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class In extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new uce(e,t,i):"array-contains"===t?new fce(e,i):"in"===t?new pce(e,i):"not-in"===t?new mce(e,i):"array-contains-any"===t?new gce(e,i):new In(e,t,i)}static lt(e,t,i){return"in"===t?new dce(e,i):new hce(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ao(t,this.value)):null!==t&&wa(this.value)===wa(t)&&this.ft(ao(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uce extends In{constructor(e,t,i){super(e,t,i),this.key=L.fromName(i.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.ft(t)}}class dce extends In{constructor(e,t){super(e,"in",t),this.keys=uU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hce extends In{constructor(e,t){super(e,"not-in",t),this.keys=uU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>L.fromName(i.referenceValue))}class fce extends In{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ih(t)&&nh(t.arrayValue,this.value)}}class pce extends In{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nh(this.value.arrayValue,t)}}class mce extends In{constructor(e,t){super(e,"not-in",t)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nh(this.value.arrayValue,t)}}class gce extends In{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nh(this.value.arrayValue,i))}}class lo{constructor(e,t){this.position=e,this.inclusive=t}}class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function _ce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function dU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),t.key):ao(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function hU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lr(n.position[t],e.position[t]))return!1;return!0}class vs{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function mc(n){return new vs(n)}function pU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function XT(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ZT(n){return null!==n.collectionGroup}function gc(n){const e=V(n);if(null===e._t){e._t=[];const t=XT(e),i=QT(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new pc(t)),e._t.push(new pc(Nt.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new pc(Nt.keyField(),s))}}}return e._t}function Wn(n){const e=V(n);if(!e.wt)if("F"===e.limitType)e.wt=aU(e.path,e.collectionGroup,gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of gc(e))t.push(new pc(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e.wt=aU(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function Tg(n,e,t){return new vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return sh(Wn(n),Wn(e))&&n.limitType===e.limitType}function mU(n){return`${Ca(Wn(n))}|lt:${n.limitType}`}function JT(n){return`Query(target=${function cce(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${fc(i.value)}`;var i}).join(", ")}]`),eh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>fc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>fc(t)).join(",")),`Target(${e})`}(Wn(n))}; limitType=${n.limitType})`}function eD(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):L.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const a=dU(r,s,o);return r.inclusive?a<=0:a<0}(t.startAt,gc(t),i)||t.endAt&&!function(r,s,o){const a=dU(r,s,o);return r.inclusive?a>=0:a>0}(t.endAt,gc(t),i)));var t,i}function _U(n){return(e,t)=>{let i=!1;for(const r of gc(n)){const s=yce(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function yce(n,e,t){const i=n.field.isKeyField()?L.comparator(e.key,t.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return null!==a&&null!==l?ao(a,l):G()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return G()}}function yU(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function vU(n){return{integerValue:""+n}}function bU(n,e){return function J2(n){return"number"==typeof n&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?vU(e):yU(n,e)}class Dg{constructor(){this._=void 0}}function vce(n,e,t){return n instanceof _c?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Ia?EU(n,e):n instanceof Ta?CU(n,e):function(i,r){const s=wU(i,r),o=IU(s)+IU(i.yt);return YT(s)&&YT(i.yt)?vU(o):yU(i.It,o)}(n,e)}function bce(n,e,t){return n instanceof Ia?EU(n,e):n instanceof Ta?CU(n,e):t}function wU(n,e){return n instanceof yc?YT(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class _c extends Dg{}class Ia extends Dg{constructor(e){super(),this.elements=e}}function EU(n,e){const t=TU(e);for(const i of n.elements)t.some(r=>Lr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ta extends Dg{constructor(e){super(),this.elements=e}}function CU(n,e){let t=TU(e);for(const i of n.elements)t=t.filter(r=>!Lr(r,i));return{arrayValue:{values:t}}}class yc extends Dg{constructor(e,t){super(),this.It=e,this.yt=t}}function IU(n){return At(n.integerValue||n.doubleValue)}function TU(n){return ih(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ece{constructor(e,t){this.version=e,this.transformResults=t}}class pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pt}static exists(e){return new pt(void 0,e)}static updateTime(e){return new pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ag{}function DU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bc(n.key,pt.none()):new vc(n.key,n.data,pt.none());{const t=n.data,i=Cn.empty();let r=new Ge(Nt.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new bs(n.key,i,new Ti(r.toArray()),pt.none())}}function Cce(n,e,t){n instanceof vc?function(i,r,s){const o=i.value.clone(),a=MU(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof bs?function(i,r,s){if(!Sg(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=MU(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(AU(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lh(n,e,t,i){return n instanceof vc?function(r,s,o,a){if(!Sg(r.precondition,s))return o;const l=r.value.clone(),c=xU(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof bs?function(r,s,o,a){if(!Sg(r.precondition,s))return o;const l=xU(r.fieldTransforms,a,s),c=s.data;return c.setAll(AU(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(o=t,Sg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ice(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=wU(i.transform,r||null);null!=s&&(null===t&&(t=Cn.empty()),t.set(i.field,s))}return t||null}function SU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&dc(t,i,(r,s)=>function wce(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ia&&i instanceof Ia||t instanceof Ta&&i instanceof Ta?dc(t.elements,i.elements,Lr):t instanceof yc&&i instanceof yc?Lr(t.yt,i.yt):t instanceof _c&&i instanceof _c);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class vc extends Ag{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bs extends Ag{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function MU(n,e,t){const i=new Map;J(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,bce(o,a,t[r]))}return i}function xU(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,vce(s,o,e))}return i}class bc extends Ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tD extends Ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tce{constructor(e){this.count=e}}var jt,Pe;function kU(n){switch(n){default:return G();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function RU(n){if(void 0===n)return Pt("GRPC error has no .code"),E.UNKNOWN;switch(n){case jt.OK:return E.OK;case jt.CANCELLED:return E.CANCELLED;case jt.UNKNOWN:return E.UNKNOWN;case jt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case jt.INTERNAL:return E.INTERNAL;case jt.UNAVAILABLE:return E.UNAVAILABLE;case jt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case jt.NOT_FOUND:return E.NOT_FOUND;case jt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case jt.ABORTED:return E.ABORTED;case jt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case jt.DATA_LOSS:return E.DATA_LOSS;default:return G()}}(Pe=jt||(jt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Q2(this.inner)}size(){return this.innerSize}}const Dce=new St(L.comparator);function li(){return Dce}const OU=new St(L.comparator);function ch(...n){let e=OU;for(const t of n)e=e.insert(t.key,t);return e}function PU(n){let e=OU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Vr(){return uh()}function NU(){return uh()}function uh(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}const Sce=new St(L.comparator),Ace=new Ge(L.comparator);function me(...n){let e=Ace;for(const t of n)e=e.add(t);return e}const Mce=new Ge(le);function Mg(){return Mce}class dh{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new dh(ee.min(),r,Mg(),li(),me())}}class hh{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new hh(i,t,me(),me(),me())}}class xg{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class FU{constructor(e,t){this.targetId=e,this.At=t}}class LU{constructor(e,t,i=Jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class VU{constructor(){this.Rt=0,this.bt=UU(),this.Pt=Jt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=me(),t=me(),i=me();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:G()}}),new hh(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=UU()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class xce{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=li(),this.qt=BU(),this.Kt=new Ge(le)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(Cg(s))if(0===i){const o=new L(s.path);this.jt(t,o,tt.newNoDocument(o,ee.min()))}else J(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Cg(a.target)){const l=new L(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,tt.newNoDocument(l,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let i=me();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const r=new dh(e,t,this.Kt,this.Ut,i);return this.Ut=li(),this.qt=BU(),this.Kt=new Ge(le),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new VU,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ge(le),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new VU),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function BU(){return new St(L.comparator)}function UU(){return new St(L.comparator)}const kce={asc:"ASCENDING",desc:"DESCENDING"},Rce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Oce{constructor(e,t){this.databaseId=e,this.gt=t}}function fh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jU(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Pce(n,e){return fh(n,e.toTimestamp())}function cn(n){return J(!!n),ee.fromTimestamp(function(e){const t=so(e);return new ft(t.seconds,t.nanos)}(n))}function nD(n,e){return(t=n,new Oe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HU(n){const e=Oe.fromString(n);return J(QU(e)),e}function ph(n,e){return nD(n.databaseId,e.path)}function Br(n,e){const t=HU(e);if(t.get(1)!==n.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(zU(t))}function iD(n,e){return nD(n.databaseId,e)}function mh(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zU(n){return J(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qU(n,e,t){return{name:ph(n,e),fields:t.value.mapValue.fields}}function WU(n,e){return{documents:[iD(n,e.path)]}}function sD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=iD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(nU(d.value))return{unaryFilter:{field:wc(d.field),op:"IS_NAN"}};if(tU(d.value))return{unaryFilter:{field:wc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(nU(d.value))return{unaryFilter:{field:wc(d.field),op:"IS_NOT_NAN"}};if(tU(d.value))return{unaryFilter:{field:wc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(d.field),op:Uce(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:wc((u=c).field),direction:Bce(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||eh(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function KU(n){let e=function $U(n){const e=HU(n);return 4===e.length?Oe.emptyPath():zU(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){J(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=YU(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new pc(Ec((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,eh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new lo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new lo(u.values||[],!u.before)}(t.endAt)),function fU(n,e,t,i,r,s,o,a){return new vs(n,e,t,i,r,s,o,a)}(e,r,o,s,a,"F",l,c)}function YU(n){return n?void 0!==n.unaryFilter?[Hce(n)]:void 0!==n.fieldFilter?[jce(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>YU(e)).reduce((e,t)=>e.concat(t)):G():[]}function Bce(n){return kce[n]}function Uce(n){return Rce[n]}function wc(n){return{fieldPath:n.canonicalString()}}function Ec(n){return Nt.fromServerFormat(n.fieldPath)}function jce(n){return In.create(Ec(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}function Hce(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ec(n.unaryFilter.field);return In.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ec(n.unaryFilter.field);return In.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ec(n.unaryFilter.field);return In.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ec(n.unaryFilter.field);return In.create(r,"!=",{nullValue:"NULL_VALUE"});default:return G()}}function $ce(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class aD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Cce(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=NU();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=DU(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(t,i)=>SU(t,i))&&dc(this.baseMutations,e.baseMutations,(t,i)=>SU(t,i))}}class lD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){J(e.mutations.length===i.length);let r=Sce;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new lD(e,t,i,r)}}class cD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uo{constructor(e,t,i,r,s=ee.min(),o=ee.min(),a=Jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ij{constructor(e){this.re=e}}function uD(n){const e=KU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tg(e,e.limit,"L"):e}class Ma{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(At(e.integerValue));else if("doubleValue"in e){const i=At(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),th(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(va(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?iU(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):G()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),L.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Ma.Te=new Ma;class mue{constructor(){this.Ye=new hD}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Ii.min())}updateCollectionGroup(e,t,i){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class hD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ge(Oe.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ge(Oe.comparator)).toArray()}}new Uint8Array(0);class ci{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);class Ra{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ra(0)}static vn(){return new Ra(-1)}}class Tue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ij{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&lh(i.mutation,r,Ti.empty(),ft.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=me()){const r=Vr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=ch();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Vr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,me()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=li();const o=uh(),a=uh();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof bs)?s=s.insert(c.key,c):void 0!==u&&(o.set(c.key,u.mutation.getFieldMask()),lh(u.mutation,c,u.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Tue(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=uh();let r=new St((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||Ti.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||me()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=NU();u.forEach(h=>{if(!s.has(h)){const f=DU(t.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return L.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ZT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):w.resolve(Vr());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.getBaseDocument(e,u,d).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,me())).next(u=>({batchId:a,changes:PU(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(i=>{let r=ch();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=ch();return this.indexManager.getCollectionParents(e,r).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(r),new vs(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===r.get(c)&&(r=r.insert(c,tt.newInvalidDocument(c)))});let o=ch();return r.forEach((a,l)=>{const c=s.get(a);void 0!==c&&lh(c.mutation,l,Ti.empty(),ft.now()),eD(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(tt.newInvalidDocument(t))}}class Due{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:cn(i.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:uD(i.bundledQuery),readTime:cn(i.readTime)}),w.resolve();var i}}class Sue{constructor(){this.overlays=new St(L.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Vr();return w.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),w.resolve()}getOverlaysForCollection(e,t,i){const r=Vr(),s=t.length+1,o=new L(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new St((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=Vr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Vr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return w.resolve(a)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new cD(t,i));let s=this.es.get(t);void 0===s&&(s=me(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class fD{constructor(){this.ns=new Ge(dn.ss),this.rs=new Ge(dn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new dn(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new dn(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new L(new Oe([])),i=new dn(t,e),r=new dn(t,e+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new L(new Oe([])),i=new dn(t,e),r=new dn(t,e+1);let s=me();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new dn(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class dn{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return L.comparator(e.key,t.key)||le(e._s,t._s)}static os(e,t){return le(e._s,t._s)||L.comparator(e.key,t.key)}}class Aue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ge(dn.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const o=new aD(s,t,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new dn(t,0),r=new dn(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ge(le);return t.forEach(r=>{const s=new dn(r,0),o=new dn(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),w.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;L.isDocumentKey(s)||(s=s.child(""));const o=new dn(new L(s),0);let a=new Ge(le);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){J(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return w.forEach(t.mutations,r=>{const s=new dn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new dn(t,0),r=this.gs.firstAfterOrEqual(i);return w.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mue{constructor(e){this.Es=e,this.docs=new St(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return w.resolve(i?i.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let i=li();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():tt.newInvalidDocument(r))}),w.resolve(i)}getAllFromCollection(e,t,i){let r=li();const s=new L(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||zT(G2(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return w.resolve(r)}getAllFromCollectionGroup(e,t,i,r){G()}As(e,t){return w.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xue(this)}getSize(e){return w.resolve(this.size)}}class xue extends class Eue{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?w.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class kue{constructor(e){this.persistence=e,this.Rs=new co(t=>Ca(t),sh),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fD,this.targetCount=0,this.vs=Ra.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),w.waitFor(s).next(()=>r)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return w.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),w.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return w.resolve(i)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class Tj{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ai(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new kue(this),this.indexManager=new mue,this.remoteDocumentCache=new Mue(i=>this.referenceDelegate.xs(i)),this.It=new ij(t),this.Ns=new Due(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Aue(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){k("MemoryPersistence","Starting transaction:",e);const r=new Rue(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return w.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Rue extends class Jle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Fs=new fD,this.$s=null}static Bs(e){return new Bg(e)}get Ls(){if(this.$s)return this.$s;throw G()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),w.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,i=>{const r=L.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,ee.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class _D{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=me(),r=me();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new _D(e,t.fromCache,i,r)}}class Sj{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(pU(t))return w.resolve(null);let i=Wn(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tg(t,null,"F"),i=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=me(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,Tg(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,i,r){return pU(t)||r.isEqual(ee.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,i,r)?this.Mi(e,t):(jT()<=Re.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),JT(t)),this.Bi(e,o,t,function q2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(1e9===i?new ft(t+1,0):new ft(t,i));return new Ii(r,L.empty(),e)}(r,-1)))})}Fi(e,t){let i=new Ge(_U(e));return t.forEach((r,s)=>{eD(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return jT()<=Re.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",JT(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ii.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Pue{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new St(le),this.qi=new co(s=>Ca(s),sh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ij(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Mj(n,e){return yD.apply(this,arguments)}function yD(){return yD=g(function*(n,e){const t=V(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=me();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),yD.apply(this,arguments)}function Nue(n,e){const t=V(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);J(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=me();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function xj(n){const e=V(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Fue(n,e){const t=V(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,_;e.targetMismatches.has(d)?f=f.withResumeToken(Jt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),m=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=li(),c=me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function kj(n,e,t){let i=me(),r=me();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=li();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!i.isEqual(ee.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ui=r,s))}function Lue(n,e){const t=V(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Tc(n,e){const t=V(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,w.resolve(r)):t.Cs.allocateTargetId(i).next(o=>(r=new uo(e,o,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Dc(n,e,t){return vD.apply(this,arguments)}function vD(){return vD=g(function*(n,e,t){const i=V(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ro(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),vD.apply(this,arguments)}function jg(n,e,t){const i=V(n);let r=ee.min(),s=me();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=V(a),d=u.qi.get(c);return void 0!==d?w.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(i,o,Wn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,e,t?r:ee.min(),t?s:me())).next(a=>(function Pj(n,e,t){let i=n.Ki.get(e)||ee.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}(i,function gU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class ID{constructor(){this.activeTargetIds=Mg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lj{constructor(){this.Lr=new ID,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ID,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uue{qr(e){}shutdown(){}}class Vj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hue{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class $ue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const o=this.ho(e,t);k("RestConnection","Sending: ",o,i);const a={};return this.lo(a,r,s),this.fo(e,o,a,i).then(l=>(k("RestConnection","Received: ",l),l),l=>{throw uc("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}_o(e,t,i,r,s,o){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${jue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,o)=>{const a=new Hle;a.setWithCredentials(!0),a.listenOnce(Ble.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case UT.NO_ERROR:const c=a.getResponseJson();k("Connection","XHR received:",JSON.stringify(c)),s(c);break;case UT.TIMEOUT:k("Connection",'RPC "'+e+'" timed out'),o(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case UT.HTTP_ERROR:const u=a.getStatus();if(k("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new A(h,d.message))}else o(new A(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(E.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{k("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(t,"POST",l,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lle(),o=Vle(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new jle({})),this.lo(a.initMessageHeaders,t,i),a.encodeInitMessageHeaders=!0;const l=r.join("");k("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Hue({Hr:p=>{d?k("Connection","Not sending because WebChannel is closed:",p):(u||(k("Connection","Opening WebChannel transport."),c.open(),u=!0),k("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,b=>{try{_(b)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,gg.EventType.OPEN,()=>{d||k("Connection","WebChannel transport opened.")}),f(c,gg.EventType.CLOSE,()=>{d||(d=!0,k("Connection","WebChannel transport closed"),h.io())}),f(c,gg.EventType.ERROR,p=>{d||(d=!0,uc("Connection","WebChannel transport errored:",p),h.io(new A(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,gg.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];J(!!_);const b=_,v=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(v){k("Connection","WebChannel received error:",v);const I=v.status;let T=function(H){const ie=jt[H];if(void 0!==ie)return RU(ie)}(I),O=v.message;void 0===T&&(T=E.INTERNAL,O="Unknown error status: "+I+" with message "+v.message),d=!0,h.io(new A(T,O)),c.close()}else k("Connection","WebChannel received:",_),h.ro(_)}}),f(o,Ule.STAT_EVENT,p=>{p.stat===B2.PROXY?k("Connection","Detected buffering proxy"):p.stat===B2.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function zg(){return"undefined"!=typeof document?document:null}function Th(n){return new Oce(n,!0)}class DD{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&k("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Uj{constructor(e,t,i,r,s,o,a,l){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new DD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return g(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(Pt(t.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new A(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zue extends Uj{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Fce(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:G(),r=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(J(void 0===c||"string"==typeof c),Jt.fromBase64String(c||"")):(J(void 0===c||c instanceof Uint8Array),Jt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:RU(l.code);return new A(c,l.message||"")}(o);t=new LU(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Br(n,i.document.name),s=cn(i.document.updateTime),o=new Cn({mapValue:{fields:i.document.fields}}),a=tt.newFoundDocument(r,s,o);t=new xg(i.targetIds||[],i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const i=e.documentDelete,r=Br(n,i.document),s=i.readTime?cn(i.readTime):ee.min(),o=tt.newNoDocument(r,s);t=new xg([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Br(n,i.document);t=new xg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return G();{const i=e.filter,s=new Tce(i.count||0);t=new FU(i.targetId,s)}}var l;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return ee.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?cn(s.readTime):ee.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=mh(this.It),t.addTarget=function(r,s){let o;const a=s.target;return o=Cg(a)?{documents:WU(r,a)}:{query:sD(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=jU(r,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=fh(r,s.snapshotVersion.toTimestamp())),o}(this.It,e);const i=function Vce(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=mh(this.It),t.removeTarget=e,this.Bo(t)}}class que extends Uj{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Lce(n,e){return n&&n.length>0?(J(void 0!==e),n.map(t=>function(i,r){let s=cn(i.updateTime?i.updateTime:r);return s.isEqual(ee.min())&&(s=cn(r)),new Ece(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=cn(e.commitTime);return this.listener.Zo(i,t)}return J(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=mh(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function gh(n,e){let t;if(e instanceof vc)t={update:qU(n,e.key,e.value)};else if(e instanceof bc)t={delete:ph(n,e.key)};else if(e instanceof bs)t={update:qU(n,e.key,e.data),updateMask:$ce(e.fieldMask)};else{if(!(e instanceof tD))return G();t={verify:ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof _c)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof yc)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw G()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Pce(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:G()),t;var r}(this.It,i))};this.Bo(t)}}class Gue extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new A(E.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Kue{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Pt(t),this.ou=!1):k("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Yue{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{i.enqueueAndForget(g(function*(){var l;ws(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=V(c);u._u.add(4),yield Sc(u),u.gu.set("Unknown"),u._u.delete(4),yield Dh(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new Kue(i,r)}}function Dh(n){return AD.apply(this,arguments)}function AD(){return AD=g(function*(n){if(ws(n))for(const e of n.wu)yield e(!0)}),AD.apply(this,arguments)}function Sc(n){return MD.apply(this,arguments)}function MD(){return MD=g(function*(n){for(const e of n.wu)yield e(!1)}),MD.apply(this,arguments)}function qg(n,e){const t=V(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),RD(t)?kD(t):Mc(t).ko()&&xD(t,e))}function Sh(n,e){const t=V(n),i=Mc(t);t.du.delete(e),i.ko()&&jj(t,e),0===t.du.size&&(i.ko()?i.Fo():ws(t)&&t.gu.set("Unknown"))}function xD(n,e){n.yu.Mt(e.targetId),Mc(n).zo(e)}function jj(n,e){n.yu.Mt(e),Mc(n).Ho(e)}function kD(n){n.yu=new xce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Mc(n).start(),n.gu.uu()}function RD(n){return ws(n)&&!Mc(n).No()&&n.du.size>0}function ws(n){return 0===V(n)._u.size}function Hj(n){n.yu=void 0}function Que(n){return OD.apply(this,arguments)}function OD(){return OD=g(function*(n){n.du.forEach((e,t)=>{xD(n,e)})}),OD.apply(this,arguments)}function Xue(n,e){return PD.apply(this,arguments)}function PD(){return PD=g(function*(n,e){Hj(n),RD(n)?(n.gu.hu(e),kD(n)):n.gu.set("Unknown")}),PD.apply(this,arguments)}function Zue(n,e,t){return ND.apply(this,arguments)}function ND(){return ND=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof LU&&2===e.state&&e.cause)try{yield(i=g(function*(r,s){const o=s.cause;for(const a of s.targetIds)r.du.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.du.delete(a),r.yu.removeTarget(a))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Gg(n,i)}else if(e instanceof xg?n.yu.Gt(e):e instanceof FU?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(ee.min()))try{const i=yield xj(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Jt.EMPTY_BYTE_STRING,l.snapshotVersion)),jj(r,a);const c=new uo(l.target,a,1,l.sequenceNumber);xD(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){k("RemoteStore","Failed to raise snapshot:",i),yield Gg(n,i)}var i}),ND.apply(this,arguments)}function Gg(n,e,t){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n,e,t){if(!ro(e))throw e;n._u.add(1),yield Sc(n),n.gu.set("Offline"),t||(t=()=>xj(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){k("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Dh(n)}))}),FD.apply(this,arguments)}function $j(n,e){return e().catch(t=>Gg(n,t,e))}function Ac(n){return LD.apply(this,arguments)}function LD(){return LD=g(function*(n){const e=V(n),t=po(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Jue(e);)try{const r=yield Lue(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,ede(e,r)}catch(r){yield Gg(e,r)}zj(e)&&qj(e)}),LD.apply(this,arguments)}function Jue(n){return ws(n)&&n.fu.length<10}function ede(n,e){n.fu.push(e);const t=po(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function zj(n){return ws(n)&&!po(n).No()&&n.fu.length>0}function qj(n){po(n).start()}function tde(n){return VD.apply(this,arguments)}function VD(){return VD=g(function*(n){po(n).eu()}),VD.apply(this,arguments)}function nde(n){return BD.apply(this,arguments)}function BD(){return BD=g(function*(n){const e=po(n);for(const t of n.fu)e.Xo(t.mutations)}),BD.apply(this,arguments)}function ide(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=g(function*(n,e,t){const i=n.fu.shift(),r=lD.from(i,e,t);yield $j(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ac(n)}),UD.apply(this,arguments)}function rde(n,e){return jD.apply(this,arguments)}function jD(){return jD=g(function*(n,e){var t;e&&po(n).Yo&&(yield(t=g(function*(i,r){if(kU(s=r.code)&&s!==E.ABORTED){const o=i.fu.shift();po(i).Mo(),yield $j(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Ac(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),zj(n)&&qj(n)}),jD.apply(this,arguments)}function Gj(n,e){return HD.apply(this,arguments)}function HD(){return HD=g(function*(n,e){const t=V(n);t.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const i=ws(t);t._u.add(3),yield Sc(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Dh(t)}),HD.apply(this,arguments)}function zD(){return zD=g(function*(n,e){const t=V(n);e?(t._u.delete(2),yield Dh(t)):e||(t._u.add(2),yield Sc(t),t.gu.set("Unknown"))}),zD.apply(this,arguments)}function Mc(n){return n.pu||(n.pu=function(e,t,i){const r=V(e);return r.su(),new zue(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Que.bind(null,n),Zr:Xue.bind(null,n),Wo:Zue.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),RD(n)?kD(n):n.gu.set("Unknown")):(yield n.pu.stop(),Hj(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function po(n){return n.Iu||(n.Iu=function(e,t,i){const r=V(e);return r.su(),new que(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:tde.bind(null,n),Zr:rde.bind(null,n),tu:nde.bind(null,n),Zo:ide.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield Ac(n)):(yield n.Iu.stop(),n.fu.length>0&&(k("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class qD{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new qD(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(n,e){if(Pt("AsyncQueue",`${e}: ${n}`),ro(n))return new A(E.UNAVAILABLE,`${e}: ${n}`);throw n}class kc{constructor(e){this.comparator=e?(t,i)=>e(t,i)||L.comparator(t.key,i.key):(t,i)=>L.comparator(t.key,i.key),this.keyedMap=ch(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new kc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Wj{constructor(){this.Tu=new St(L.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):G():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Rc{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Rc(e,t,kc.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class sde{constructor(){this.Au=void 0,this.listeners=[]}}class ode{constructor(){this.queries=new co(e=>mU(e),oh),this.onlineState="Unknown",this.Ru=new Set}}function WD(){return WD=g(function*(n,e){const t=V(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new sde),r)try{s.Au=yield t.onListen(i)}catch(o){const a=xc(o,`Initialization of query '${JT(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&QD(t)}),WD.apply(this,arguments)}function YD(){return YD=g(function*(n,e){const t=V(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),YD.apply(this,arguments)}function ade(n,e){const t=V(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&QD(t)}function lde(n,e,t){const i=V(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function QD(n){n.Ru.forEach(e=>{e.next()})}class XD{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Rc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Qj{constructor(e){this.key=e}}class Xj{constructor(e){this.key=e}}class Zj{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=me(),this.mutatedKeys=me(),this.Gu=_U(e),this.Qu=new kc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new Wj,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=eD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(i.track({type:2,doc:f}),_=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),_=!0):h&&!f&&(i.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Qu:o,zu:i,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(i);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new Rc(this.query,e.Qu,r,s,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Wj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=me(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Xj(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new Qj(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=me();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Rc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class dde{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class hde{constructor(e){this.key=e,this.nc=!1}}class fde{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new co(a=>mU(a),oh),this.rc=new Map,this.oc=new Set,this.uc=new St(L.comparator),this.cc=new Map,this.ac=new fD,this.hc={},this.lc=new Map,this.fc=Ra.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function pde(n,e){return ZD.apply(this,arguments)}function ZD(){return ZD=g(function*(n,e){const t=wS(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const o=yield Tc(t.localStore,Wn(e));t.isPrimaryClient&&qg(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield JD(t,e,i,"current"===a,o.resumeToken)}return r}),ZD.apply(this,arguments)}function JD(n,e,t,i,r){return eS.apply(this,arguments)}function eS(){return eS=g(function*(n,e,t,i,r){n._c=(d,h,f)=>{return(p=g(function*(m,_,b,v){let I=_.view.Wu(b);I.$i&&(I=yield jg(m.localStore,_.query,!1).then(({documents:H})=>_.view.Wu(H,I)));const T=v&&v.targetChanges.get(_.targetId),O=_.view.applyChanges(I,m.isPrimaryClient,T);return uS(m,_.targetId,O.Xu),O.snapshot}),function(m,_,b,v){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield jg(n.localStore,e,!0),o=new Zj(e,s.Hi),a=o.Wu(s.documents),l=hh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);uS(n,t,c.Xu);const u=new dde(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),eS.apply(this,arguments)}function mde(n,e){return tS.apply(this,arguments)}function tS(){return tS=g(function*(n,e){const t=V(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!oh(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dc(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Sh(t.remoteStore,i.targetId),Oc(t,i.targetId)}).catch(io))):(Oc(t,i.targetId),yield Dc(t.localStore,i.targetId,!0))}),tS.apply(this,arguments)}function nS(){return nS=g(function*(n,e,t){const i=ES(n);try{const r=yield function(s,o){const a=V(s),l=ft.now(),c=o.reduce((h,f)=>h.add(f.key),me());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=li(),p=me();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((_,b)=>{b.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const b of o){const v=Ice(b,u.get(b.key).overlayedDocument);null!=v&&_.push(new bs(b.key,v,oU(v.value.mapValue),pt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:PU(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new St(le)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(i,r.batchId,t),yield Es(i,r.changes),yield Ac(i.remoteStore)}catch(r){const s=xc(r,"Failed to persist write");t.reject(s)}}),nS.apply(this,arguments)}function Jj(n,e){return iS.apply(this,arguments)}function iS(){return iS=g(function*(n,e){const t=V(n);try{const i=yield Fue(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.cc.get(s);o&&(J(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?J(o.nc):r.removedDocuments.size>0&&(J(o.nc),o.nc=!1))}),yield Es(t,i,e)}catch(i){yield io(i)}}),iS.apply(this,arguments)}function eH(n,e,t){const i=V(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=V(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&QD(a)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function _de(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=g(function*(n,e,t){const i=V(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let o=new St(L.comparator);o=o.insert(s,tt.newNoDocument(s,ee.min()));const a=me().add(s),l=new dh(ee.min(),new Map,new Ge(le),o,a);yield Jj(i,l),i.uc=i.uc.remove(s),i.cc.delete(e),dS(i)}else yield Dc(i.localStore,e,!1).then(()=>Oc(i,e,t)).catch(io)}),rS.apply(this,arguments)}function yde(n,e){return sS.apply(this,arguments)}function sS(){return sS=g(function*(n,e){const t=V(n),i=e.batch.batchId;try{const r=yield Nue(t.localStore,e);cS(t,i,null),lS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Es(t,r)}catch(r){yield io(r)}}),sS.apply(this,arguments)}function vde(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=g(function*(n,e,t){const i=V(n);try{const r=yield function(s,o){const a=V(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(J(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);cS(i,e,t),lS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Es(i,r)}catch(r){yield io(r)}}),oS.apply(this,arguments)}function lS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function cS(n,e,t){const i=V(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Oc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||tH(n,i)})}function tH(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Sh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),dS(n))}function uS(n,e,t){for(const i of t)i instanceof Qj?(n.ac.addReference(i.key,e),wde(n,i)):i instanceof Xj?(k("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||tH(n,i.key)):G()}function wde(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(k("SyncEngine","New document in limbo: "+t),n.oc.add(i),dS(n))}function dS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new L(Oe.fromString(e)),i=n.fc.next();n.cc.set(i,new hde(t)),n.uc=n.uc.insert(t,i),qg(n.remoteStore,new uo(Wn(mc(t.path)),i,2,ai.at))}}function Es(n,e,t){return hS.apply(this,arguments)}function hS(){return hS=g(function*(n,e,t){const i=V(n),r=[],s=[],o=[];var a;i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){r.push(c);const u=_D.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.sc.Wo(r),yield(a=g(function*(l,c){const u=V(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ro(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ui=u.Ui.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,s))}),hS.apply(this,arguments)}function Ede(n,e){return fS.apply(this,arguments)}function fS(){return fS=g(function*(n,e){const t=V(n);if(!t.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const i=yield Mj(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Es(t,i.ji)}var r}),fS.apply(this,arguments)}function Cde(n,e){const t=V(n),i=t.cc.get(e);if(i&&i.nc)return me().add(i.key);{let r=me();const s=t.rc.get(e);if(!s)return r;for(const o of s){const a=t.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function wS(n){const e=V(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_de.bind(null,e),e.sc.Wo=ade.bind(null,e.eventManager),e.sc.wc=lde.bind(null,e.eventManager),e}function ES(n){const e=V(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vde.bind(null,e),e}class Rde{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.It=Th(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Aj(n,e,t,i){return new Pue(n,e,t,i)}(this.persistence,new Sj,e.initialUser,this.It)}yc(e){return new Tj(Bg.Bs,this.It)}gc(e){return new Lj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CS{initialize(e,t){var i=this;return g(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>eH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ede.bind(null,i.syncEngine),yield function $D(n,e){return zD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ode}createDatastore(e){const t=Th(e.databaseInfo.databaseId),i=new $ue(e.databaseInfo);return new Gue(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>eH(this.syncEngine,a,0),o=Vj.C()?new Vj:new Uue,new Yue(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,a,l,c){const u=new fde(i,r,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const i=V(t);k("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Sc(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IS(n,e,t){if(!t)throw new A(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rH(n){if(!L.isDocumentKey(n))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sH(n){if(L.isDocumentKey(n))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":G()}function xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wg(n);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const aH=new Map;class lH{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Nde(n,e,t,i){if(!0===e&&!0===i)throw new A(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $le;switch(t.type){case"gapi":return new Wle(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aH.get(e);t&&(k("ComponentProvider","Removing Datastore"),aH.delete(e),t.terminate())}(this),Promise.resolve()}}class Ft{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Fn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fn(this.firestore,e,this._query)}}class jr extends Fn{constructor(e,t,i){super(e,t,mc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new L(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function Lde(n,e,...t){if(n=st(n),IS("collection","path",e),n instanceof Ah){const i=Oe.fromString(e,...t);return sH(i),new jr(n,null,i)}{if(!(n instanceof Ft||n instanceof jr))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Oe.fromString(e,...t));return sH(i),new jr(n.firestore,null,i)}}function cH(n,e,...t){if(n=st(n),1===arguments.length&&(e=$2.R()),IS("doc","path",e),n instanceof Ah){const i=Oe.fromString(e,...t);return rH(i),new Ft(n,null,new L(i))}{if(!(n instanceof Ft||n instanceof jr))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Oe.fromString(e,...t));return rH(i),new Ft(n.firestore,n instanceof jr?n.converter:null,new L(i))}}class Kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $de{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=$2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=g(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xc(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function hH(n,e){return TS.apply(this,arguments)}function TS(){return TS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=g(function*(s){i.isEqual(s)||(yield Mj(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),TS.apply(this,arguments)}function fH(n,e){return DS.apply(this,arguments)}function DS(){return DS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SS(n);k("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Gj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Gj(e.remoteStore,s)),n.onlineComponents=e}),DS.apply(this,arguments)}function SS(n){return AS.apply(this,arguments)}function AS(){return AS=g(function*(n){return n.offlineComponents||(k("FirestoreClient","Using default OfflineComponentProvider"),yield hH(n,new Rde)),n.offlineComponents}),AS.apply(this,arguments)}function Yg(n){return MS.apply(this,arguments)}function MS(){return MS=g(function*(n){return n.onlineComponents||(k("FirestoreClient","Using default OnlineComponentProvider"),yield fH(n,new CS)),n.onlineComponents}),MS.apply(this,arguments)}function Pc(n){return RS.apply(this,arguments)}function RS(){return RS=g(function*(n){const e=yield Yg(n),t=e.eventManager;return t.onListen=pde.bind(null,e.syncEngine),t.onUnlisten=mde.bind(null,e.syncEngine),t}),RS.apply(this,arguments)}class Xde{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new DD(this,"async_queue_retry"),this.Wc=()=>{const t=zg();t&&k("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=zg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=zg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Zt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ro(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Pt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=qD.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&G()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function OS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class at extends Ah{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Xde,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yH(this),this._firestoreClient.terminate()}}function Jde(n,e){const i="string"==typeof n?n:e||"(default)",r=Qo("object"==typeof n?n:Gp(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=DN("firestore");s&&function Fde(n,e,t,i={}){var r;const s=(n=xe(n,Ah))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&uc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let o,a;if("string"==typeof i.mockUserToken)o=i.mockUserToken,a=ln.MOCK_USER;else{o=AN(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ln(l)}n._authCredentials=new zle(new j2(o,a))}}(r,...s)}return r}function Ht(n){return n._firestoreClient||yH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yH(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sce(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new $de(n._authCredentials,n._appCheckCredentials,n._queue,i)}class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(Jt.fromBase64String(e))}catch(t){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pa(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PS{constructor(e){this._methodName=e}}class NS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const ehe=/^__.*__$/;class the{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class wH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Xg{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(EH(this.sa)&&ehe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class nhe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Th(e)}da(e,t,i,r=!1){return new Xg({sa:e,methodName:t,fa:i,path:Nt.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fc(n){const e=n._freezeSettings(),t=Th(n._databaseId);return new nhe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FS(n,e,t,i,r,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,r);VS("Data must be an object, but it was:",o,i);const a=SH(i,o);let l,c;if(s.merge)l=new Ti(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=BS(e,d,t);if(!o.contains(h))throw new A(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);MH(u,h)||u.push(h)}l=new Ti(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new the(new Cn(a),l,c)}class Mh extends PS{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function Na(n,e){if(AH(n=st(n)))return VS("Unsupported field value:",e,n),SH(n,e);if(n instanceof PS)return function(t,i){if(!EH(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let a=Na(o,i.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=st(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bU(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ft.fromDate(t);return{timestampValue:fh(i.It,r)}}if(t instanceof ft){const r=new ft(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fh(i.It,r)}}if(t instanceof NS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pa)return{bytesValue:jU(i.It,t._byteString)};if(t instanceof Ft){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:nD(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${Wg(t)}`)}(n,e)}function SH(n,e){const t={};return Q2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(i,r)=>{const s=Na(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function AH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof NS||n instanceof Pa||n instanceof Ft||n instanceof PS)}function VS(n,e,t){if(!AH(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Wg(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function BS(n,e,t){if((e=st(e))instanceof Nc)return e._internalPath;if("string"==typeof e)return Zg(n,e);throw Jg("Field path arguments must be of type string or ",n,!1,void 0,t)}const ohe=new RegExp("[~\\*/\\[\\]]");function Zg(n,e,t){if(e.search(ohe)>=0)throw Jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch(i){throw Jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jg(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new A(E.INVALID_ARGUMENT,a+n+l)}function MH(n,e){return n.some(t=>t.isEqual(e))}class US{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ahe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(e_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ahe extends US{data(){return super.data()}}function e_(n,e){return"string"==typeof e?Zg(n,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}class kH{}function lhe(n,...e){for(const t of e)n=t._apply(n);return n}class che extends kH{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Fc(e.firestore),i=function(r,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new A(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){LH(u,c);const f=[];for(const p of u)f.push(FH(a,r,p));d={arrayValue:{values:f}}}else d=FH(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||LH(u,c),d=function DH(n,e,t,i=!1){return Na(t,n.da(i?4:3,e))}(o,"where",u,"in"===c||"not-in"===c);const h=In.create(l,c,d);return function(f,p){if(p.dt()){const _=XT(f);if(null!==_&&!_.isEqual(p.field))throw new A(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${p.field.toString()}'`);const b=QT(f);null!==b&&VH(0,p.field,b)}const m=function(_,b){for(const v of _.filters)if(b.indexOf(v.op)>=0)return v.op;return null}(f,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==m)throw new A(E.INVALID_ARGUMENT,m===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${m.toString()}' filters.`)}(r,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Fn(e.firestore,e.converter,function(r,s){const o=r.filters.concat([s]);return new vs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function uhe(n,e,t){const i=e,r=e_("where",n);return new che(r,i,t)}class dhe extends kH{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new A(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new A(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new pc(r,s);return function(a,l){if(null===QT(a)){const c=XT(a);null!==c&&VH(0,c,l.field)}}(i,o),o}(e._query,this.ma,this.pa);return new Fn(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new vs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function hhe(n,e="asc"){const t=e,i=e_("orderBy",n);return new dhe(i,t)}function FH(n,e,t){if("string"==typeof(t=st(t))){if(""===t)throw new A(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&-1!==t.indexOf("/"))throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Oe.fromString(t));if(!L.isDocumentKey(i))throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ea(n,new L(i))}if(t instanceof Ft)return Ea(n,t._key);throw new A(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wg(t)}.`)}function LH(n,e){if(!Array.isArray(n)||0===n.length)throw new A(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new A(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function VH(n,e,t){if(!t.isEqual(e))throw new A(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}function jS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends US{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new t_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(e_("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class t_ extends Lc{data(e={}){return super.data(e)}}class Vc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new t_(this._firestore,this._userDataWriter,i.key,i,new Fa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new t_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fa(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const a=new t_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fa(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:phe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function phe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class mo extends class fhe{convertValue(e,t="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){const i={};return ya(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new NS(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Z2(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const t=so(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Oe.fromString(e);J(QU(i));const r=new ba(i.get(1),i.get(3)),s=new L(i.popFirst(5));return r.isEqual(t)||Pt(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function mhe(n,e,t){n=xe(n,Ft);const i=xe(n.firestore,at),r=jS(n.converter,e,t);return xh(i,[FS(Fc(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,pt.none())])}function ghe(n,e,t,...i){n=xe(n,Ft);const r=xe(n.firestore,at),s=Fc(r);let o;return o="string"==typeof(e=st(e))||e instanceof Nc?function TH(n,e,t,i,r,s){const o=n.da(1,e,t),a=[BS(e,i,t)],l=[r];if(s.length%2!=0)throw new A(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(BS(e,s[h])),l.push(s[h+1]);const c=[],u=Cn.empty();for(let h=a.length-1;h>=0;--h)if(!MH(c,a[h])){const f=a[h];let p=l[h];p=st(p);const m=o.ca(f);if(p instanceof Mh)c.push(f);else{const _=Na(p,m);null!=_&&(c.push(f),u.set(f,_))}}const d=new Ti(c);return new wH(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function IH(n,e,t,i){const r=n.da(1,e,t);VS("Data must be an object, but it was:",r,i);const s=[],o=Cn.empty();ya(i,(l,c)=>{const u=Zg(e,l,t);c=st(c);const d=r.ca(u);if(c instanceof Mh)s.push(u);else{const h=Na(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Ti(s);return new wH(o,a,r.fieldTransforms)}(s,"updateDoc",n._key,e),xh(r,[o.toMutation(n._key,pt.exists(!0))])}function _he(n,e){const t=xe(n.firestore,at),i=cH(n),r=jS(n.converter,e);return xh(t,[FS(Fc(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,pt.exists(!1))]).then(()=>i)}function xh(n,e){return function(t,i){const r=new Zt;return t.asyncQueue.enqueueAndForget(g(function*(){return function gde(n,e,t){return nS.apply(this,arguments)}(yield function kS(n){return Yg(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(Ht(n),e)}!function(n,e=!0){cc="9.13.0",On(new mn("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new at(new qle(t.getProvider("auth-internal")),new Kle(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ot(U2,"3.7.2",n),ot(U2,"3.7.2","esm2017")}();var Ehe={includeMetadataChanges:!1};function $S(n,e){return void 0===e&&(e=Ehe),new Be(function(t){var i=function yhe(n,...e){var t,i,r;n=st(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[o+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Ft)c=xe(n.firestore,at),u=mc(n._key.path),l={next:d=>{e[o]&&e[o](function HS(n,e,t){const i=t.docs.get(e._key),r=new mo(n);return new Lc(n,r,e._key,i,new Fa(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=xe(n,Fn);c=xe(d.firestore,at),u=d._query;const h=new mo(c);l={next:f=>{e[o]&&e[o](new Vc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function xH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new Kg(p),_=new XD(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function GD(n,e){return WD.apply(this,arguments)}(yield Pc(d),_)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function KD(n,e){return YD.apply(this,arguments)}(yield Pc(d),_)}))}}(Ht(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Ihe(n,e){return void 0===e&&(e={}),function Che(n){return $S(n,{includeMetadataChanges:!0})}(n).pipe(K(function(t){return UH(t,e)}))}function UH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function xhe(n,e){return void 0===e&&(e={}),function Mhe(n){return $S(n,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}(n).pipe(K(function(t){return t.map(function(i){return UH(i,e)})}))}class kh{constructor(e){return e}}const zH="firestore",GS=new F("angularfire2.firestore-instances");function Ohe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new kh(i)}}const Phe={provide:class khe{constructor(){return nm(zH)}},deps:[[new Ze,GS]]},Nhe={provide:kh,useFactory:function Rhe(n,e){const t=tm(zH,n,e);return t&&new kh(t)},deps:[[new Ze,GS],ra]};let Fhe=(()=>{class n{constructor(){ot("angularfire",nd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[Nhe,Phe]}),n})();function Lhe(n,...e){return{ngModule:Fhe,providers:[{provide:GS,useFactory:Ohe(n),multi:!0,deps:[fe,rt,im,rm,[new Ze,RI],[new Ze,dm],...e]}]}}const WS=Tt(xhe,!0),Vhe=Tt(Ihe,!0),qH=Tt(_he,!0),Rh=Tt(Lde,!0),i_=Tt(cH,!0),Bhe=Tt(Jde,!0),Uhe=Tt(hhe,!0),KS=Tt(lhe,!0),jhe=Tt(mhe,!0),GH=Tt(ghe,!0),Hhe=Tt(uhe,!0);let Oh=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}get currentUserProfile$(){return this.authService.currentUser$.pipe(Ot(t=>{if(!(null==t?void 0:t.uid))return Y(null);const i=i_(this.firestore,"users",null==t?void 0:t.uid);return Vhe(i)}))}get allUsers$(){const t=Rh(this.firestore,"users"),i=KS(t);return WS(i)}addUser(t){const i=i_(this.firestore,"users",null==t?void 0:t.uid);return lt(jhe(i,t))}updateUser(t){const i=i_(this.firestore,"users",null==t?void 0:t.uid);return lt(GH(i,Object.assign({},t)))}}return n.\u0275fac=function(t){return new(t||n)(C(kh),C(vd))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $he=new F("cdk-dir-doc",{providedIn:"root",factory:function zhe(){return Vf(De)}}),qhe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let YS,r_=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ie,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Ghe(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?qhe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C($he,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ph=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();try{YS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){YS=!1}let Bc,ui=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?cw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(Ws))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function YH(){if(Bc)return Bc;if("object"!=typeof document||!document)return Bc=new Set(KH),Bc;let n=document.createElement("input");return Bc=new Set(KH.filter(e=>(n.setAttribute("type",e),n.type===e))),Bc}let Nh,La,QS;function Fh(n){return function Whe(){if(null==Nh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nh=!0}))}finally{Nh=Nh||!1}return Nh}()?n:!!n.capture}function Khe(){if(null==La){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return La=!1,La;if("scrollBehavior"in document.documentElement.style)La=!0;else{const n=Element.prototype.scrollTo;La=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return La}function go(n){return n.composedPath?n.composedPath()[0]:n.target}function XS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function _o(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ZH(n,e=td){return mt((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(it(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function cfe(n,e){return n===e}function Di(n){return mt((e,t)=>{fn(n).subscribe(it(t,()=>t.complete(),Zc)),!t.closed&&e.subscribe(t)})}function en(n){return null!=n&&"false"!=`${n}`}function JH(n){return Array.isArray(n)?n:[n]}function $t(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cs(n){return n instanceof Ne?n.nativeElement:n}class n${constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ge,this._typeaheadSubscription=nt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ge,this.change=new ge,e instanceof Ul&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(It(t=>this._pressedLetters.push(t)),ZH(e),dt(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||_o(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ul?this._items.toArray():this._items}}class mfe extends n${setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class i$ extends n${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function nA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iA(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const wfe=new F("cdk-input-modality-detector-options"),Efe={ignoreKeys:[18,17,224,91,16]},Uc=Fh({passive:!0,capture:!0});let Cfe=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new qi(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=go(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nA(o)?"keyboard":"mouse"),this._mostRecentTarget=go(o))},this._onTouchstart=o=>{iA(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=go(o))},this._options=Object.assign(Object.assign({},Efe),s),this.modalityDetected=this._modality.pipe(function afe(n){return dt((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function lfe(n,e=Rs){return n=null!=n?n:cfe,mt((t,i)=>{let r,s=!0;t.subscribe(it(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Uc),r.addEventListener("mousedown",this._onMousedown,Uc),r.addEventListener("touchstart",this._onTouchstart,Uc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uc),document.removeEventListener("mousedown",this._onMousedown,Uc),document.removeEventListener("touchstart",this._onTouchstart,Uc))}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(fe),C(De),C(wfe,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tfe=new F("cdk-focus-monitor-default-options"),l_=Fh({passive:!0,capture:!0});let c_=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ge,this._rootNodeFocusAndBlurListener=a=>{const l=go(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const r=Cs(t);if(!this._platform.isBrowser||1!==r.nodeType)return Y(null);const s=function Qhe(n){if(function Yhe(){if(null==QS){const n="undefined"!=typeof document?document.head:null;QS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QS}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new ge,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Cs(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Cs(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=go(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,l_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,l_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Di(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,l_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,l_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(C(fe),C(ui),C(Cfe),C(De,8),C(Tfe,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o$="cdk-high-contrast-black-on-white",a$="cdk-high-contrast-white-on-black",rA="cdk-high-contrast-active";let Dfe=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rA),t.remove(o$),t.remove(a$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(rA),t.add(o$)):2===i&&(t.add(rA),t.add(a$))}}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l${}const Is="*";function sA(n,e){return{type:7,name:n,definitions:e,options:{}}}function u_(n,e=null){return{type:4,styles:e,timings:n}}function c$(n,e=null){return{type:2,steps:n,options:e}}function Ts(n){return{type:6,styles:n,offset:null}}function oA(n,e,t){return{type:0,name:n,styles:e,options:t}}function d_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function u$(n){Promise.resolve(null).then(n)}class Vh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){u$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class d${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?u$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ae=!1;function h$(n){return new z(3e3,Ae)}function ape(){return"undefined"!=typeof window&&void 0!==window.document}function lA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yo(n){switch(n.length){case 0:return new Vh;case 1:return n[0];default:return new d$(n)}}function f$(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,_=u[p];if("offset"!==p)switch(m=e.normalizePropertyName(m,o),_){case"!":_=r[p];break;case Is:_=s[p];break;default:_=e.normalizeStyleValue(p,m,_,o)}f[m]=_}),h||a.push(f),c=f,l=d}),o.length)throw function Qfe(n){return new z(3502,Ae)}();return a}function cA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&uA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&uA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&uA(t,"destroy",n)))}}function uA(n,e,t){const i=t.totalTime,s=dA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function dA(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Si(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function p$(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hA=(n,e)=>!1,m$=(n,e,t)=>[],g$=null;function fA(n){const e=n.parentNode||n.host;return e===g$?null:e}(lA()||"undefined"!=typeof Element)&&(ape()?(g$=(()=>document.documentElement)(),hA=(n,e)=>{for(;e;){if(e===n)return!0;e=fA(e)}return!1}):hA=(n,e)=>n.contains(e),m$=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Va=null,_$=!1;function y$(n){Va||(Va=function cpe(){return"undefined"!=typeof document?document.body:null}()||{},_$=!!Va.style&&"WebkitAppearance"in Va.style);let e=!0;return Va.style&&!function lpe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Va.style,!e&&_$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Va.style)),e}const v$=hA,b$=m$;let w$=(()=>{class n{validateStyleProperty(t){return y$(t)}matchesElement(t,i){return!1}containsElement(t,i){return v$(t,i)}getParentElement(t){return fA(t)}query(t,i,r){return b$(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Vh(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),pA=(()=>{class n{}return n.NOOP=new w$,n})();const mA="ng-enter",f_="ng-leave",p_="ng-trigger",m_=".ng-trigger",C$="ng-animating",gA=".ng-animating";function Ba(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_A(parseFloat(e[1]),e[2])}function _A(n,e){return"s"===e?1e3*n:n}function g_(n,e,t){return n.hasOwnProperty("duration")?n:function hpe(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(h$()),{duration:0,delay:0,easing:""};r=_A(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=_A(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Afe(){return new z(3100,Ae)}()),a=!0),s<0&&(e.push(function Mfe(){return new z(3101,Ae)}()),a=!0),a&&e.splice(l,0,h$())}return{duration:r,delay:s,easing:o}}(n,e,t)}function jc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vo(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else jc(n,t);return t}function T$(n,e,t){return t?e+":"+t+";":""}function D$(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=T$(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=T$(0,mpe(t),n.style[t]));n.setAttribute("style",e)}function Hr(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=vA(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),lA()&&D$(n))}function Ua(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=vA(t);n.style[i]=""}),lA()&&D$(n))}function Bh(n){return Array.isArray(n)?1==n.length?n[0]:c$(n):n}const yA=new RegExp("{{\\s*(.+?)\\s*}}","g");function S$(n){let e=[];if("string"==typeof n){let t;for(;t=yA.exec(n);)e.push(t[1]);yA.lastIndex=0}return e}function __(n,e,t){const i=n.toString(),r=i.replace(yA,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function kfe(n){return new z(3003,Ae)}()),a=""),a.toString()});return r==i?n:r}function y_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ppe=/-+([a-z0-9])/g;function vA(n){return n.replace(ppe,(...e)=>e[1].toUpperCase())}function mpe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ai(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Rfe(n){return new z(3004,Ae)}()}}function A$(n,e){return window.getComputedStyle(n)[e]}function wpe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Epe(n,e,t){if(":"==n[0]){const l=function Cpe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Gfe(n){return new z(3016,Ae)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function qfe(n){return new z(3015,Ae)}()),e;const r=i[1],s=i[2],o=i[3];e.push(M$(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(M$(o,r))}(i,t,e)):t.push(n),t}const E_=new Set(["true","1"]),C_=new Set(["false","0"]);function M$(n,e){const t=E_.has(n)||C_.has(n),i=E_.has(e)||C_.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?E_.has(n):C_.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?E_.has(e):C_.has(e)),o&&a}}const Ipe=new RegExp("s*:selfs*,?","g");function bA(n,e,t,i){return new Tpe(n).build(e,t,i)}class Tpe{constructor(e){this._driver=e}build(e,t,i){const r=new Ape(t);this._resetContextStyleTimingState(r);const s=Ai(this,Bh(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Pfe(){return new z(3006,Ae)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function Nfe(){return new z(3007,Ae)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(I_(a)){const l=a;Object.keys(l).forEach(c=>{S$(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(y_(s.values()),t.errors.push(function Ffe(n,e){return new z(3008,Ae)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ai(this,Bh(e.animation),t);return{type:1,matchers:wpe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ja(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ai(this,i,t)),options:ja(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=Ai(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:ja(e.options)}}visitAnimate(e,t){const i=function xpe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wA(g_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=wA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=g_(t,e);return wA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ts({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ts(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Is?i.push(o):t.errors.push(function Lfe(n){return new z(3002,Ae)}()):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(I_(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(function Vfe(n,e,t,i,r){return new z(3010,Ae)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function fpe(n,e,t){const i=e.params||{},r=S$(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function xfe(n){return new z(3001,Ae)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Bfe(){return new z(3011,Ae)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const v=this._makeStyleAst(b,t);let I=null!=v.offset?v.offset:function Mpe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(I_(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(I_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(v.styles),T=0;return null!=I&&(s++,T=v.offset=I),l=l||T<0||T>1,a=a||T<c,c=T,o.push(T),v});l&&t.errors.push(function Ufe(){return new z(3012,Ae)}()),a&&t.errors.push(function jfe(){return new z(3200,Ae)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Hfe(){return new z(3202,Ae)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((b,v)=>{const I=h>0?v==f?1:h*v:o[v],T=I*_;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(b,t),b.offset=I,i.styles.push(b)}),i}visitReference(e,t){return{type:8,animation:Ai(this,Bh(e.animation),t),options:ja(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ja(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ja(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Dpe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ipe,"")),n=n.replace(/@\*/g,m_).replace(/@\w+/g,t=>m_+"-"+t.substr(1)).replace(/:animating/g,gA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Si(t.collectedStyles,t.currentQuerySelector,{});const a=Ai(this,Bh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ja(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $fe(){return new z(3013,Ae)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:g_(e.timings,t.errors,!0);return{type:12,animation:Ai(this,Bh(e.animation),t),timings:i,options:null}}}class Ape{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function I_(n){return!Array.isArray(n)&&"object"==typeof n}function ja(n){return n?(n=jc(n)).params&&(n.params=function Spe(n){return n?jc(n):null}(n.params)):n={},n}function wA(n,e,t){return{duration:n,delay:e,easing:t}}function EA(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class T_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Ope=new RegExp(":enter","g"),Npe=new RegExp(":leave","g");function CA(n,e,t,i,r,s={},o={},a,l,c=[]){return(new Fpe).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class Fpe{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new T_;const d=new IA(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Ai(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===t){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[EA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Ba(i.duration):null,a=null!=i.delay?Ba(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ai(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=D_);const o=Ba(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ai(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ba(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ai(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return g_(t.params?__(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ba(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=D_);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Ai(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ai(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const D_={};class IA{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=D_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new S_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ba(i.duration)),null!=i.delay&&(r.delay=Ba(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=__(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new IA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=D_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Lpe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Ope,"."+this._enterClassName)).replace(Npe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function zfe(n){return new z(3014,Ae)}()),a}}class S_{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new S_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Is,this._currentKeyframe[t]=Is}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function Vpe(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Is})):vo(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=__(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Is),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=vo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Is&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?y_(e.values()):[],o=t.size?y_(t.values()):[];if(i){const a=r[0],l=jc(a);a.offset=0,l.offset=1,r=[a,l]}return EA(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Lpe extends S_{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=vo(e[0],!1);l.offset=0,s.push(l);const c=vo(e[0],!1);c.offset=R$(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=vo(e[d],!1);h.offset=R$((t+h.offset*i)/o),s.push(h)}i=o,t=0,r="",e=s}return EA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function R$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class TA{}class Bpe extends TA{normalizePropertyName(e,t){return vA(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Upe[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Ofe(n,e){return new z(3005,Ae)}())}return o+s}}const Upe=(()=>function jpe(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function O$(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const DA={};class P${constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Hpe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||DA,p=this.buildStyles(i,a&&a.params||DA,d),m=l&&l.params||DA,_=this.buildStyles(r,m,d),b=new Set,v=new Map,I=new Map,T="void"===r,O={params:Object.assign(Object.assign({},h),m)},H=u?[]:CA(e,t,this.ast.animation,s,o,p,_,O,c,d);let ie=0;if(H.forEach(Lt=>{ie=Math.max(Lt.duration+Lt.delay,ie)}),d.length)return O$(t,this._triggerName,i,r,T,p,_,[],[],v,I,ie,d);H.forEach(Lt=>{const Zn=Lt.element,Yc=Si(v,Zn,{});Lt.preStyleProps.forEach(fr=>Yc[fr]=!0);const ks=Si(I,Zn,{});Lt.postStyleProps.forEach(fr=>ks[fr]=!0),Zn!==t&&b.add(Zn)});const Qe=y_(b.values());return O$(t,this._triggerName,i,r,T,p,_,H,Qe,v,I,ie)}}class $pe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=jc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=__(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class qpe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new $pe(r.style,r.options&&r.options.params||{},i)}),N$(this.states,"true","1"),N$(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new P$(e,r,this.states))}),this.fallbackTransition=function Gpe(n,e,t){return new P$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function N$(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Wpe=new T_;class Kpe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=bA(this._driver,t,i,[]);if(i.length)throw function Xfe(n){return new z(3503,Ae)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=f$(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=CA(this._driver,t,s,mA,f_,{},{},i,Wpe,r),o.forEach(u=>{const d=Si(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push(function Zfe(){return new z(3300,Ae)}()),o=[]),r.length)throw function Jfe(n){return new z(3504,Ae)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Is)})});const c=yo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function epe(n){return new z(3301,Ae)}();return t}listen(e,t,i,r){const s=dA(t,"","","");return cA(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const F$="ng-animate-queued",SA="ng-animate-disabled",Jpe=[],L$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wi="__ng_removed";class AA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function rme(n){return null!=n?n:null}(i?e.value:e),i){const s=jc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Uh="void",MA=new AA(Uh);class tme{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ki(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function tpe(n,e){return new z(3302,Ae)}();if(null==i||0==i.length)throw function npe(n){return new z(3303,Ae)}();if(!function sme(n){return"start"==n||"done"==n}(i))throw function ipe(n,e){return new z(3400,Ae)}();const s=Si(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=Si(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Ki(e,p_),Ki(e,p_+"-"+t),a[t]=MA),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function rpe(n){return new z(3401,Ae)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new xA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ki(e,p_),Ki(e,p_+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new AA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=MA),c.value!==Uh&&l.value===c.value){if(!function lme(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],_=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ua(e,_),Hr(e,b)})}return}const h=Si(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Ki(e,F$),o.onStart(()=>{Hc(e,F$)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let b=_.indexOf(o);b>=0&&_.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,m_,!0);i.forEach(r=>{if(r[Wi])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,Uh,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&yo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||MA,u=new AA(Uh),d=new xA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wi];(!s||s===L$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ki(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=dA(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,cA(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class nme{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new tme(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,t)){i.splice(a+1,0,e),o=!0;break}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(A_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!A_(t))return;const s=t[Wi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ki(e,SA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hc(e,SA))}removeNode(e,t,i,r){if(A_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Wi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return A_(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,m_,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yo(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Wi];if(i&&i.setForRemoval){if(e[Wi]=L$,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(SA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ki(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?yo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function spe(n){return new z(3402,Ae)}()}_flushAnimations(e,t){const i=new T_,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const Q=this.driver.query(q,".ng-animate-queued",!0);for(let re=0;re<Q.length;re++)u.add(Q[re])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=U$(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((q,Q)=>{const re=mA+m++;p.set(Q,re),q.forEach(Ve=>Ki(Ve,re))});const _=[],b=new Set,v=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const Q=this.collectedLeaveElements[q],re=Q[Wi];re&&re.setForRemoval&&(_.push(Q),b.add(Q),re.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(Ve=>b.add(Ve)):v.add(Q))}const I=new Map,T=U$(h,Array.from(b));T.forEach((q,Q)=>{const re=f_+m++;I.set(Q,re),q.forEach(Ve=>Ki(Ve,re))}),e.push(()=>{f.forEach((q,Q)=>{const re=p.get(Q);q.forEach(Ve=>Hc(Ve,re))}),T.forEach((q,Q)=>{const re=I.get(Q);q.forEach(Ve=>Hc(Ve,re))}),_.forEach(q=>{this.processLeaveNode(q)})});const O=[],H=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(re=>{const Ve=re.player,hn=re.element;if(O.push(Ve),this.collectedEnterElements.length){const Jn=hn[Wi];if(Jn&&Jn.setForMove){if(Jn.previousTriggersValues&&Jn.previousTriggersValues.has(re.triggerName)){const Qa=Jn.previousTriggersValues.get(re.triggerName),So=this.statesByElement.get(re.element);So&&So[re.triggerName]&&(So[re.triggerName].value=Qa)}return void Ve.destroy()}}const qr=!d||!this.driver.containsElement(d,hn),Mi=I.get(hn),Do=p.get(hn),yt=this._buildInstruction(re,i,Do,Mi,qr);if(yt.errors&&yt.errors.length)return void H.push(yt);if(qr)return Ve.onStart(()=>Ua(hn,yt.fromStyles)),Ve.onDestroy(()=>Hr(hn,yt.toStyles)),void r.push(Ve);if(re.isFallbackTransition)return Ve.onStart(()=>Ua(hn,yt.fromStyles)),Ve.onDestroy(()=>Hr(hn,yt.toStyles)),void r.push(Ve);const cG=[];yt.timelines.forEach(Jn=>{Jn.stretchStartingKeyframe=!0,this.disabledNodes.has(Jn.element)||cG.push(Jn)}),yt.timelines=cG,i.append(hn,yt.timelines),o.push({instruction:yt,player:Ve,element:hn}),yt.queriedElements.forEach(Jn=>Si(a,Jn,[]).push(Ve)),yt.preStyleProps.forEach((Jn,Qa)=>{const So=Object.keys(Jn);if(So.length){let Xa=l.get(Qa);Xa||l.set(Qa,Xa=new Set),So.forEach(FM=>Xa.add(FM))}}),yt.postStyleProps.forEach((Jn,Qa)=>{const So=Object.keys(Jn);let Xa=c.get(Qa);Xa||c.set(Qa,Xa=new Set),So.forEach(FM=>Xa.add(FM))})});if(H.length){const q=[];H.forEach(Q=>{q.push(function ope(n,e){return new z(3505,Ae)}())}),O.forEach(Q=>Q.destroy()),this.reportError(q)}const ie=new Map,Qe=new Map;o.forEach(q=>{const Q=q.element;i.has(Q)&&(Qe.set(Q,Q),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,ie))}),r.forEach(q=>{const Q=q.element;this._getPreviousPlayers(Q,!1,q.namespaceId,q.triggerName,null).forEach(Ve=>{Si(ie,Q,[]).push(Ve),Ve.destroy()})});const Lt=_.filter(q=>H$(q,l,c)),Zn=new Map;B$(Zn,this.driver,v,c,Is).forEach(q=>{H$(q,l,c)&&Lt.push(q)});const ks=new Map;f.forEach((q,Q)=>{B$(ks,this.driver,new Set(q),l,"!")}),Lt.forEach(q=>{const Q=Zn.get(q),re=ks.get(q);Zn.set(q,Object.assign(Object.assign({},Q),re))});const fr=[],Qc=[],Xc={};o.forEach(q=>{const{element:Q,player:re,instruction:Ve}=q;if(i.has(Q)){if(u.has(Q))return re.onDestroy(()=>Hr(Q,Ve.toStyles)),re.disabled=!0,re.overrideTotalTime(Ve.totalTime),void r.push(re);let hn=Xc;if(Qe.size>1){let Mi=Q;const Do=[];for(;Mi=Mi.parentNode;){const yt=Qe.get(Mi);if(yt){hn=yt;break}Do.push(Mi)}Do.forEach(yt=>Qe.set(yt,hn))}const qr=this._buildAnimation(re.namespaceId,Ve,ie,s,ks,Zn);if(re.setRealPlayer(qr),hn===Xc)fr.push(re);else{const Mi=this.playersByElement.get(hn);Mi&&Mi.length&&(re.parentPlayer=yo(Mi)),r.push(re)}}else Ua(Q,Ve.fromStyles),re.onDestroy(()=>Hr(Q,Ve.toStyles)),Qc.push(re),u.has(Q)&&r.push(re)}),Qc.forEach(q=>{const Q=s.get(q.element);if(Q&&Q.length){const re=yo(Q);q.setRealPlayer(re)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<_.length;q++){const Q=_[q],re=Q[Wi];if(Hc(Q,f_),re&&re.hasAnimation)continue;let Ve=[];if(a.size){let qr=a.get(Q);qr&&qr.length&&Ve.push(...qr);let Mi=this.driver.query(Q,gA,!0);for(let Do=0;Do<Mi.length;Do++){let yt=a.get(Mi[Do]);yt&&yt.length&&Ve.push(...yt)}}const hn=Ve.filter(qr=>!qr.destroyed);hn.length?ome(this,Q,hn):this.processLeaveNode(Q)}return _.length=0,fr.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const Q=this.players.indexOf(q);this.players.splice(Q,1)}),q.play()}),fr}elementContainsData(e,t){let i=!1;const r=t[Wi];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Uh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Si(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ua(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[Wi];if(_&&_.removedBeforeQueried)return new Vh(p.duration,p.delay);const b=m!==l,v=function ame(n){const e=[];return j$(n,e),e}((i.get(m)||Jpe).map(ie=>ie.getRealPlayer())).filter(ie=>!!ie.element&&ie.element===m),I=s.get(m),T=o.get(m),O=f$(0,this._normalizer,0,p.keyframes,I,T),H=this._buildPlayer(p,O,v);if(p.subTimeline&&r&&d.add(m),b){const ie=new xA(e,a,m);ie.setRealPlayer(H),c.push(ie)}return H});c.forEach(p=>{Si(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function ime(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ki(p,C$));const f=yo(h);return f.onDestroy(()=>{u.forEach(p=>Hc(p,C$)),Hr(l,t.toStyles)}),d.forEach(p=>{Si(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Vh(e.duration,e.delay)}}class xA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Vh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>cA(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Si(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function A_(n){return n&&1===n.nodeType}function V$(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function B$(n,e,t,i,r){const s=[];t.forEach(l=>s.push(V$(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[Wi]=eme,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>V$(l,s[a++])),o}function U$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ki(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Hc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ome(n,e,t){yo(t).onDone(()=>n.processLeaveNode(e))}function j$(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof d$?j$(i.players,e):e.push(i)}}function H$(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class M_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new nme(e,t,i),this._timelineEngine=new Kpe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=bA(this._driver,s,l,[]);if(l.length)throw function Yfe(n,e){return new z(3404,Ae)}();a=function zpe(n,e,t){return new qpe(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=p$(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=p$(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ume=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hr(this._element,this._initialStyles),this._endStyles&&(Hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ua(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ua(this._element,this._endStyles),this._endStyles=null),Hr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kA(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];dme(r)&&(e=e||{},e[r]=n[r])}return e}function dme(n){return"display"===n||"position"===n}class $${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:A$(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hme{validateStyleProperty(e){return y$(e)}matchesElement(e,t){return!1}containsElement(e,t){return v$(e,t)}getParentElement(e){return fA(e)}query(e,t,i){return b$(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(h=>h instanceof $$);(function gpe(n,e){return 0===n||0===e})(i,r)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),t=function _pe(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=A$(n,l)})}}return e}(e,t=t.map(h=>vo(h,!1)),c);const d=function cme(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=kA(e[0]),e.length>1&&(i=kA(e[e.length-1]))):e&&(t=kA(e)),t||i?new ume(n,t,i):null}(e,t);return new $$(e,t,l,d)}}let fme=(()=>{class n extends l${constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Zi.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?c$(t):t;return z$(this._renderer,null,i,"register",[r]),new pme(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(Nu),C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class pme extends class Sfe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mme(this._id,e,t||{},this._renderer)}}class mme{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return z$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function z$(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const q$="@.disabled";let gme=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new G$("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new _me(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(Nu),C(M_),C(fe))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class G${constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==q$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _me extends G${constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==q$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function yme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vme(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let bme=(()=>{class n extends M_{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(De),C(pA),C(TA))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const $c=new F("AnimationModuleType"),W$=[{provide:l$,useClass:fme},{provide:TA,useFactory:function wme(){return new Bpe}},{provide:M_,useClass:bme},{provide:Nu,useFactory:function Eme(n,e,t){return new gme(n,e,t)},deps:[Fp,M_,fe]}],K$=[{provide:pA,useFactory:()=>new hme},{provide:$c,useValue:"BrowserAnimations"},...W$],Cme=[{provide:pA,useClass:w$},{provide:$c,useValue:"NoopAnimations"},...W$];let Ime=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Cme:K$}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:K$,imports:[_N]}),n})();function Tme(n,e){if(1&n&&ne(0,"mat-pseudo-checkbox",4),2&n){const t=pe();R("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Dme(n,e){if(1&n&&(D(0,"span",5),M(1),x()),2&n){const t=pe();N(1),Uo("(",t.group.label,")")}}const Sme=["*"],Mme=new F("mat-sanity-checks",{providedIn:"root",factory:function Ame(){return!0}});let _t=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!XS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(Dfe),C(Mme,8),C(De))},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Ph],Ph]}),n})();function Q$(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=en(e)}}}function k_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function jh(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=en(e)}}}function xme(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new ge,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let X$=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Hh(n,e,t){n.nativeElement.classList.toggle(e,t)}let J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t],_t]}),n})();class Ome{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ez={enterDuration:225,exitDuration:150},RA=Fh({passive:!0}),tz=["mousedown","touchstart"],nz=["mouseup","mouseleave","touchend","touchcancel"];class Nme{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cs(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},ez),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function Lme(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function Fme(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new Ome(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},ez),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Cs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(tz))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nz),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=nA(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iA(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,RA)})})}_removeTriggerEvents(){this._triggerElement&&(tz.forEach(e=>{this._triggerElement.removeEventListener(e,this,RA)}),this._pointerUpEventsRegistered&&nz.forEach(e=>{this._triggerElement.removeEventListener(e,this,RA)}))}}const Vme=new F("mat-ripple-global-options");let $h=(()=>{class n{constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Nme(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(fe),y(ui),y(Vme,8),y($c,8))},n.\u0275dir=$({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Kt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),R_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t],_t]}),n})(),iz=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(y($c,8))},n.\u0275cmp=He({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&Kt("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),OA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t]]}),n})();const rz=new F("MAT_OPTION_PARENT_COMPONENT"),sz=new F("MatOptgroup");let Bme=0;class oz{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Ume=(()=>{class n{constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Bme++,this.onSelectionChange=new Ie,this._stateChanges=new ge}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=en(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!_o(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new oz(this,t))}}return n.\u0275fac=function(t){np()},n.\u0275dir=$({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),az=(()=>{class n extends Ume{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(ni),y(rz,8),y(sz,8))},n.\u0275cmp=He({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&Me("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(sp("id",i.id),Je("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Kt("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[he],ngContentSelectors:Sme,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(Li(),Z(0,Tme,1,2,"mat-pseudo-checkbox",0),D(1,"span",1),kt(2),x(),Z(3,Dme,2,1,"span",2),ne(4,"div",3)),2&t&&(R("ngIf",i.multiple),N(3),R("ngIf",i.group&&i.group._inert),N(1),R("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[iz,ji,$h],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})(),lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[R_,Ks,_t,OA]]}),n})();const $me=["*",[["mat-toolbar-row"]]],zme=["*","mat-toolbar-row"],qme=k_(class{constructor(n){this._elementRef=n}});let Gme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Wme=(()=>{class n extends qme{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(ui),y(De))},n.\u0275cmp=He({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Ct(r,Gme,5),2&t){let s;Fe(s=Le())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Kt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[he],ngContentSelectors:zme,decls:2,vars:0,template:function(t,i){1&t&&(Li($me),kt(0),kt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Kme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t],_t]}),n})();const Yme=["mat-button",""],Qme=["*"],Zme=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Jme=k_(Q$(jh(class{constructor(n){this._elementRef=n}})));let PA,zh=(()=>{class n extends Jme{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Zme)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(c_),y($c,8))},n.\u0275cmp=He({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&Vi($h,5),2&t){let r;Fe(r=Le())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Je("disabled",i.disabled||null),Kt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[he],attrs:Yme,ngContentSelectors:Qme,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Li(),D(0,"span",0),kt(1),x(),ne(2,"span",1)(3,"span",2)),2&t&&(N(2),Kt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),R("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[$h],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ege=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[R_,_t],_t]}),n})(),tge=1;const O_={};function cz(n){return n in O_&&(delete O_[n],!0)}const nge={setImmediate(n){const e=tge++;return O_[e]=!0,PA||(PA=Promise.resolve()),PA.then(()=>cz(e)&&n()),e},clearImmediate(n){cz(n)}},{setImmediate:ige,clearImmediate:rge}=nge,P_={setImmediate(...n){const{delegate:e}=P_;return((null==e?void 0:e.setImmediate)||ige)(...n)},clearImmediate(n){const{delegate:e}=P_;return((null==e?void 0:e.clearImmediate)||rge)(n)},delegate:void 0},NA=new class oge extends em{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class sge extends Jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=P_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(P_.clearImmediate(t),e._scheduled=void 0)}});function uz(n,e){return e?t=>bd(e.pipe(ut(1),function age(){return mt((n,e)=>{n.subscribe(it(e,Zc))})}()),t.pipe(uz(n))):vt((t,i)=>n(t,i).pipe(ut(1),function lge(n){return K(()=>n)}(t)))}function dz(n=0,e,t=Dte){let i=-1;return null!=e&&(rx(e)?t=e:i=e),new Be(r=>{let s=function cge(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function N_(n,e=td){const t=dz(n,e);return uz(()=>t)}class FA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uge extends FA{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class LA extends FA{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class dge extends FA{constructor(e){super(),this.element=e instanceof Ne?e.nativeElement:e}}class fge extends class hge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uge?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof LA?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof dge?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();const mge=["addListener","removeListener"],gge=["addEventListener","removeEventListener"],_ge=["on","off"];function Ds(n,e,t,i){if(se(t)&&(i=t,t=void 0),i)return Ds(n,e,t).pipe(PI(i));const[r,s]=function bge(n){return se(n.addEventListener)&&se(n.removeEventListener)}(n)?gge.map(o=>a=>n[o](e,a,t)):function yge(n){return se(n.addListener)&&se(n.removeListener)}(n)?mge.map(hz(n,e)):function vge(n){return se(n.on)&&se(n.off)}(n)?_ge.map(hz(n,e)):[];if(!r&&yy(n))return vt(o=>Ds(o,e,t))(fn(n));if(!r)throw new TypeError("Invalid event target");return new Be(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function hz(n,e){return t=>i=>n[t](e,i)}const qh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=qh;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new nt(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=qh;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=qh;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class Ege extends em{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class wge extends Jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=qh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(qh.cancelAnimationFrame(t),e._scheduled=void 0)}});function fz(n,e=td){return function Ige(n){return mt((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(it(t,c=>{i=!0,r=c,s||fn(n(c)).subscribe(s=it(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>dz(n,e))}let Dge=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Be(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(fz(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(dt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Cs(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ds(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(fe),C(ui),C(De,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ge,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(fz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(fe),C(De,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Ph,F_],Ph,F_]}),n})();const mz=Khe();class Age{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$t(-this._previousScrollPosition.left),e.style.top=$t(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mz&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Mge{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gz{enable(){}disable(){}attach(){}}function BA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function _z(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xge{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();BA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kge=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gz,this.close=o=>new Mge(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Age(this._viewportRuler,this._document),this.reposition=o=>new xge(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(C(Dge),C(VA),C(fe),C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UA{constructor(e){if(this.scrollStrategy=new gz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Rge{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Oge{constructor(e,t,i,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ge,this._attachments=new ge,this._detachments=new ge,this._locationChanges=nt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ge,this._outsidePointerEvents=new ge,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ut(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=$t(this._config.width),e.height=$t(this._config.height),e.minWidth=$t(this._config.minWidth),e.minHeight=$t(this._config.minHeight),e.maxWidth=$t(this._config.maxWidth),e.maxHeight=$t(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=JH(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Di(xi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let yz=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XS()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),XS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(C(De),C(ui))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vz="cdk-overlay-connected-position-bounding-box",Pge=/([A-Za-z%]+)$/;class Nge{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge,this._resizeSubscription=nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(vz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ha(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=wz(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),m=this._subtractOverflows(s.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=bz(this._overlayRef.getConfig().minHeight),a=bz(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=wz(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Rge(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=$t(i.height),r.top=$t(i.top),r.bottom=$t(i.bottom),r.width=$t(i.width),r.left=$t(i.left),r.right=$t(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=$t(s)),o&&(r.maxWidth=$t(o))}this._lastBoundingBoxSize=i,Ha(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ha(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ha(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ha(i,this._getExactOverlayY(t,e,u)),Ha(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=$t(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=$t(o.maxWidth):s&&(i.maxWidth="")),Ha(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=$t(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=$t(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_z(e,i),isOriginOutsideView:BA(e,i),isOverlayClipped:_z(t,i),isOverlayOutsideView:BA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&JH(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ne)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ha(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Pge);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ez="cdk-global-overlay-wrapper";class Fge{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Ez),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Ez),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Lge=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Fge}flexibleConnectedTo(t){return new Nge(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(VA),C(De),C(ui),C(yz))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(De))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vge=(()=>{class n extends Cz{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(De),C(fe,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bge=(()=>{class n extends Cz{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=go(s)},this._clickListener=s=>{const o=go(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(De),C(ui),C(fe,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uge=0,zc=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new UA(t);return o.direction=o.direction||this._directionality.value,new Oge(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Uge++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Hl)),new fge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(kge),C(yz),C(Ho),C(Lge),C(Vge),C(rt),C(fe),C(De),C(r_),C(wp),C(Bge))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const $ge={provide:new F("cdk-connected-overlay-scroll-strategy"),deps:[zc],useFactory:function Hge(n){return()=>n.scrollStrategies.reposition()}};let Iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[zc,$ge],imports:[[Ph,pge,pz],pz]}),n})();const zge=["mat-menu-item",""];function qge(n,e){1&n&&(function Fx(){ue.lFrame.currentNamespace="svg"}(),D(0,"svg",2),ne(1,"polygon",3),x())}const Tz=["*"];function Gge(n,e){if(1&n){const t=zs();D(0,"div",0),Me("keydown",function(r){return Un(t),pe()._handleKeydown(r)})("click",function(){return Un(t),pe().closed.emit("click")})("@transformMenu.start",function(r){return Un(t),pe()._onAnimationStart(r)})("@transformMenu.done",function(r){return Un(t),pe()._onAnimationDone(r)}),D(1,"div",1),kt(2),x()()}if(2&n){const t=pe();R("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Je("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const L_={transformMenu:sA("transformMenu",[oA("void",Ts({opacity:0,transform:"scale(0.8)"})),d_("void => enter",u_("120ms cubic-bezier(0, 0, 0.2, 1)",Ts({opacity:1,transform:"scale(1)"}))),d_("* => void",u_("100ms 25ms linear",Ts({opacity:0})))]),fadeInItems:sA("fadeInItems",[oA("showing",Ts({opacity:1})),d_("void => *",[Ts({opacity:0}),u_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Wge=new F("MatMenuContent"),jA=new F("MAT_MENU_PANEL"),Kge=jh(Q$(class{}));let V_=(()=>{class n extends Kge{constructor(t,i,r,s,o){var a;super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new ge,this._focused=new ge,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==s?void 0:s.addItem)||void 0===a||a.call(s,this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(t=i.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var i;this._highlighted=t,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(De),y(c_),y(jA,8),y(ni))},n.\u0275cmp=He({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&Me("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Je("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),Kt("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[he],attrs:zge,ngContentSelectors:Tz,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(Li(),kt(0),ne(1,"div",0),Z(2,qge,2,0,"svg",1)),2&t&&(N(1),R("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),N(1),R("ngIf",i._triggersSubmenu))},directives:[$h,ji],encapsulation:2,changeDetection:0}),n})();const Dz=new F("mat-menu-default-options",{providedIn:"root",factory:function Yge(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Qge=0,Gh=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ul,this._tabSubscription=nt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ge,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ie,this.close=this.closed,this.panelId="mat-menu-panel-"+Qge++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=en(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=en(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new i$(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(cr(this._directDescendantItems),Ot(t=>xi(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const s=t.toArray(),o=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[o]&&!s[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(cr(this._directDescendantItems),Ot(i=>xi(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:_o(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(ut(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){var r;const s=this._classList;s["mat-menu-before"]="before"===t,s["mat-menu-after"]="after"===t,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(cr(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(fe),y(Dz),y(ni))},n.\u0275dir=$({type:n,contentQueries:function(t,i,r){if(1&t&&(Ct(r,Wge,5),Ct(r,V_,5),Ct(r,V_,4)),2&t){let s;Fe(s=Le())&&(i.lazyContent=s.first),Fe(s=Le())&&(i._allItems=s),Fe(s=Le())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&Vi(bi,5),2&t){let r;Fe(r=Le())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Xge=(()=>{class n extends Gh{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(fe),y(Dz),y(ni))},n.\u0275cmp=He({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Je("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ue([{provide:jA,useExisting:n}]),he],ngContentSelectors:Tz,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(Li(),Z(0,Gge,3,6,"ng-template"))},directives:[qu],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[L_.transformMenu,L_.fadeInItems]},changeDetection:0}),n})();const Sz=new F("mat-menu-scroll-strategy"),Jge={provide:Sz,deps:[zc],useFactory:function Zge(n){return()=>n.scrollStrategies.reposition()}},Mz=Fh({passive:!0});let e_e=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=nt.EMPTY,this._hoverSubscription=nt.EMPTY,this._menuCloseSubscription=nt.EMPTY,this._handleTouchStart=d=>{iA(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ie,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ie,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Gh?o:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Mz),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Mz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),i=t.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Gh&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(Di(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Gh?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(dt(r=>"void"===r.toState),ut(1),Di(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,i=this.menu.parentMenu;for(;i;)t++,i=i.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new UA({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(t){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[i,r],d=0;this.triggersSubmenu()?(u=i="before"===this.menu.xPosition?"start":"end",r=c="end"===i?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:i,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:r,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:i,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:r,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return xi(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(dt(o=>o!==this._menuItemInstance),dt(()=>this._menuOpen)):Y(),i)}_handleMousedown(t){nA(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(dt(t=>t===this._menuItemInstance&&!t.disabled),N_(0,NA)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Gh&&this.menu._isAnimating?this.menu._animationDone.pipe(ut(1),N_(0,NA),Di(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new LA(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(y(zc),y(Ne),y(ti),y(Sz),y(jA,8),y(V_,10),y(r_,8),y(c_),y(fe))},n.\u0275dir=$({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,i){1&t&&Me("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&Je("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),t_e=(()=>{class n extends e_e{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=qt(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[he]}),n})(),n_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[Jge],imports:[[Ks,_t,R_,Iz],F_,_t]}),n})();function xz(...n){const e=sx(n),{args:t,keys:i}=pV(n),r=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;fn(t[u]).subscribe(it(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?mV(i,a):a),s.complete())}))}});return e?r.pipe(PI(e)):r}class i_e{}class bo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class r_e{encodeKey(e){return kz(e)}encodeValue(e){return kz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const o_e=/%(\d[a-f0-9])/gi,a_e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kz(n){return encodeURIComponent(n).replace(o_e,(e,t)=>{var i;return null!==(i=a_e[t])&&void 0!==i?i:e})}function Rz(n){return`${n}`}class wo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new r_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s_e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rz(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Rz(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class l_e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Oz(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Pz(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Nz(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Wh{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function c_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bo),this.context||(this.context=new l_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new wo,this.urlWithParams=t}serializeBody(){return null===this.body?null:Oz(this.body)||Pz(this.body)||Nz(this.body)||function u_e(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nz(this.body)?null:Pz(this.body)?this.body.type||null:Oz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new Wh(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Tn=(()=>((Tn=Tn||{})[Tn.Sent=0]="Sent",Tn[Tn.UploadProgress=1]="UploadProgress",Tn[Tn.ResponseHeader=2]="ResponseHeader",Tn[Tn.DownloadProgress=3]="DownloadProgress",Tn[Tn.Response=4]="Response",Tn[Tn.User=5]="User",Tn))();class HA extends class d_e{constructor(e,t=200,i="OK"){this.headers=e.headers||new bo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function $A(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lz=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Wh)s=t;else{let l,c;l=r.headers instanceof bo?r.headers:new bo(r.headers),r.params&&(c=r.params instanceof wo?r.params:new wo({fromObject:r.params})),s=new Wh(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Y(s).pipe(zi(l=>this.handler.handle(l)));if(t instanceof Wh||"events"===r.observe)return o;const a=o.pipe(dt(l=>l instanceof HA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(K(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(K(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(K(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(K(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new wo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,$A(r,i))}post(t,i,r={}){return this.request("POST",t,$A(r,i))}put(t,i,r={}){return this.request("PUT",t,$A(r,i))}}return n.\u0275fac=function(t){return new(t||n)(C(i_e))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const f_e=["*"];let B_;function Kh(n){var e;return(null===(e=function p_e(){if(void 0===B_&&(B_=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(B_=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return B_}())||void 0===e?void 0:e.createHTML(n))||n}function Vz(n){return Error(`Unable to find icon with the name "${n}"`)}function Bz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Uz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $a{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let U_=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new $a(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(je.HTML,r);if(!o)throw Uz(r);const a=Kh(o);return this._addSvgIconConfig(t,i,new $a("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new $a(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(je.HTML,i);if(!s)throw Uz(i);const o=Kh(s);return this._addSvgIconSetConfig(t,new $a("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(je.RESOURCE_URL,t);if(!i)throw Bz(t);const r=this._cachedIconsByUrl.get(i);return r?Y(j_(r)):this._loadSvgIconFromConfig(new $a(t,null)).pipe(It(s=>this._cachedIconsByUrl.set(i,s)),K(s=>j_(s)))}getNamedSvgIcon(t,i=""){const r=jz(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):Zl(Vz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Y(j_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(K(i=>j_(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Y(r):xz(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(fs(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(je.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Y(null)})))).pipe(K(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw Vz(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(It(i=>t.svgText=i),K(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Y(null):this._fetchIcon(t).pipe(It(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Kh("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Kh("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,o=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function m_e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(je.RESOURCE_URL,r);if(!a)throw Bz(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(K(u=>Kh(u)),EV(()=>this._inProgressUrlFetches.delete(a)),ax());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(jz(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return __e(s)?new $a(s.url,null,s.options):new $a(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(Lz,8),C(gw),C(De,8),C(Us))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j_(n){return n.cloneNode(!0)}function jz(n,e){return n+":"+e}function __e(n){return!(!n.url||!n.options)}const y_e=k_(class{constructor(n){this._elementRef=n}}),v_e=new F("mat-icon-location",{providedIn:"root",factory:function b_e(){const n=Vf(De),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Hz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],w_e=Hz.map(n=>`[${n}]`).join(", "),E_e=/^url\(['"]?#(.*?)['"]?\)$/;let zA=(()=>{class n extends y_e{constructor(t,i,r,s,o){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=nt.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=en(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(w_e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Hz.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(E_e):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ut(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(U_),Bs("aria-hidden"),y(v_e),y(Us))},n.\u0275cmp=He({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Je("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Kt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[he],ngContentSelectors:f_e,decls:1,vars:0,template:function(t,i){1&t&&(Li(),kt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),C_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t],_t]}),n})();function I_e(n,e){if(1&n&&(Er(0),D(1,"button",8),ne(2,"img",9),M(3),D(4,"mat-icon"),M(5,"expand_more"),x()(),Cr()),2&n){const t=e.ngIf;pe();const i=$s(10);let r;N(1),R("matMenuTriggerFor",i),N(1),R("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/images/image-placeholder.png",Lo),N(1),Uo(" ",t.displayName," ")}}function T_e(n,e){1&n&&(D(0,"button",10)(1,"mat-icon"),M(2,"login"),x(),M(3," Login "),x())}let D_e=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.usersService=r,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(y(vd),y(vn),y(Oh))},n.\u0275cmp=He({type:n,selectors:[["app-root"]],decls:19,vars:4,consts:[["color","primary"],["href","/home",2,"color","white","text-decoration","none"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(t,i){if(1&t&&(D(0,"mat-toolbar",0)(1,"a",1),M(2," ToMatoChat "),x(),Z(3,I_e,6,3,"ng-container",2),Ar(4,"async"),Z(5,T_e,4,0,"ng-template",null,3,Bu),x(),D(7,"div",4),ne(8,"router-outlet"),x(),D(9,"mat-menu",null,5)(11,"button",6)(12,"mat-icon"),M(13,"account_circle"),x(),M(14," Profile "),x(),D(15,"button",7),Me("click",function(){return i.logout()}),D(16,"mat-icon"),M(17,"logout"),x(),M(18," Logout "),x()()),2&t){const r=$s(6);N(3),R("ngIf",Mr(4,2,i.user$))("ngIfElse",r)}},directives:[Wme,ji,zh,t_e,zA,Hm,KI,Xge,V_],pipes:[kp],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}"]}),n})(),$z=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S_e=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Cs(t);return new Be(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new ge,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C($z))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A_e=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Ie,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=en(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function ufe(n,e=0){return function dfe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ZH(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(y(S_e),y(Ne),y(fe))},n.\u0275dir=$({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),M_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[$z]}),n})();const x_e=["connectionContainer"],k_e=["inputContainer"],R_e=["label"];function O_e(n,e){1&n&&(Er(0),D(1,"div",14),ne(2,"div",15)(3,"div",16)(4,"div",17),x(),D(5,"div",18),ne(6,"div",15)(7,"div",16)(8,"div",17),x(),Cr())}function P_e(n,e){if(1&n){const t=zs();D(0,"div",19),Me("cdkObserveContent",function(){return Un(t),pe().updateOutlineGap()}),kt(1,1),x()}2&n&&R("cdkObserveContentDisabled","outline"!=pe().appearance)}function N_e(n,e){if(1&n&&(Er(0),kt(1,2),D(2,"span"),M(3),x(),Cr()),2&n){const t=pe(2);N(3),Dr(t._control.placeholder)}}function F_e(n,e){1&n&&kt(0,3,["*ngSwitchCase","true"])}function L_e(n,e){1&n&&(D(0,"span",23),M(1," *"),x())}function V_e(n,e){if(1&n){const t=zs();D(0,"label",20,21),Me("cdkObserveContent",function(){return Un(t),pe().updateOutlineGap()}),Z(2,N_e,4,1,"ng-container",12),Z(3,F_e,1,0,"ng-content",12),Z(4,L_e,2,0,"span",22),x()}if(2&n){const t=pe();Kt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),R("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Je("for",t._control.id)("aria-owns",t._control.id),N(2),R("ngSwitchCase",!1),N(1),R("ngSwitchCase",!0),N(1),R("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function B_e(n,e){1&n&&(D(0,"div",24),kt(1,4),x())}function U_e(n,e){if(1&n&&(D(0,"div",25),ne(1,"span",26),x()),2&n){const t=pe();N(1),Kt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function j_e(n,e){1&n&&(D(0,"div"),kt(1,5),x()),2&n&&R("@transitionMessages",pe()._subscriptAnimationState)}function H_e(n,e){if(1&n&&(D(0,"div",30),M(1),x()),2&n){const t=pe(2);R("id",t._hintLabelId),N(1),Dr(t.hintLabel)}}function $_e(n,e){if(1&n&&(D(0,"div",27),Z(1,H_e,2,2,"div",28),kt(2,6),ne(3,"div",29),kt(4,7),x()),2&n){const t=pe();R("@transitionMessages",t._subscriptAnimationState),N(1),R("ngIf",t.hintLabel)}}const z_e=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],q_e=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let G_e=0;const zz=new F("MatError");let qz=(()=>{class n{constructor(t,i){this.id="mat-error-"+G_e++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Bs("aria-live"),y(Ne))},n.\u0275dir=$({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&Je("id",i.id)},inputs:{id:"id"},features:[Ue([{provide:zz,useExisting:n}])]}),n})();const W_e={transitionMessages:sA("transitionMessages",[oA("enter",Ts({opacity:1,transform:"translateY(0%)"})),d_("void => enter",[Ts({opacity:0,transform:"translateY(-5px)"}),u_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n}),n})();const K_e=new F("MatHint");let Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-label"]]}),n})(),Y_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-placeholder"]]}),n})();const Q_e=new F("MatPrefix"),Wz=new F("MatSuffix");let X_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","matSuffix",""]],features:[Ue([{provide:Wz,useExisting:n}])]}),n})(),Kz=0;const J_e=k_(class{constructor(n){this._elementRef=n}},"primary"),eye=new F("MAT_FORM_FIELD_DEFAULT_OPTIONS"),GA=new F("MatFormField");let H_=(()=>{class n extends J_e{constructor(t,i,r,s,o,a,l){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ge,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kz++,this._labelId="mat-form-field-label-"+Kz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=en(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(cr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Di(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),xi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Di(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ds(this._label.nativeElement,"transitionend").pipe(ut(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=i.querySelectorAll(`${r}, ${s}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=i.querySelectorAll(r),c=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=i.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;o=Math.abs(f-d)-5,a=p>0?.75*p+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(ni),y(r_,8),y(eye,8),y(ui),y(fe),y($c,8))},n.\u0275cmp=He({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,qA,5),Ct(r,qA,7),Ct(r,Gz,5),Ct(r,Gz,7),Ct(r,Y_e,5),Ct(r,zz,5),Ct(r,K_e,5),Ct(r,Q_e,5),Ct(r,Wz,5)),2&t){let s;Fe(s=Le())&&(i._controlNonStatic=s.first),Fe(s=Le())&&(i._controlStatic=s.first),Fe(s=Le())&&(i._labelChildNonStatic=s.first),Fe(s=Le())&&(i._labelChildStatic=s.first),Fe(s=Le())&&(i._placeholderChild=s.first),Fe(s=Le())&&(i._errorChildren=s),Fe(s=Le())&&(i._hintChildren=s),Fe(s=Le())&&(i._prefixChildren=s),Fe(s=Le())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(Vi(x_e,7),Vi(k_e,5),Vi(R_e,5)),2&t){let r;Fe(r=Le())&&(i._connectionContainerRef=r.first),Fe(r=Le())&&(i._inputContainerRef=r.first),Fe(r=Le())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Kt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ue([{provide:GA,useExisting:n}]),he],ngContentSelectors:q_e,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(Li(z_e),D(0,"div",0)(1,"div",1,2),Me("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Z(3,O_e,9,0,"ng-container",3),Z(4,P_e,2,1,"div",4),D(5,"div",5,6),kt(7),D(8,"span",7),Z(9,V_e,5,16,"label",8),x()(),Z(10,B_e,2,0,"div",9),x(),Z(11,U_e,2,4,"div",10),D(12,"div",11),Z(13,j_e,2,1,"div",12),Z(14,$_e,5,2,"div",13),x()()),2&t&&(N(3),R("ngIf","outline"==i.appearance),N(1),R("ngIf",i._prefixChildren.length),N(5),R("ngIf",i._hasFloatingLabel()),N(1),R("ngIf",i._suffixChildren.length),N(1),R("ngIf","outline"!=i.appearance),N(1),R("ngSwitch",i._getDisplayedMessages()),N(1),R("ngSwitchCase","error"),N(1),R("ngSwitchCase","hint"))},directives:[ji,A_e,Gu,rw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[W_e.transitionMessages]},changeDetection:0}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Ks,_t,M_e],_t]}),n})(),Qz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y(Sr),y(Ne))},n.\u0275dir=$({type:n}),n})(),za=(()=>{class n extends Qz{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=qt(n)))(i||n)}}(),n.\u0275dir=$({type:n,features:[he]}),n})();const Yi=new F("NgValueAccessor"),nye={provide:Yi,useExisting:ze(()=>qa),multi:!0},rye=new F("CompositionEventMode");let qa=(()=>{class n extends Qz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iye(){const n=xr()?xr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Sr),y(Ne),y(rye,8))},n.\u0275dir=$({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ue([nye]),he]}),n})();function Eo(n){return null==n||0===n.length}function Zz(n){return null!=n&&"number"==typeof n.length}const Ln=new F("NgValidators"),Co=new F("NgAsyncValidators"),sye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ss{static min(e){return function Jz(n){return e=>{if(Eo(e.value)||Eo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function eq(n){return e=>{if(Eo(e.value)||Eo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function tq(n){return Eo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function nq(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function iq(n){return Eo(n.value)||sye.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rq(n){return e=>Eo(e.value)||!Zz(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sq(n){return e=>Zz(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oq(n){if(!n)return z_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Eo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return hq(e)}static composeAsync(e){return fq(e)}}function z_(n){return null}function aq(n){return null!=n}function lq(n){const e=Mu(n)?lt(n):n;return ab(e),e}function cq(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uq(n,e){return e.map(t=>t(n))}function dq(n){return n.map(e=>function oye(n){return!n.validate}(e)?e:t=>e.validate(t))}function hq(n){if(!n)return null;const e=n.filter(aq);return 0==e.length?null:function(t){return cq(uq(t,e))}}function WA(n){return null!=n?hq(dq(n)):null}function fq(n){if(!n)return null;const e=n.filter(aq);return 0==e.length?null:function(t){return xz(uq(t,e).map(lq)).pipe(K(cq))}}function KA(n){return null!=n?fq(dq(n)):null}function pq(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mq(n){return n._rawValidators}function gq(n){return n._rawAsyncValidators}function YA(n){return n?Array.isArray(n)?n:[n]:[]}function q_(n,e){return Array.isArray(n)?n.includes(e):n===e}function _q(n,e){const t=YA(e);return YA(n).forEach(r=>{q_(t,r)||t.push(r)}),t}function yq(n,e){return YA(e).filter(t=>!q_(n,t))}class vq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class As extends vq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn extends vq{get formDirective(){return null}get path(){return null}}class bq{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Yh=(()=>{class n extends bq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(As,2))},n.\u0275dir=$({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Kt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[he]}),n})(),G_=(()=>{class n extends bq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Yn,10))},n.\u0275dir=$({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Kt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[he]}),n})();function Qh(n,e){ZA(n,e),e.valueAccessor.writeValue(n.value),function pye(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Eq(n,e)})}(n,e),function gye(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mye(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Eq(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fye(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Y_(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),X_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Q_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZA(n,e){const t=mq(n);null!==e.validator?n.setValidators(pq(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=gq(n);null!==e.asyncValidator?n.setAsyncValidators(pq(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Q_(e._rawValidators,r),Q_(e._rawAsyncValidators,r)}function X_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=mq(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=gq(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Q_(e._rawValidators,i),Q_(e._rawAsyncValidators,i),t}function Eq(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Cq(n,e){ZA(n,e)}function JA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Tq(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function eM(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===qa?t=s:function vye(n){return Object.getPrototypeOf(n.constructor)===za}(s)?i=s:r=s}),r||i||t||null}function tM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Xh="VALID",Z_="INVALID",qc="PENDING",Zh="DISABLED";function iM(n){return(J_(n)?n.validators:n)||null}function Dq(n){return Array.isArray(n)?WA(n):n||null}function rM(n,e){return(J_(e)?e.asyncValidators:n)||null}function Sq(n){return Array.isArray(n)?KA(n):n||null}function J_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Aq=n=>n instanceof Dn,sM=n=>n instanceof Gc;function Mq(n){return Aq(n)?n.value:n.getRawValue()}function xq(n,e){const t=sM(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new z(1e3,"");if(!i[e])throw new z(1001,"")}function kq(n,e){sM(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new z(1002,"")})}class oM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Dq(this._rawValidators),this._composedAsyncValidatorFn=Sq(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xh}get invalid(){return this.status===Z_}get pending(){return this.status==qc}get disabled(){return this.status===Zh}get enabled(){return this.status!==Zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Dq(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Sq(e)}addValidators(e){this.setValidators(_q(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_q(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yq(e,this._rawAsyncValidators))}hasValidator(e){return q_(this._rawValidators,e)}hasAsyncValidator(e){return q_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xh,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xh||this.status===qc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zh:Xh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qc,this._hasOwnPendingAsyncValidator=!0;const t=lq(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function bye(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=sM(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Eye)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?Zh:this.errors?Z_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qc)?qc:this._anyControlsHaveStatus(Z_)?Z_:Xh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){J_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Dn extends oM{constructor(e=null,t,i){super(iM(t),rM(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),J_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Gc extends oM{constructor(e,t,i){super(iM(t),rM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kq(this,e),Object.keys(e).forEach(i=>{xq(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=Mq(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Eye extends oM{constructor(e,t,i){super(iM(t),rM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kq(this,e),e.forEach((i,r)=>{xq(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Mq(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Cye={provide:Yn,useExisting:ze(()=>ey)},Jh=(()=>Promise.resolve(null))();let ey=(()=>{class n extends Yn{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ie,this.form=new Gc({},WA(t),KA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jh.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Qh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jh.then(()=>{const i=this._findContainer(t.path),r=new Gc({});Cq(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Jh.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Tq(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(y(Ln,10),y(Co,10))},n.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([Cye]),he]}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Dye={provide:Yi,useExisting:ze(()=>aM),multi:!0};let aM=(()=>{class n extends za{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=qt(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&Me("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ue([Dye]),he]}),n})(),Fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();const lM=new F("NgModelWithFormControlWarning"),xye={provide:As,useExisting:ze(()=>cM)};let cM=(()=>{class n extends As{constructor(t,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new Ie,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=eM(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&Y_(i,this,!1),Qh(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}JA(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Y_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(y(Ln,10),y(Co,10),y(Yi,10),y(lM,8))},n.\u0275dir=$({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ue([xye]),he,Mn]}),n})();const kye={provide:Yn,useExisting:ze(()=>Ga)};let Ga=(()=>{class n extends Yn{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ie,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Qh(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Y_(t.control||null,t,!1),tM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Tq(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Y_(i||null,t),Aq(r)&&(Qh(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Cq(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _ye(n,e){return X_(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZA(this.form,this),this._oldForm&&X_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(y(Ln,10),y(Co,10))},n.\u0275dir=$({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([kye]),he,Mn]}),n})();const Pye={provide:As,useExisting:ze(()=>ef)};let ef=(()=>{class n extends As{constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eM(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),JA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function K_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(y(Yn,13),y(Ln,10),y(Co,10),y(Yi,10),y(lM,8))},n.\u0275dir=$({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ue([Pye]),he,Mn]}),n})(),Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Fq]]}),n})(),Qye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[Xq]}),n})(),Xye=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lM,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[Xq]}),n})();const Zq=Fh({passive:!0});let Zye=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Qi;const i=Cs(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ge,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,Zq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,Zq)}}),s}stopMonitoring(t){const i=Cs(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(fe))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();const Jye=new F("MAT_INPUT_VALUE_ACCESSOR"),eve=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let tve=0;const nve=xme(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let ny=(()=>{class n extends nve{constructor(t,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+tve++,this.focused=!1,this.stateChanges=new ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>YH().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=en(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Ss.required))&&void 0!==s&&s}set required(t){this._required=en(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&YH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=en(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){eve.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(ui),y(As,10),y(ey,8),y(Ga,8),y(X$),y(Jye,10),y(Zye),y(fe),y(GA,8))},n.\u0275dir=$({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&Me("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(sp("disabled",i.disabled)("required",i.required),Je("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Kt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ue([{provide:qA,useExisting:n}]),he,Mn]}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[X$],imports:[[Jq,$_,_t],Jq,$_]}),n})();function mM(n){return n instanceof bi}function gM(n){return"function"==typeof n}function t3(n){return"string"==typeof n}let ive=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&ne(0,"div",0),2&t&&R("innerHTML",i.content,bk)},encapsulation:2}),n})();class rve{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){var e;1!==this.viewRef.rootNodes[0]&&(null===(e=this.element)||void 0===e||e.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class sve{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class ove{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let n3=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new ove({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new rve({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(mM(t))return this.createTemplate(t,i);if(gM(t))return this.createComponent(t,i);if(t3(t))return new sve(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(C(Ho),C(rt),C(Hl))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ave=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){var t,i;null===(t=this.viewRef)||void 0===t||t.destroy(),t3(this.view)?(this.viewRef=this.viewService.createComponent(ive,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:null!==(i=this.injector)&&void 0!==i?i:this.vcr.injector,context:this.context})}ngOnDestroy(){var t;null===(t=this.viewRef)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(y(bi),y(ti),y(n3))},n.\u0275dir=$({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[Mn]}),n})(),lve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({}),n})();const{isArray:cve}=Array;const fve=["*"],pve=function(n,e){return{"border-color":n,"border-right-color":e}};function mve(n,e){if(1&n&&(D(0,"div"),M(1,"\n        "),ne(2,"hot-toast-error",2),M(3,"\n      "),x()),2&n){const t=pe(3);N(2),R("theme",t.theme)}}function gve(n,e){if(1&n&&(D(0,"div"),M(1,"\n        "),ne(2,"hot-toast-checkmark",2),M(3,"\n      "),x()),2&n){const t=pe(3);N(2),R("theme",t.theme)}}function _ve(n,e){if(1&n&&(D(0,"div"),M(1,"\n        "),ne(2,"hot-toast-warning",2),M(3,"\n      "),x()),2&n){const t=pe(3);N(2),R("theme",t.theme)}}function yve(n,e){if(1&n&&(D(0,"div"),M(1,"\n        "),ne(2,"hot-toast-info",2),M(3,"\n      "),x()),2&n){const t=pe(3);N(2),R("theme",t.theme)}}function vve(n,e){if(1&n&&(D(0,"div",4),M(1,"\n    "),D(2,"div",5),M(3,"\n      "),Z(4,mve,4,1,"div",6),M(5,"\n      "),Z(6,gve,4,1,"div",6),M(7,"\n      "),Z(8,_ve,4,1,"div",6),M(9,"\n      "),Z(10,yve,4,1,"div",6),M(11,"\n    "),x(),M(12,"\n  "),x()),2&n){const t=pe(2);N(2),R("ngSwitch",t.type),N(2),R("ngSwitchCase","error"),N(2),R("ngSwitchCase","success"),N(2),R("ngSwitchCase","warning"),N(2),R("ngSwitchCase","info")}}function bve(n,e){if(1&n&&(D(0,"div",1),M(1,"\n  "),ne(2,"hot-toast-loader",2),M(3,"\n  "),Z(4,vve,13,5,"div",3),M(5,"\n"),x()),2&n){const t=pe();N(2),R("theme",t.theme),N(2),R("ngIf","loading"!==t.type)}}const wve=["hotToastBarBase"];function Eve(n,e){if(1&n&&(Er(0),M(1,"\n          "),D(2,"hot-toast-animated-icon",10),M(3),x(),M(4,"\n        "),Cr()),2&n){const t=pe(2);N(2),R("iconTheme",t.toast.iconTheme),N(1),Dr(t.toast.icon)}}function Cve(n,e){if(1&n&&(M(0,"\n          "),D(1,"div"),M(2,"\n            "),ip(3,11),M(4,"\n          "),x(),M(5,"\n        ")),2&n){const t=pe(2);N(3),R("dynamicView",t.toast.icon)}}function Ive(n,e){if(1&n&&(Er(0),M(1,"\n        "),Z(2,Eve,5,2,"ng-container",4),M(3,"\n        "),Z(4,Cve,6,1,"ng-template",null,9,Bu),M(6,"\n      "),Cr()),2&n){const t=$s(5),i=pe();N(2),R("ngIf",i.isIconString)("ngIfElse",t)}}function Tve(n,e){if(1&n&&(M(0,"\n        "),ne(1,"hot-toast-indicator",12),M(2,"\n      ")),2&n){const t=pe();N(1),R("theme",t.toast.iconTheme)("type",t.toast.type)}}function Dve(n,e){1&n&&ip(0)}function Sve(n,e){if(1&n){const t=zs();D(0,"button",13),Me("click",function(){return Un(t),pe().close()}),x()}2&n&&R("ngStyle",pe().toast.closeStyle)}function Ave(n,e){if(1&n){const t=zs();D(0,"hot-toast",3),Me("height",function(r){const o=Un(t).$implicit;return pe().updateHeight(r,o)})("beforeClosed",function(){const s=Un(t).$implicit;return pe().beforeClosed(s)})("afterClosed",function(r){return Un(t),pe().afterClosed(r)}),x()}if(2&n){const t=e.$implicit,i=e.index,r=pe();R("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const i3={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class s3{constructor(e){this.toast=e,this._onClosed=new ge}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function dve(...n){return 1===(n=function uve(n){return 1===n.length&&cve(n[0])?n[0]:n}(n)).length?fn(n[0]):new Be(function hve(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(fn(n[i]).subscribe(it(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let Rve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:fve,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(Li(),D(0,"div",0),M(1,"\n  "),kt(2),M(3,"\n"),x(),M(4,"\n")),2&t&&qs("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),Ove=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(ne(0,"div",0),M(1,"\n")),2&t&&R("ngStyle",H1(1,pve,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},directives:[sw],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),Pve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(ne(0,"div",0),M(1,"\n")),2&t&&qs("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Nve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(ne(0,"div",0),M(1,"\n")),2&t&&qs("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Fve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(ne(0,"div",0),M(1,"\n")),2&t&&qs("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),Lve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(ne(0,"div",0),M(1,"\n")),2&t&&qs("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),Vve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(Z(0,bve,6,2,"div",0),M(1,"\n")),2&t&&R("ngIf","blank"!==i.type)},directives:[Ove,Pve,Nve,Fve,Lve,ji,Gu,rw],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),o3=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new Ie,this.beforeClosed=new Ie,this.afterClosed=new Ie,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){mM(this.toast.message)&&(this.context={$implicit:this.toastRef}),gM(this.toast.message)&&(this.toastComponentInjector=rt.create({providers:[{provide:s3,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return Object.assign(Object.assign({transform:`translateY(${this.offset*(t?1:-1)}px)`},i),r)}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`,s=this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i;return Object.assign(Object.assign({},this.toast.style),{animation:s})}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(y(rt),y(Sr),y(fe))},n.\u0275cmp=He({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&Vi(wve,5),2&t){let r;Fe(r=Le())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(D(0,"div",0),M(1,"\n  "),D(2,"div",1,2),M(4,"\n    "),D(5,"div",3),M(6,"\n      "),Z(7,Ive,7,2,"ng-container",4),M(8,"\n\n      "),Z(9,Tve,3,2,"ng-template",null,5,Bu),M(11,"\n    "),x(),M(12,"\n\n    "),D(13,"div",6),M(14,"\n      "),D(15,"div"),M(16,"\n        "),Z(17,Dve,1,0,"ng-container",7),M(18,"\n      "),x(),M(19,"\n    "),x(),M(20,"\n\n    "),Z(21,Sve,1,1,"button",8),M(22,"\n  "),x(),M(23,"\n"),x(),M(24,"\n")),2&t){const r=$s(10);R("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),N(2),qs("--hot-toast-animation-state",i.isManualClose?"running":"paused"),R("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),Je("aria-live",i.toast.ariaLive)("role",i.toast.role),N(5),R("ngIf",void 0!==i.toast.icon)("ngIfElse",r),N(10),R("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),N(4),R("ngIf",i.toast.dismissible)}},directives:[Rve,Vve,sw,qu,ji,ave],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),Bve=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ge,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(a=>a.visible&&a.position===i),s=r.findIndex(a=>a.id===t);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(dt(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>Object.assign(Object.assign({},r),r.id===t.id&&Object.assign(Object.assign({},t),i)))}}return n.\u0275fac=function(t){return new(t||n)(y(ni))},n.\u0275cmp=He({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&Vi(o3,5),2&t){let r;Fe(r=Le())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(D(0,"div",0),M(1,"\n  "),D(2,"div",1),M(3,"\n    "),Z(4,Ave,1,3,"hot-toast",2),M(5,"\n  "),x(),M(6,"\n"),x(),M(7,"\n")),2&t&&(N(4),R("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},directives:[o3,nw],encapsulation:2,changeDetection:0}),n})();class _M{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class Hve{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let yM=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new _M,this._defaultPersistConfig=new Hve,r&&(this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),r))}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),t),this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",Object.assign(Object.assign({},this._defaultConfig),i))}error(t,i){var r;return this.createToast(t||this._defaultConfig.error.content,"error",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.error),i))}success(t,i){var r;return this.createToast(t||this._defaultConfig.success.content,"success",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.success),i))}loading(t,i){var r;return this.createToast(t||this._defaultConfig.loading.content,"loading",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.loading),i))}warning(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"warning",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}info(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"info",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}observe(t){return i=>{var r,s,o,a,l,c;let u,d=0;const h=null!==(r=t.loading)&&void 0!==r?r:null===(s=this._defaultConfig.loading)||void 0===s?void 0:s.content,f=null!==(o=t.success)&&void 0!==o?o:null===(a=this._defaultConfig.success)||void 0===a?void 0:a.content,p=null!==(l=t.error)&&void 0!==l?l:null===(c=this._defaultConfig.error)||void 0===c?void 0:c.content;return Jl(()=>(h&&(u=this.createLoadingToast(h),d=Date.now()),i.pipe(It(Object.assign(Object.assign({},f&&{next:m=>{u=this.createOrUpdateToast(t,m,u,"success",0===d?d:Date.now()-d)}}),p&&{error:m=>{u=this.createOrUpdateToast(t,m,u,"error",0===d?d:Date.now()-d)}})))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function k9(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(Bve).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,s,o){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,i),r){r.updateMessage(a);const c=Object.assign(Object.assign({type:s,duration:o+i3[s]},l),l.duration&&{duration:o+l.duration});r.updateToast(c)}else this.createToast(a,s,l);return r}createToast(t,i,r,s){var o,a,l,c,u,d;this._isInitialized||(this._isInitialized=!0,this.init());const h=Date.now(),f=null!==(o=null==r?void 0:r.id)&&void 0!==o?o:h.toString();if(!this.isDuplicate(f)&&(!(null===(a=r.persist)||void 0===a?void 0:a.enabled)||(null===(l=r.persist)||void 0===l?void 0:l.enabled)&&this.handleStorageValue(f,r))){const p=Object.assign({ariaLive:null!==(c=null==r?void 0:r.ariaLive)&&void 0!==c?c:"polite",createdAt:h,duration:null!==(u=null==r?void 0:r.duration)&&void 0!==u?u:i3[i],id:f,message:t,role:null!==(d=null==r?void 0:r.role)&&void 0!==d?d:"status",type:i,visible:!0,observableMessages:null!=s?s:void 0},r);return new s3(p).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const s=Object.assign(Object.assign({},this._defaultPersistConfig),i.persist),o="local"===s.storage?localStorage:sessionStorage,a=s.key.replace(/\${id}/g,t);let l=o.getItem(a);return l?(l=parseInt(l,10),r=l>0?l-1:l):r=s.count,o.setItem(a,r.toString()),r}getContentAndOptions(t,i){let r,s=Object.assign(Object.assign({},this._defaultConfig),this._defaultConfig[t]);if("string"==typeof i||mM(i)||gM(i))r=i;else{let o;({content:r}=i),o=_y(i,["content"]),s=Object.assign(Object.assign({},s),o)}return{content:r,options:s}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(n3),C(Ws),C(_M,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ve=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:_M,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Ks,lve]]}),n})();function zve(n,e){1&n&&(D(0,"mat-error"),M(1," Email is required "),x())}function qve(n,e){1&n&&(D(0,"mat-error"),M(1," Please enter a correct email format "),x())}function Gve(n,e){1&n&&(D(0,"mat-error"),M(1," Password is required "),x())}let a3=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.toast=r,this.loginForm=new Gc({email:new Dn("",[Ss.required,Ss.email]),password:new Dn("",Ss.required)})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(!this.loginForm.valid)return;const{email:t,password:i}=this.loginForm.value;this.authService.login(t,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:"There was an error"})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(y(vd),y(vn),y(yM))},n.\u0275cmp=He({type:n,selectors:[["app-login"]],decls:19,vars:4,consts:[[2,"height","15vh"],[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email address","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(ne(0,"div",0),D(1,"div",1)(2,"h1"),M(3,"Login"),x(),D(4,"form",2),Me("ngSubmit",function(){return i.submit()}),D(5,"mat-form-field"),ne(6,"input",3),Z(7,zve,2,0,"mat-error",4),Z(8,qve,2,0,"mat-error",4),x(),D(9,"mat-form-field"),ne(10,"input",5),Z(11,Gve,2,0,"mat-error",4),x(),D(12,"div",6)(13,"button",7),M(14," Login "),x()(),D(15,"span",6),M(16,"New to our platform? "),D(17,"a",8),M(18,"Sign Up!"),x()()()()),2&t&&(N(4),R("formGroup",i.loginForm),N(3),R("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),N(1),R("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),N(3),R("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required))},directives:[ty,G_,Ga,H_,ny,qa,Yh,ef,ji,qz,zh,$m],styles:[".sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}"]}),n})();function Wve(n,e){1&n&&(D(0,"mat-error"),M(1," Name is required "),x())}function Kve(n,e){1&n&&(D(0,"mat-error"),M(1," Email is required "),x())}function Yve(n,e){1&n&&(D(0,"mat-error"),M(1," Please enter a correct email format "),x())}function Qve(n,e){1&n&&(D(0,"mat-error"),M(1," Password is required "),x())}function Xve(n,e){1&n&&(D(0,"mat-error"),M(1," Confirm Password is required "),x())}function Zve(n,e){1&n&&(D(0,"mat-error"),M(1," Passwords should match "),x())}let ebe=(()=>{class n{constructor(t,i,r,s){this.authService=t,this.toast=i,this.router=r,this.usersService=s,this.signUpForm=new Gc({name:new Dn("",Ss.required),email:new Dn("",[Ss.email,Ss.required]),password:new Dn("",Ss.required),confirmPassword:new Dn("",Ss.required)},{validators:n=>{var e,t;const i=null===(e=n.get("password"))||void 0===e?void 0:e.value,r=null===(t=n.get("confirmPassword"))||void 0===t?void 0:t.value;return i&&r&&i!==r?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){if(!this.signUpForm.valid)return;const{name:t,email:i,password:r}=this.signUpForm.value;this.authService.signUp(i,r).pipe(Ot(({user:{uid:s}})=>this.usersService.addUser({uid:s,email:i,displayName:t})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing in",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(y(vd),y(yM),y(vn),y(Oh))},n.\u0275cmp=He({type:n,selectors:[["app-sign-up"]],decls:21,vars:7,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","placeholder","Password","formControlName","password","type","password"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"h1"),M(2,"Sign Up a New User!"),x(),D(3,"form",1),Me("ngSubmit",function(){return i.submit()}),D(4,"mat-form-field"),ne(5,"input",2),Z(6,Wve,2,0,"mat-error",3),x(),D(7,"mat-form-field"),ne(8,"input",4),Z(9,Kve,2,0,"mat-error",3),Z(10,Yve,2,0,"mat-error",3),x(),D(11,"mat-form-field"),ne(12,"input",5),Z(13,Qve,2,0,"mat-error",3),x(),D(14,"mat-form-field"),ne(15,"input",6),Z(16,Xve,2,0,"mat-error",3),x(),Z(17,Zve,2,0,"mat-error",3),D(18,"div",7)(19,"button",8),M(20," Sign Up! "),x()()()()),2&t&&(N(3),R("formGroup",i.signUpForm),N(3),R("ngIf",null==i.name||null==i.name.errors?null:i.name.errors.required),N(3),R("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),N(1),R("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),N(3),R("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),N(3),R("ngIf",null==i.confirmPassword||null==i.confirmPassword.errors?null:i.confirmPassword.errors.required),N(1),R("ngIf",null==i.signUpForm.errors?null:i.signUpForm.errors.passwordsDontMatch))},directives:[ty,G_,Ga,H_,ny,qa,Yh,ef,ji,qz,zh],styles:[""]}),n})(),tbe=(()=>{class n{constructor(t,i){this.firestore=t,this.usersService=i}get myChats$(){const t=Rh(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(zi(i=>{const r=KS(t,Hhe("userIds","array-contains",null==i?void 0:i.uid));return WS(r,{idField:"id"}).pipe(K(s=>this.addChatNameAndPic(null==i?void 0:i.uid,s)))}))}createChat(t){const i=Rh(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(ut(1),zi(r=>{var s,o,a,l;return qH(i,{userIds:[null==r?void 0:r.uid,null==t?void 0:t.uid],users:[{displayName:null!==(s=null==r?void 0:r.displayName)&&void 0!==s?s:"",photoURL:null!==(o=null==r?void 0:r.photoURL)&&void 0!==o?o:""},{displayName:null!==(a=t.displayName)&&void 0!==a?a:"",photoURL:null!==(l=t.photoURL)&&void 0!==l?l:""}]})}),K(r=>r.id))}isExistingChat(t){return this.myChats$.pipe(ut(1),K(i=>{for(let r=0;r<i.length;r++)if(i[r].userIds.includes(t))return i[r].id;return null}))}addChatMessage(t,i){const r=Rh(this.firestore,"chats",t,"messages"),s=i_(this.firestore,"chats",t),o=ft.fromDate(new Date);return this.usersService.currentUserProfile$.pipe(ut(1),zi(a=>qH(r,{text:i,senderId:null==a?void 0:a.uid,sentDate:o})),zi(()=>GH(s,{lastMessage:i,lastMessageDate:o})))}getChatMessages$(t){const i=Rh(this.firestore,"chats",t,"messages"),r=KS(i,Uhe("sentDate","asc"));return WS(r)}addChatNameAndPic(t,i){return i.forEach(r=>{const s=0===r.userIds.indexOf(null!=t?t:"")?1:0,{displayName:o,photoURL:a}=r.users[s];r.chatName=o,r.chatPic=a}),i}}return n.\u0275fac=function(t){return new(t||n)(C(kh),C(Oh))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nbe=["panel"];function ibe(n,e){if(1&n&&(D(0,"div",0,1),kt(2),x()),2&n){const t=e.id,i=pe();R("id",i.id)("ngClass",i._classList),Je("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const rbe=["*"];let sbe=0;class obe{constructor(e,t){this.source=e,this.option=t}}const abe=jh(class{}),l3=new F("mat-autocomplete-default-options",{providedIn:"root",factory:function lbe(){return{autoActiveFirstOption:!1}}});let cbe=(()=>{class n extends abe{constructor(t,i,r,s){super(),this._changeDetectorRef=t,this._elementRef=i,this._activeOptionChanges=nt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Ie,this.opened=new Ie,this.closed=new Ie,this.optionActivated=new Ie,this._classList={},this.id="mat-autocomplete-"+sbe++,this.inertGroups=(null==s?void 0:s.SAFARI)||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=en(t)}set classList(t){this._classList=t&&t.length?function hfe(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const s=`${r}`.trim();s&&t.push(s)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new mfe(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new obe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return n.\u0275fac=function(t){return new(t||n)(y(ni),y(Ne),y(l3),y(ui))},n.\u0275dir=$({type:n,viewQuery:function(t,i){if(1&t&&(Vi(bi,7),Vi(nbe,5)),2&t){let r;Fe(r=Le())&&(i.template=r.first),Fe(r=Le())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[he]}),n})(),ube=(()=>{class n extends cbe{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=qt(n)))(i||n)}}(),n.\u0275cmp=He({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,sz,5),Ct(r,az,5)),2&t){let s;Fe(s=Le())&&(i.optionGroups=s),Fe(s=Le())&&(i.options=s)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Ue([{provide:rz,useExisting:n}]),he],ngContentSelectors:rbe,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,i){1&t&&(Li(),Z(0,ibe,3,4,"ng-template"))},directives:[qu],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),n})();const c3=new F("mat-autocomplete-scroll-strategy"),hbe={provide:c3,deps:[zc],useFactory:function dbe(n){return()=>n.scrollStrategies.reposition()}},fbe={provide:Yi,useExisting:ze(()=>u3),multi:!0};let pbe=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=nt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ge,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Jl(()=>{const f=this.autocomplete?this.autocomplete.options:null;return f?f.changes.pipe(cr(f),Ot(()=>xi(...f.map(p=>p.onSelectionChange)))):this._zone.onStable.pipe(ut(1),Ot(()=>this.optionSelections))}),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=en(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return xi(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(dt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(dt(()=>this._overlayAttached)):Y()).pipe(K(t=>t instanceof oz?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return xi(Ds(this._document,"click"),Ds(this._document,"auxclick"),Ds(this._document,"touchend")).pipe(dt(t=>{const i=go(t),r=this._formField?this._formField._elementRef.nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!s||!s.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve().then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=_o(t);if(27===i&&!r&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===i||40===i;9===i||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this.openPanel(),(o||this.autocomplete._keyManager.activeItem!==s)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let i=t.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._onChange(r),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return xi(this._zone.onStable.pipe(ut(1)),this.autocomplete.options.changes.pipe(It(()=>this._positionStrategy.reapplyLastPosition()),N_(0))).pipe(Ot(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),r!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),ut(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,r=null!=i?i:"";this._formField?this._formField._control.value=r:this._element.nativeElement.value=r,this._previousValue=r}_setValueAndClose(t){const i=t&&t.source;i&&(this._clearPreviousSelectedOption(i),this._setTriggerValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(i=>{i!==t&&i.selected&&i.deselect()})}_attachOverlay(){var t;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new LA(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(s=>{(27===s.keyCode&&!_o(s)||38===s.keyCode&&_o(s,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),s.stopPropagation(),s.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&r!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new UA({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?i:[...i,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const i=this.autocomplete,r=function jme(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const s=i.options.toArray()[t];if(s){const o=s._getHostElement(),a=function Hme(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(o.offsetTop,o.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(zc),y(ti),y(fe),y(ni),y(c3),y(r_,8),y(GA,9),y(De,8),y(VA),y(l3,8))},n.\u0275dir=$({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Mn]}),n})(),u3=(()=>{class n extends pbe{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=qt(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){1&t&&Me("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(s){return i._handleInput(s)})("keydown",function(s){return i._handleKeydown(s)})("click",function(){return i._handleClick()}),2&t&&Je("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Ue([fbe]),he]}),n})(),mbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[hbe],imports:[[Iz,lz,_t,Ks],F_,lz,_t]}),n})();class d3{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ge,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let gbe=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=en(t)}get inset(){return this._inset}set inset(t){this._inset=en(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=He({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(Je("aria-orientation",i.vertical?"vertical":"horizontal"),Kt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[_t],_t]}),n})();const _be=["*"],vbe=["text"];function bbe(n,e){if(1&n&&ne(0,"mat-pseudo-checkbox",5),2&n){const t=pe();R("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const wbe=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Ebe=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let f3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),Cbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const Ibe=jh(class{}),Tbe=jh(class{}),Dbe={provide:Yi,useExisting:ze(()=>vM),multi:!0};class Sbe{constructor(e,t,i){this.source=e,this.option=t,this.options=i}}let p3=(()=>{class n extends Tbe{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new Ie,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=en(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=en(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function Rme(n,e,t="mat"){n.changes.pipe(cr(n)).subscribe(({length:i})=>{Hh(e,`${t}-2-line`,!1),Hh(e,`${t}-3-line`,!1),Hh(e,`${t}-multi-line`,!1),2===i||3===i?Hh(e,`${t}-${i}-line`,!0):i>3&&Hh(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),y(ni),y(ze(()=>vM)))},n.\u0275cmp=He({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,f3,5),Ct(r,Cbe,5),Ct(r,Z$,5)),2&t){let s;Fe(s=Le())&&(i._avatar=s.first),Fe(s=Le())&&(i._icon=s.first),Fe(s=Le())&&(i._lines=s)}},viewQuery:function(t,i){if(1&t&&Vi(vbe,5),2&t){let r;Fe(r=Le())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&Me("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(Je("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),Kt("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[he],ngContentSelectors:Ebe,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(Li(wbe),D(0,"div",0),ne(1,"div",1),Z(2,bbe,1,2,"mat-pseudo-checkbox",2),D(3,"div",3,4),kt(5),x(),kt(6,1),x()),2&t&&(Kt("mat-list-item-content-reverse","after"==i.checkboxPosition),N(1),R("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),N(1),R("ngIf",i.selectionList.multiple))},directives:[iz,$h,ji],encapsulation:2,changeDetection:0}),n})(),vM=(()=>{class n extends Ibe{constructor(t,i,r,s){super(),this._element=t,this._changeDetector=r,this._focusMonitor=s,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new Ie,this.tabIndex=0,this.color="accent",this.compareWith=(o,a)=>o===a,this._disabled=!1,this.selectedOptions=new d3(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new ge,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=en(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=en(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new d3(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new i$(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Di(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(cr(null),Di(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Di(this._destroyed)).subscribe(i=>{if(i.added)for(let r of i.added)r.selected=!0;if(i.removed)for(let r of i.removed)r.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(Di(this._destroyed)).subscribe(i=>{var r;if("keyboard"===i||"program"===i){let s=0;for(let o=0;o<this.options.length;o++)if(null===(r=this.options.get(o))||void 0===r?void 0:r.selected){s=o;break}this._keyManager.setActiveItem(s)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,s=r.activeItemIndex,o=_o(t);switch(i){case 32:case 13:!o&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&_o(t,"ctrlKey")&&!r.isTyping()){const a=this.options.some(l=>!l.disabled&&!l.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==s&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Sbe(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(s=>!s.selected&&this.compareWith(s.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const s=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(t)&&s.push(o)}),s.length&&(this._reportValueChange(),r&&this._emitChangeEvent(s)),s}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(y(Ne),Bs("tabindex"),y(ni),y(c_))},n.\u0275cmp=He({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&Ct(r,p3,5),2&t){let s;Fe(s=Le())&&(i.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&Me("keydown",function(s){return i._keydown(s)}),2&t&&Je("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ue([Dbe]),he,Mn],ngContentSelectors:_be,decls:1,vars:0,template:function(t,i){1&t&&(Li(),kt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Abe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[J$,R_,_t,OA,Ks],J$,_t,OA,h3]}),n})(),Mbe=(()=>{class n{constructor(t){this.datePipe=t}transform(t){var i;return null!==(i=this.datePipe.transform(null==t?void 0:t.toMillis(),"short"))&&void 0!==i?i:""}}return n.\u0275fac=function(t){return new(t||n)(y(ow,16))},n.\u0275pipe=Bn({name:"dateDisplay",type:n,pure:!0}),n})();const xbe=["endOfChat"];function kbe(n,e){if(1&n){const t=zs();D(0,"mat-option",18),Me("click",function(){const s=Un(t).$implicit;return pe().createChat(s)}),M(1),x()}if(2&n){const t=e.$implicit;R("value",""),N(1),Uo(" ",t.displayName," ")}}function Rbe(n,e){if(1&n&&(D(0,"mat-list-option",19),ne(1,"img",20),D(2,"p",21)(3,"span",22),M(4),x(),D(5,"span",23),M(6),Ar(7,"dateDisplay"),x()(),D(8,"p",24),M(9),x(),ne(10,"mat-divider"),x()),2&n){const t=e.$implicit;R("value",t.id),N(1),R("src",t.chatPic?t.chatPic:"assets/images/image-placeholder.png",Lo),N(3),Dr(t.chatName),N(2),Dr(Mr(7,5,t.lastMessageDate)),N(3),Dr(t.lastMessage)}}function Obe(n,e){if(1&n&&(D(0,"div",25),ne(1,"img",26),D(2,"h2"),M(3),x()()),2&n){const t=e.ngIf;N(1),R("src",t.chatPic?t.chatPic:"assets/images/image-placeholder.png",Lo),N(2),Dr(t.chatName)}}function Pbe(n,e){1&n&&(D(0,"h2"),M(1,"Messages"),x())}const Nbe=function(n){return{sender:n}};function Fbe(n,e){if(1&n&&(D(0,"div",28)(1,"div",29),M(2),D(3,"span",30),M(4),Ar(5,"dateDisplay"),x()()()),2&n){const t=e.$implicit,i=pe(2).ngIf;R("ngClass",function j1(n,e,t,i){return $1(S(),jn(),n,e,t,i)}(5,Nbe,t.senderId===i.uid)),N(2),Uo(" ",t.text," "),N(2),Dr(Mr(5,3,t.sentDate))}}function Lbe(n,e){if(1&n&&(Er(0),Z(1,Fbe,6,7,"div",27),Cr()),2&n){const t=e.ngIf;N(1),R("ngForOf",t)}}function Vbe(n,e){if(1&n&&(Er(0),Z(1,Lbe,2,1,"ng-container",12),Ar(2,"async"),Cr()),2&n){const t=pe();N(1),R("ngIf",Mr(2,1,t.messages$))}}let Bbe=(()=>{class n{constructor(t,i){this.usersService=t,this.chatsService=i,this.user$=this.usersService.currentUserProfile$,this.myChats$=this.chatsService.myChats$,this.searchControl=new Dn(""),this.messageControl=new Dn(""),this.chatListControl=new Dn(""),this.otherUsers$=Dm([this.usersService.allUsers$,this.user$]).pipe(K(([r,s])=>r.filter(o=>o.uid!==(null==s?void 0:s.uid)))),this.users$=Dm([this.otherUsers$,this.searchControl.valueChanges.pipe(cr(""))]).pipe(K(([r,s])=>r.filter(o=>{var a;return null===(a=o.displayName)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase())}))),this.selectedChat$=Dm([this.chatListControl.valueChanges,this.myChats$]).pipe(K(([r,s])=>s.find(o=>o.id===r[0])))}ngOnInit(){this.messages$=this.chatListControl.valueChanges.pipe(K(t=>t[0]),Ot(t=>this.chatsService.getChatMessages$(t)),It(()=>{this.scrollToBottom()}))}createChat(t){this.chatsService.isExistingChat(t.uid).pipe(Ot(i=>i?Y(i):this.chatsService.createChat(t))).subscribe(i=>{this.chatListControl.setValue([i])})}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}}return n.\u0275fac=function(t){return new(t||n)(y(Oh),y(tbe))},n.\u0275cmp=He({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&Vi(xbe,5),2&t){let r;Fe(r=Le())&&(i.endOfChat=r.first)}},decls:30,vars:18,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5"],[1,"search-input"],["matInput","","placeholder","Search for users and start a chat",3,"matAutocomplete","formControl"],["users","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"multiple","formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"messages","mat-elevation-z5"],["class","messages-header",4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"chat-area"],[4,"ngIf"],["endOfChat",""],[1,"input-area"],["appearance","outline"],["matInput","","placeholder","Enter your message...",3,"formControl","keydown.enter"],["mat-icon-button","","matSuffix","",3,"click"],[3,"value","click"],[3,"value"],["matListAvatar","",3,"src"],["mat-line","",1,"chat-title"],[1,"chat-name"],[1,"chat-date"],["mat-line",""],[1,"messages-header"],[3,"src"],["class","chat-bubble-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-bubble-container",3,"ngClass"],[1,"chat-bubble"],[1,"chat-time"]],template:function(t,i){if(1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field"),ne(4,"input",3),x(),D(5,"mat-autocomplete",null,4),Z(7,kbe,2,2,"mat-option",5),Ar(8,"async"),x()(),D(9,"mat-selection-list",6),ne(10,"mat-divider"),Z(11,Rbe,11,7,"mat-list-option",7),Ar(12,"async"),x()(),D(13,"div",8),Z(14,Obe,4,2,"div",9),Ar(15,"async"),Z(16,Pbe,2,0,"ng-template",null,10,Bu),ne(18,"mat-divider"),D(19,"div",11),Z(20,Vbe,3,3,"ng-container",12),Ar(21,"async"),ne(22,"div",null,13),x(),D(24,"div",14)(25,"mat-form-field",15)(26,"input",16),Me("keydown.enter",function(){return i.sendMessage()}),x(),D(27,"button",17),Me("click",function(){return i.sendMessage()}),D(28,"mat-icon"),M(29,"send"),x()()()()()()),2&t){const r=$s(6),s=$s(17);N(4),R("matAutocomplete",r)("formControl",i.searchControl),N(3),R("ngForOf",Mr(8,10,i.users$)),N(2),R("multiple",!1)("formControl",i.chatListControl),N(2),R("ngForOf",Mr(12,12,i.myChats$)),N(3),R("ngIf",Mr(15,14,i.selectedChat$))("ngIfElse",s),N(6),R("ngIf",Mr(21,16,i.user$)),N(6),R("formControl",i.messageControl)}},directives:[H_,ny,u3,qa,Yh,cM,ube,nw,az,vM,gbe,p3,f3,Z$,ji,qu,zh,X_e,zA],pipes:[kp,Mbe],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 70px)}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]{width:40%;margin:16px;background:#c5cae9;border-radius:16px}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]   .chat-name[_ngcontent-%COMP%]{font-weight:500}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]   .chat-date[_ngcontent-%COMP%]{font-size:.7rem;color:#000000b3}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin:24px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]{width:60%;padding:24px;margin:16px 16px 16px 8px;border-radius:16px;background:rgba(0,0,0,.05)}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;margin-right:16px;height:35px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]{height:calc(100vh - 270px);display:flex;flex-direction:column;align-items:flex-start;overflow:auto}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:auto}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-start}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%]{background:white;padding:8px 100px 18px 8px;margin-bottom:16px;border-radius:8px;width:-moz-fit-content;width:fit-content;position:relative}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%] > .chat-time[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:8px;font-size:.7rem;color:#0009}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container.sender[_ngcontent-%COMP%]{justify-content:flex-end}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container.sender[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%]{background:#c5cae9}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();const bM=K(n=>!!n);let Ube=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,s)=>{const o=r.data.authGuardPipe||(()=>bM);return bse(this.auth).pipe(ut(1),o(r,s),K(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(C(vn),C(yd))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const iy=n=>({canActivate:[Ube],data:{authGuardPipe:n}}),zbe=gf,Gbe=Symbol("__destroy"),m3=Symbol("__decoratorApplied");function g3(n){return"string"==typeof n?Symbol(`__destroy__${n}`):Gbe}function _3(n,e){n[e]||(n[e]=new ge)}function y3(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function v3(n){n instanceof nt&&n.unsubscribe()}function b3(n,e){return function(){var t;if(n&&n.call(this),y3(this,g3()),e.arrayName&&function Kbe(n){Array.isArray(n)&&n.forEach(v3)}(this[e.arrayName]),e.checkProperties)for(const i in this)(null===(t=e.blackList)||void 0===t?void 0:t.includes(i))||v3(this[i])}}Symbol("CheckerHasBeenSet");const I3="firebasestorage.googleapis.com",T3="storageBucket";class Mt extends wi{constructor(e,t,i=0){super(wM(e),`Firebase Storage: ${t} (${wM(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function wM(n){return"storage/"+n}function EM(){return new Mt("unknown","An unknown error occurred, please check the error payload for server response.")}function CM(n){return new Mt("invalid-argument",n)}function M3(){return new Mt("app-deleted","The Firebase app was deleted.")}function tf(n,e){return new Mt("invalid-format","String does not match format '"+n+"': "+e)}function nf(n){throw new Mt("internal-error","Internal error: "+n)}class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qn.makeFromUrl(e,t)}catch(r){return new Qn(e,"")}if(""===i.path)return i;throw function dwe(n){return new Mt("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(T){T.path_=decodeURIComponent(T.path)}const d=t.replace(/[.]/g,"\\."),I=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===I3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<I.length;T++){const O=I[T],H=O.regex.exec(e);if(H){let Qe=H[O.indices.path];Qe||(Qe=""),i=new Qn(H[O.indices.bucket],Qe),O.postModify(i);break}}if(null==i)throw function uwe(n){return new Mt("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class gwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ry(n){return"string"==typeof n||n instanceof String}function x3(n){return IM()&&n instanceof Blob}function IM(){return"undefined"!=typeof Blob&&!function IN(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()}function TM(n,e,t,i){if(i<e)throw CM(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw CM(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ms(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function k3(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Io=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Io||(Io={})),Io))();class Ewe{constructor(e,t,i,r,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function vwe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=EM();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(r.canceled?this.appDelete_?M3():function S3(){return new Mt("canceled","User canceled the upload/download.")}():function D3(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new sy(!1,null,!0)):this.backoffId_=function _we(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){r=setTimeout(()=>{r=null,n(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...b){if(c)return void h();if(_)return h(),void u.call(null,_,...b);if(l()||o)return h(),void u.call(null,_,...b);let I;i<64&&(i*=2),1===a?(a=2,I=0):I=1e3*(i+Math.random()),d(I)}let p=!1;function m(_){p||(p=!0,h(),!c&&(null!==r?(_||(a=2),clearTimeout(r),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new sy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Io.NO_ERROR,l=s.getStatus();if((!a||function R3(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}(l,this.additionalRetryCodes_))&&this.retry){const u=s.getErrorCode()===Io.ABORT;return void i(!1,new sy(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new sy(c,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ywe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sy{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Mwe(...n){const e=function Awe(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(IM())return new Blob(n);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}class DM{constructor(e,t){this.data=e,this.contentType=t||null}}function P3(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function N3(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw tf(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw tf(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function kwe(n){return atob(n)}(e)}catch(r){throw tf(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class F3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tf("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Nwe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class xs{constructor(e,t){let i=0,r="";x3(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(x3(this.data_)){const r=function xwe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new xs(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new xs(i,!0)}}static getBlob(...e){if(IM()){const t=e.map(i=>i instanceof xs?i.data_:i);return new xs(Mwe.apply(null,t))}{const t=e.map(o=>ry(o)?function O3(n,e){switch(n){case"raw":return new DM(P3(e));case"base64":case"base64url":return new DM(N3(n,e));case"data_url":return new DM(function Owe(n){const e=new F3(n);return e.base64?N3("base64",e.rest):function Rwe(n){let e;try{e=decodeURIComponent(n)}catch(t){throw tf("data_url","Malformed data URL.")}return P3(e)}(e.rest)}(e),function Pwe(n){return new F3(n).contentType}(e))}throw EM()}("raw",o).data:o.data_);let i=0;t.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new xs(r,!0)}}uploadData(){return this.data_}}function SM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function wwe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function L3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Vwe(n,e){return e}class Xn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Vwe}}let oy=null;function rf(){if(oy)return oy;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));const t=new Xn("name");t.xform=function e(s,o){return function Bwe(n){return!ry(n)||n.length<2?n:L3(n)}(o)},n.push(t);const r=new Xn("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),oy=n,oy}function V3(n,e,t){const i=SM(e);return null===i?null:function jwe(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const o=t[s];i[o.local]=o.xform(i,e[o.server])}return function Uwe(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Qn(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}class $r{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zr(n){if(!n)throw EM()}function Wc(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function lwe(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function awe(){return new Mt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function owe(n){return new Mt("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function cwe(n){return new Mt("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function z3(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let I="";for(let T=0;T<2;T++)I+=Math.random().toString().slice(2);return I}();o["Content-Type"]="multipart/related; boundary="+l;const c=function $3(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Xwe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function AM(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(c,t),f=xs.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===f)throw function A3(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=Ms(s,n.host,n._protocol),b=n.maxUploadRetryTime,v=new $r(m,"POST",function ay(n,e){return function t(i,r){const s=V3(n,r,e);return zr(null!==s),s}}(n,t),b);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=Wc(e),v}class iEe extends class nEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Io.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Io.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Io.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw nf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw nf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function hr(){return new iEe}class Ka{constructor(e,t){this._service=e,this._location=t instanceof Qn?t:Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ka(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L3(this._location.path)}get storage(){return this._service}get parent(){const e=function Fwe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Qn(this._location.bucket,e);return new Ka(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function mwe(n){return new Mt("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function gEe(n){n._throwIfRoot("getDownloadURL");const e=function Kwe(n,e,t){const r=Ms(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new $r(r,"GET",function Gwe(n,e){return function t(i,r){const s=V3(n,r,e);return zr(null!==s),function Hwe(n,e,t,i){const r=SM(e);if(null===r||!ry(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.fullPath;return Ms("/b/"+o(n.bucket)+"/o/"+o(d),t,i)+k3({alt:"media",token:c})})[0]}(s,r,n.host,n._protocol)}}(n,t),o);return a.errorHandler=function sf(n){const e=Wc(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function swe(n){return new Mt("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(e),a}(n.storage,n._location,rf());return n.storage.makeRequestWithTokens(e,hr).then(t=>{if(null===t)throw function pwe(){return new Mt("no-download-url","The given file does not have any download URLs.")}();return t})}function X3(n,e){if(n instanceof RM){const t=n;if(null==t._bucket)throw function hwe(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+T3+"' property when initializing the app?")}();const i=new Ka(t,t._bucket);return null!=e?X3(i,e):i}return void 0!==e?function Q3(n,e){const t=function Lwe(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Qn(n._location.bucket,t);return new Ka(n.storage,i)}(n,e):n}function Z3(n,e){const t=null==e?void 0:e[T3];return null==t?null:Qn.makeFromBucketSpec(t,n)}class RM{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=I3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qn.makeFromBucketSpec(r,this._host):Z3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Qn.makeFromBucketSpec(this._url,e):Z3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ka(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new gwe(M3());{const o=function Swe(n,e,t,i,r,s,o=!0){const a=k3(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Twe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function Cwe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function Iwe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,s),function Dwe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new Ewe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return g(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const J3="@firebase/storage",tG="storage";function EEe(n,e,t){return function W3(n,e,t){n._throwIfRoot("uploadBytes");const i=z3(n.storage,n._location,rf(),new xs(e,!0),t);return n.storage.makeRequestWithTokens(i,hr).then(r=>({metadata:r,ref:n}))}(n=st(n),e,t)}function CEe(n){return gEe(n=st(n))}function IEe(n,e){return function bEe(n,e){if(e&&function yEe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof RM)return function vEe(n,e){return new Ka(n,e)}(n,e);throw CM("To use ref(service, url), the first argument must be a Storage instance.")}return X3(n,e)}(n=st(n),e)}function TEe(n=Gp(),e){const i=Qo(n=st(n),tG).getImmediate({identifier:e}),r=DN("storage");return r&&function DEe(n,e,t,i={}){!function wEe(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:AN(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function SEe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new RM(t,i,r,e,Xo)}!function AEe(){On(new mn(tG,SEe,"PUBLIC").setMultipleInstances(!0)),ot(J3,"0.9.13",""),ot(J3,"0.9.13","esm2017")}();class cy{constructor(e){return e}}const nG="storage",OM=new F("angularfire2.storage-instances");function kEe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new cy(i)}}const REe={provide:class MEe{constructor(){return nm(nG)}},deps:[[new Ze,OM]]},OEe={provide:cy,useFactory:function xEe(n,e){const t=tm(nG,n,e);return t&&new cy(t)},deps:[[new Ze,OM],ra]};let PEe=(()=>{class n{constructor(){ot("angularfire",nd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[OEe,REe]}),n})();function NEe(n,...e){return{ngModule:PEe,providers:[{provide:OM,useFactory:kEe(n),multi:!0,deps:[fe,rt,im,rm,[new Ze,RI],[new Ze,dm],...e]}]}}const FEe=Tt(CEe,!0),LEe=Tt(TEe,!0),VEe=Tt(IEe,!0),BEe=Tt(EEe,!0);let UEe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){console.log(t);const r=VEe(this.storage,i);return lt(BEe(r,t)).pipe(Ot(o=>FEe(o.ref)))}}return n.\u0275fac=function(t){return new(t||n)(C(cy))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jEe(n,e){if(1&n){const t=zs();D(0,"div",1)(1,"h1"),M(2,"User Profile"),x(),D(3,"div",2),ne(4,"img",3),D(5,"button",4),Me("click",function(){return Un(t),$s(9).click()}),D(6,"mat-icon"),M(7,"edit"),x()()(),D(8,"input",5,6),Me("change",function(r){const o=Un(t).ngIf;return pe().uploadImage(r,o)}),x(),D(10,"form",7),Me("ngSubmit",function(){return Un(t),pe().saveProfile()}),D(11,"div",8)(12,"mat-form-field"),ne(13,"input",9),x(),D(14,"mat-form-field"),ne(15,"input",10),x()(),D(16,"div",8)(17,"mat-form-field"),ne(18,"input",11),x(),D(19,"mat-form-field"),ne(20,"input",12),x()(),D(21,"mat-form-field"),ne(22,"input",13),x(),D(23,"button",14),M(24," Save "),x()()()}if(2&n){const t=e.ngIf,i=pe();let r;N(4),R("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/images/image-placeholder.png",Lo),N(6),R("formGroup",i.profileForm)}}let Ya=class{constructor(e,t,i,r){this.authService=e,this.imageUploadService=t,this.toast=i,this.usersService=r,this.user$=this.usersService.currentUserProfile$,this.profileForm=new Gc({uid:new Dn(""),displayName:new Dn(""),firstName:new Dn(""),lastName:new Dn(""),phone:new Dn(""),address:new Dn("")})}ngOnInit(){this.usersService.currentUserProfile$.pipe(function twe(n,e){return t=>{const i=g3(e);return"string"==typeof e?function ewe(n,e,t){const i=n[e];_3(n,t),n[e]=function(){i.apply(this,arguments),y3(this,t),n[e]=i}}(n,e,i):_3(n,i),t.pipe(Di(n[i]))}}(this)).subscribe(e=>{this.profileForm.patchValue(Object.assign({},e))})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"Image is being uploaded...",success:"Image uploaded!",error:"There was an error in uploading"}),zi(i=>this.usersService.updateUser({uid:t.uid,photoURL:i}))).subscribe()}saveProfile(){this.usersService.updateUser(this.profileForm.value).pipe(this.toast.observe({loading:"Updating data...",success:"Data has been updated",error:"There was an error in updating the data"})).subscribe()}};Ya.\u0275fac=function(e){return new(e||Ya)(y(vd),y(UEe),y(yM),y(Oh))},Ya.\u0275cmp=He({type:Ya,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["type","number","matInput","","formControlName","phone","placeholder","Phone"],["type","text","matInput","","formControlName","address","placeholder","Address"],["type","submit","mat-raised-button","","color","primary",1,"margin-top"]],template:function(e,t){1&e&&(Z(0,jEe,25,2,"div",0),Ar(1,"async")),2&e&&R("ngIf",Mr(1,1,t.user$))},directives:[ji,zh,zA,ty,G_,Ga,H_,ny,qa,Yh,ef,aM],pipes:[kp],styles:["[_nghost-%COMP%]{padding:32px}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),Ya=function DG(n,e,t,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}([function Xbe(n={}){return e=>{!function qbe(n){return!!n[zbe]}(e)?function Ybe(n,e){n.prototype.ngOnDestroy=b3(n.prototype.ngOnDestroy,e)}(e,n):function Qbe(n,e){const t=n.\u0275pipe;t.onDestroy=b3(t.onDestroy,e)}(e,n),function Wbe(n){n.prototype[m3]=!0}(e)}}()],Ya);const iG=()=>(n=>jM(bM,K(e=>e||n)))(["login"]),rG=()=>(n=>jM(bM,K(e=>e&&n||!0)))(["home"]),HEe=[{path:"",pathMatch:"full",component:a3},Object.assign({path:"login",component:a3},iy(rG)),Object.assign({path:"sign-up",component:ebe},iy(rG)),Object.assign({path:"home",component:Bbe},iy(iG)),Object.assign({path:"profile",component:Ya},iy(iG))];let $Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({imports:[[Ks,wB.forRoot(HEe)],wB]}),n})();const PM_firebase={apiKey:"AIzaSyAEwqh4bjitmNGxr2fz3okjNQMFb1-mnXc",authDomain:"tomatochat-897bd.firebaseapp.com",projectId:"tomatochat-897bd",storageBucket:"tomatochat-897bd.appspot.com",messagingSenderId:"424794730941",appId:"1:424794730941:web:94ea516de22ffafb75e2d4",measurementId:"G-7QT98GGCQE"},To=new Be(Zc),qEe={connector:()=>new ge};function sG(n,e=qEe){const{connector:t}=e;return mt((i,r)=>{const s=t();fn(n(function zEe(n){return new Be(e=>n.subscribe(e))}(s))).subscribe(r),r.add(i.subscribe(s))})}const af="Service workers are disabled or not supported by this browser";class uy{constructor(e){if(this.serviceWorker=e,e){const i=Ds(e,"controllerchange").pipe(K(()=>e.controller)),s=bd(Jl(()=>Y(e.controller)),i);this.worker=s.pipe(dt(u=>!!u)),this.registration=this.worker.pipe(Ot(()=>e.getRegistration()));const c=Ds(e,"message").pipe(K(u=>u.data)).pipe(dt(u=>u&&u.type)).pipe(function WEe(n){return n?e=>sG(n)(e):e=>function GEe(n,e){const t=se(n)?n:()=>n;return se(e)?sG(e,{connector:t}):i=>new yV(i,t)}(new ge)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function KEe(n){return Jl(()=>Zl(new Error(n)))}(af)}postMessage(e,t){return this.worker.pipe(ut(1),It(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(dt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(ut(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(dt(t=>t.nonce===e),ut(1),K(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let YEe=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new ge,!t.isEnabled)return this.messages=To,this.notificationClicks=To,void(this.subscription=To);this.messages=this.sw.eventsOfType("PUSH").pipe(K(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(K(r=>r.data)),this.pushManager=this.sw.registration.pipe(K(r=>r.pushManager));const i=this.pushManager.pipe(Ot(r=>r.getSubscription()));this.subscription=xi(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(af));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(Ot(o=>o.subscribe(i)),ut(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ut(1),Ot(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(af))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(C(uy))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),QEe=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=To,this.available=To,this.activated=To,void(this.unrecoverable=To);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(dt(i=>"VERSION_READY"===i.type),K(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(af));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(af));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(C(uy))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class NM{}const oG=new F("NGSW_REGISTER_SCRIPT");function XEe(n,e,t,i){return()=>{if(!cw(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Y(null);break;case"registerWithDelay":s=aG(+l[0]||0);break;case"registerWhenStable":s=l[0]?xi(lG(n),aG(+l[0])):lG(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(fe).runOutsideAngular(()=>s.pipe(ut(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function aG(n){return Y(null).pipe(N_(n))}function lG(n){return n.get(Hl).isStable.pipe(dt(t=>t))}function ZEe(n,e){return new uy(cw(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let JEe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:oG,useValue:t},{provide:NM,useValue:i},{provide:uy,useFactory:ZEe,deps:[NM,Ws]},{provide:gp,useFactory:XEe,deps:[rt,oG,NM,Ws],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n}),n.\u0275inj=ye({providers:[YEe,QEe]}),n})(),eCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=we({type:n,bootstrap:[D_e]}),n.\u0275inj=ye({providers:[ow],imports:[[_N,Ime,Kme,C_e,ege,$_,e3,Xye,$Ee,Qye,Lte(()=>Vte(PM_firebase)),yse(()=>Ese()),NEe(()=>LEe()),Lhe(()=>Bhe()),$ve.forRoot(),n_e,Abe,e3,$_,mbe,h3,JEe.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function WY(){kP=!1})(),rX().bootstrapModule(eCe).catch(n=>console.error(n))}},se=>{se(se.s=67)}]);